(self.webpackChunkspark_adhd_rn=self.webpackChunkspark_adhd_rn||[]).push([[39],{10380(e,t,n){var r=n(18772);Object.defineProperty(t,"__esModule",{value:!0}),t.EmptyState=void 0;var o=r(n(25602)),a=n(71582),s=n(46586),l=n(56045),i=this,u="C:\\Users\\Steve\\OneDrive\\Desktop\\Github Repos\\spark-adhd\\src\\components\\ui\\EmptyState.tsx",c=(t.EmptyState=function(e){var t=e.icon,n=e.title,r=e.description,s=e.primaryActionLabel,m=e.onPrimaryAction,f=e.primaryVariant,d=void 0===f?"primary":f,p=e.style,_=e.testID;return o.default.createElement(a.View,{style:[c.container,p],testID:_,__self:i,__source:{fileName:u,lineNumber:28,columnNumber:5}},t&&o.default.createElement(a.Text,{style:c.icon,__self:i,__source:{fileName:u,lineNumber:29,columnNumber:16}},t),o.default.createElement(a.Text,{style:c.title,__self:i,__source:{fileName:u,lineNumber:30,columnNumber:7}},n),r&&o.default.createElement(a.Text,{style:c.description,__self:i,__source:{fileName:u,lineNumber:31,columnNumber:23}},r),s&&m&&o.default.createElement(a.View,{style:c.actionContainer,__self:i,__source:{fileName:u,lineNumber:33,columnNumber:9}},o.default.createElement(l.LinearButton,{title:s,onPress:m,variant:d,__self:i,__source:{fileName:u,lineNumber:34,columnNumber:11}})))},a.StyleSheet.create({container:{alignItems:"center",justifyContent:"center",padding:s.Tokens.spacing[8]},icon:{fontFamily:s.Tokens.type.fontFamily.sans,fontSize:s.Tokens.type["5xl"],marginBottom:s.Tokens.spacing[4],textAlign:"center"},title:{fontFamily:s.Tokens.type.fontFamily.mono,color:s.Tokens.colors.text.secondary,fontSize:s.Tokens.type.sm,letterSpacing:2,textAlign:"center",textTransform:"uppercase"},description:{fontFamily:s.Tokens.type.fontFamily.mono,color:s.Tokens.colors.text.tertiary,fontSize:s.Tokens.type.xs,textAlign:"center",marginTop:s.Tokens.spacing[2],maxWidth:300},actionContainer:{marginTop:s.Tokens.spacing[6]}}))},30039(e,t,n){var r=n(18772),o=n(66584);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(16578)),s=r(n(51750)),l=r(n(3791)),i=r(n(26007)),u=r(n(58361)),c=function(e){if("function"==typeof WeakMap){var t=new WeakMap;new WeakMap}return function(e){if(e&&e.__esModule)return e;var n,r,a={__proto__:null,default:e};if(null===e||"object"!=o(e)&&"function"!=typeof e)return a;if(n=t){if(n.has(e))return n.get(e);n.set(e,a)}for(var s in e)"default"!==s&&{}.hasOwnProperty.call(e,s)&&((r=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,s))&&(r.get||r.set)?n(a,s,r):a[s]=e[s]);return a}(e)}(n(25602)),m=n(71582),f=r(n(40629)),d=r(n(93400)),p=r(n(46414)),_=n(15547),g=n(42745),b=n(56045),y=n(10380),T=n(46586),k=n(59354),N=n(2865),x=n(18878),S=r(n(89441)),E=this,h="C:\\Users\\Steve\\OneDrive\\Desktop\\Github Repos\\spark-adhd\\src\\screens\\FogCutterScreen.tsx";function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){(0,l.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.default=function(e){var t,n=e.navigation,r=(0,c.useState)(""),o=(0,u.default)(r,2),l=o[0],v=o[1],w=(0,c.useState)([]),F=(0,u.default)(w,2),O=F[0],B=F[1],P=(0,c.useState)(!1),A=(0,u.default)(P,2),I=A[0],D=A[1],j=(0,c.useState)(""),R=(0,u.default)(j,2),z=R[0],L=R[1],V=(0,c.useState)([]),W=(0,u.default)(V,2),H=W[0],M=W[1],G=(0,c.useState)(null),U=(0,u.default)(G,2),K=U[0],Y=U[1],J=(0,c.useState)(!0),q=(0,u.default)(J,2),X=q[0],Q=q[1],Z=(0,c.useState)(!1),$=(0,u.default)(Z,2),ee=$[0],te=$[1],ne=(0,c.useState)(!0),re=(0,u.default)(ne,2),oe=re[0],ae=re[1],se=(0,c.useState)(null),le=(0,u.default)(se,2),ie=le[0],ue=le[1],ce=(0,c.useRef)(null),me=(0,k.useTheme)().isCosmic,fe=(t=(0,i.default)(a.default.mark(function e(){var t,n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l.trim()&&!I){e.next=1;break}return e.abrupt("return");case 1:return D(!0),d.default.track("fog_cutter_ai_breakdown_requested",{taskLength:l.length}),e.prev=2,e.next=3,S.default.generateMicroSteps(l);case 3:t=e.sent,m.LayoutAnimation.configureNext(m.LayoutAnimation.Presets.easeInEaseOut),B(t.map(function(e){return e.text})),t.length>0&&d.default.track("fog_cutter_ai_breakdown_success",{stepCount:t.length}),e.next=5;break;case 4:e.prev=4,n=e.catch(2),console.error("AI breakdown failed",n);case 5:return e.prev=5,D(!1),e.finish(5);case 6:case"end":return e.stop()}},e,null,[[2,4,5,6]])})),function(){return t.apply(this,arguments)});(0,c.useEffect)(function(){"android"===m.Platform.OS&&m.UIManager.setLayoutAnimationEnabledExperimental&&m.UIManager.setLayoutAnimationEnabledExperimental(!0);var e,t=(e=(0,i.default)(a.default.mark(function e(){var t,n,r,o,s,l;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=1,Promise.all([f.default.getJSON(f.default.STORAGE_KEYS.tasks),f.default.getJSON(f.default.STORAGE_KEYS.firstSuccessGuideState)]);case 1:t=e.sent,n=(0,u.default)(t,2),r=n[0],o=n[1],ae(!!o&&!!o.fogCutterDismissed),r&&Array.isArray(r)&&(s=r.filter(function(e){return Boolean((null==e?void 0:e.id)&&(null==e?void 0:e.text)&&Array.isArray(null==e?void 0:e.microSteps))}).map(function(e){return C(C({},e),{},{microSteps:(0,g.normalizeMicroSteps)(e.microSteps)})}),M(s)),e.next=3;break;case 2:e.prev=2,l=e.catch(0),console.error("Failed to load tasks",l);case 3:return e.prev=3,Q(!1),e.finish(3);case 4:case"end":return e.stop()}},e,null,[[0,2,3,4]])})),function(){return e.apply(this,arguments)});t()},[]),(0,c.useEffect)(function(){f.default.setJSON(f.default.STORAGE_KEYS.tasks,H)},[H]);var de,pe=function(){z.trim()&&(B([].concat((0,s.default)(O),[z.trim()])),L(""))},_e=function(){if(l.trim()&&O.length>0){var e=(0,g.normalizeMicroSteps)(O),t={id:(0,_.generateId)(),text:l,completed:!1,microSteps:e};M(function(e){return[].concat((0,s.default)(e),[t])}),ue(t.id),oe||ee||(d.default.track("fog_cutter_first_task_saved"),m.LayoutAnimation.configureNext(m.LayoutAnimation.Presets.easeInEaseOut),te(!0)),v(""),B([])}},ge=(de=(0,i.default)(a.default.mark(function e(){var t,r,o,s,l;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m.LayoutAnimation.configureNext(m.LayoutAnimation.Presets.easeInEaseOut),te(!1),ae(!0),e.next=1,f.default.getJSON(f.default.STORAGE_KEYS.firstSuccessGuideState);case 1:if(s=t=e.sent,!(o=null!==s)){e.next=2;break}o=void 0!==t;case 2:if(!o){e.next=3;break}l=t,e.next=4;break;case 3:l={};case 4:return r=l,e.next=5,f.default.setJSON(f.default.STORAGE_KEYS.firstSuccessGuideState,C(C({},r),{},{fogCutterDismissed:!0}));case 5:return e.next=6,p.default.requestPendingStart({source:"fogcutter_handoff",requestedAt:(new Date).toISOString(),context:{taskId:null!=ie?ie:void 0,reason:"user_completed_fog_cutter_decomposition"}});case 6:null==n||n.navigate(N.ROUTES.FOCUS);case 7:case"end":return e.stop()}},e)})),function(){return de.apply(this,arguments)}),be=function(e){return m.StyleSheet.create({container:{flex:1,backgroundColor:e?"transparent":T.Tokens.colors.neutral.darkest},scrollContent:{flex:1,alignItems:"center"},content:{flex:1,width:"100%",maxWidth:T.Tokens.layout.maxWidth.prose,padding:T.Tokens.spacing[4]},header:{marginBottom:T.Tokens.spacing[6],flexDirection:"row",alignItems:"center",width:"100%",paddingBottom:T.Tokens.spacing[2],justifyContent:"space-between"},title:{fontFamily:T.Tokens.type.fontFamily.mono,fontSize:T.Tokens.type.lg,fontWeight:"700",color:e?"#EEF2FF":T.Tokens.colors.text.primary,letterSpacing:1,textTransform:"uppercase"},headerLine:{flex:1,height:1,backgroundColor:e?"#0B1022":T.Tokens.colors.neutral.dark,marginLeft:T.Tokens.spacing[4]},rationaleCard:{marginBottom:T.Tokens.spacing[4]},rationaleTitle:{fontFamily:T.Tokens.type.fontFamily.mono,fontSize:T.Tokens.type.xs,fontWeight:"700",color:e?"#8B5CF6":T.Tokens.colors.brand[500],letterSpacing:1,marginBottom:T.Tokens.spacing[2],textTransform:"uppercase"},rationaleText:{fontFamily:T.Tokens.type.fontFamily.body,fontSize:T.Tokens.type.sm,color:e?"#B9C2D9":T.Tokens.colors.text.secondary,lineHeight:22,flexWrap:"wrap"},creationCard:{marginBottom:T.Tokens.spacing[6]},creationHeader:{marginBottom:T.Tokens.spacing[4]},cardTitle:{fontFamily:T.Tokens.type.fontFamily.mono,fontSize:T.Tokens.type.xs,fontWeight:"700",color:e?"#B9C2D9":T.Tokens.colors.text.secondary,letterSpacing:1,textTransform:"uppercase"},inputGroup:{marginBottom:T.Tokens.spacing[4]},aiButtonContainer:{alignItems:"flex-end"},input:C({backgroundColor:e?"#0B1022":T.Tokens.colors.neutral.darker,borderRadius:e?8:0,paddingHorizontal:T.Tokens.spacing[3],color:e?"#EEF2FF":T.Tokens.colors.text.primary,fontFamily:T.Tokens.type.fontFamily.mono,fontSize:T.Tokens.type.sm,marginBottom:T.Tokens.spacing[3],height:48,borderWidth:1,borderColor:e?"rgba(42, 53, 82, 0.3)":T.Tokens.colors.neutral.border},m.Platform.select({web:{outlineStyle:"none",transition:"border-color 0.2s ease"}})),marginBottom8:{marginBottom:8},inputFocused:C({borderColor:e?"#8B5CF6":T.Tokens.colors.brand[500],backgroundColor:e?"#111A33":T.Tokens.colors.neutral.darkest},m.Platform.select({web:e?{boxShadow:"0 0 0 2px rgba(139,92,246,0.3), 0 0 30px rgba(139,92,246,0.25)"}:{}})),addStepRow:{flexDirection:"row",marginBottom:T.Tokens.spacing[3],gap:T.Tokens.spacing[2]},stepInput:C({flex:1,backgroundColor:e?"#0B1022":T.Tokens.colors.neutral.darker,borderRadius:e?8:0,paddingHorizontal:T.Tokens.spacing[3],color:e?"#EEF2FF":T.Tokens.colors.text.primary,fontFamily:T.Tokens.type.fontFamily.mono,fontSize:T.Tokens.type.sm,height:48,borderWidth:1,borderColor:e?"rgba(42, 53, 82, 0.3)":T.Tokens.colors.neutral.border},m.Platform.select({web:{outlineStyle:"none",transition:"border-color 0.2s ease"}})),addButton:{width:48,height:48,paddingHorizontal:0,justifyContent:"center",alignItems:"center",borderRadius:e?8:0},previewContainer:{backgroundColor:e?"#111A33":T.Tokens.colors.neutral.darkest,borderRadius:e?8:0,padding:T.Tokens.spacing[4],marginBottom:T.Tokens.spacing[3],borderWidth:1,borderStyle:"dashed",borderColor:e?"rgba(42, 53, 82, 0.3)":T.Tokens.colors.neutral.border},previewTitle:{fontFamily:T.Tokens.type.fontFamily.mono,color:T.Tokens.colors.text.tertiary,fontSize:T.Tokens.type.xxs,fontWeight:"700",marginBottom:T.Tokens.spacing[2],textTransform:"uppercase",letterSpacing:1},microStep:{flexDirection:"row",alignItems:"center",paddingVertical:2},stepNumber:{color:T.Tokens.colors.text.tertiary,width:T.Tokens.spacing[6],fontSize:T.Tokens.type.xs,fontWeight:"bold",marginRight:T.Tokens.spacing[2],fontFamily:T.Tokens.type.fontFamily.mono},stepText:{fontFamily:T.Tokens.type.fontFamily.mono,color:e?"#B9C2D9":T.Tokens.colors.text.secondary,fontSize:T.Tokens.type.sm},saveButton:{marginTop:T.Tokens.spacing[2]},divider:{height:1,backgroundColor:e?"rgba(42, 53, 82, 0.3)":T.Tokens.colors.neutral.border,width:"100%",marginBottom:T.Tokens.spacing[6]},sectionHeader:{fontFamily:T.Tokens.type.fontFamily.mono,fontSize:T.Tokens.type.xs,fontWeight:"700",color:T.Tokens.colors.text.tertiary,textTransform:"uppercase",letterSpacing:1,marginBottom:T.Tokens.spacing[3]},taskList:{flex:1},listContent:{paddingBottom:T.Tokens.spacing[20]},taskCard:C({backgroundColor:e?"#111A33":T.Tokens.colors.neutral.darkest,borderRadius:e?12:0,padding:T.Tokens.spacing[4],marginBottom:T.Tokens.spacing[2],borderWidth:1,borderColor:e?"rgba(42, 53, 82, 0.3)":T.Tokens.colors.neutral.border,minHeight:64,justifyContent:"center"},m.Platform.select({web:{transition:"all 0.2s ease",cursor:"pointer"}})),taskCardHovered:C({borderColor:e?"#8B5CF6":T.Tokens.colors.brand[500],zIndex:1},m.Platform.select({web:e?{boxShadow:"0 0 0 1px rgba(139,92,246,0.3), 0 0 20px rgba(139,92,246,0.2)"}:{}})),taskCardPressed:{backgroundColor:e?"#0B1022":T.Tokens.colors.neutral.darker},taskCardCompleted:{opacity:.5,backgroundColor:e?"#111A33":T.Tokens.colors.neutral.darker},taskHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:T.Tokens.spacing[1]},taskText:{fontFamily:T.Tokens.type.fontFamily.sans,color:e?"#EEF2FF":T.Tokens.colors.text.primary,fontSize:T.Tokens.type.base,fontWeight:"700",flex:1,marginRight:T.Tokens.spacing[2]},completed:{textDecorationLine:"line-through",color:e?"#B9C2D9":T.Tokens.colors.text.secondary},doneBadge:{backgroundColor:e?"#0B1022":T.Tokens.colors.neutral.dark,color:e?"#B9C2D9":T.Tokens.colors.text.secondary,fontSize:T.Tokens.type.xxs,fontWeight:"700",paddingHorizontal:6,paddingVertical:2,borderRadius:e?8:0,overflow:"hidden",fontFamily:T.Tokens.type.fontFamily.mono},activeStepContainer:{marginTop:T.Tokens.spacing[2],paddingLeft:T.Tokens.spacing[2],borderLeftWidth:1,borderLeftColor:e?"#8B5CF6":T.Tokens.colors.brand[500]},activeStepLabel:{fontFamily:T.Tokens.type.fontFamily.mono,fontSize:T.Tokens.type.xxs,color:T.Tokens.colors.text.tertiary,marginBottom:1,letterSpacing:.5},activeStepText:{fontFamily:T.Tokens.type.fontFamily.mono,fontSize:T.Tokens.type.xs,color:e?"#B9C2D9":T.Tokens.colors.text.secondary},stepCountText:{fontFamily:T.Tokens.type.fontFamily.mono,color:T.Tokens.colors.text.tertiary,fontSize:T.Tokens.type.xs,letterSpacing:1},loadingContainer:{padding:T.Tokens.spacing[8],alignItems:"center",gap:T.Tokens.spacing[4]},loadingText:{fontFamily:T.Tokens.type.fontFamily.mono,fontSize:T.Tokens.type.xs,color:e?"#B9C2D9":T.Tokens.colors.text.secondary,letterSpacing:1,textTransform:"uppercase"},emptyState:{marginTop:T.Tokens.spacing[8],opacity:.5},guideBanner:{backgroundColor:e?"#0B1022":T.Tokens.colors.neutral.dark,borderWidth:1,borderColor:e?"#8B5CF6":T.Tokens.colors.brand[500],padding:T.Tokens.spacing[3],marginBottom:T.Tokens.spacing[6],flexDirection:"row",alignItems:"center",justifyContent:"space-between",gap:T.Tokens.spacing[4],borderRadius:e?12:0},guideContent:{flex:1},guideTitle:{fontFamily:T.Tokens.type.fontFamily.mono,fontSize:T.Tokens.type.xs,fontWeight:"700",color:e?"#8B5CF6":T.Tokens.colors.brand[500],marginBottom:T.Tokens.spacing[1],letterSpacing:1},guideText:{fontFamily:T.Tokens.type.fontFamily.mono,fontSize:T.Tokens.type.xs,color:e?"#EEF2FF":T.Tokens.colors.text.primary},guideButton:{paddingVertical:4,paddingHorizontal:8,borderWidth:1,borderColor:e?"rgba(42, 53, 82, 0.3)":T.Tokens.colors.neutral.border,backgroundColor:e?"#111A33":T.Tokens.colors.neutral.darkest,borderRadius:e?8:0},guideButtonPressed:{backgroundColor:e?"#0B1022":T.Tokens.colors.neutral.darker},guideButtonText:{fontFamily:T.Tokens.type.fontFamily.mono,fontSize:T.Tokens.type.xxs,fontWeight:"700",color:e?"#EEF2FF":T.Tokens.colors.text.primary,textTransform:"uppercase"}})}(me);return c.default.createElement(x.CosmicBackground,{variant:"ridge",dimmer:!0,__self:E,__source:{fileName:h,lineNumber:218,columnNumber:5}},c.default.createElement(m.SafeAreaView,{style:be.container,__self:E,__source:{fileName:h,lineNumber:219,columnNumber:7}},c.default.createElement(m.View,{style:be.scrollContent,__self:E,__source:{fileName:h,lineNumber:220,columnNumber:9}},c.default.createElement(m.View,{style:be.content,__self:E,__source:{fileName:h,lineNumber:221,columnNumber:11}},c.default.createElement(m.View,{style:be.header,__self:E,__source:{fileName:h,lineNumber:222,columnNumber:13}},c.default.createElement(m.Text,{style:be.title,__self:E,__source:{fileName:h,lineNumber:223,columnNumber:15}},"FOG_CUTTER"),c.default.createElement(m.View,{style:be.headerLine,__self:E,__source:{fileName:h,lineNumber:224,columnNumber:15}})),c.default.createElement(x.GlowCard,{glow:"soft",tone:"base",padding:"md",style:be.rationaleCard,__self:E,__source:{fileName:h,lineNumber:227,columnNumber:13}},c.default.createElement(m.Text,{style:be.rationaleTitle,__self:E,__source:{fileName:h,lineNumber:233,columnNumber:15}},"WHY THIS WORKS"),c.default.createElement(m.Text,{style:be.rationaleText,__self:E,__source:{fileName:h,lineNumber:234,columnNumber:15}},"CBT/CADDI research shows ADHD paralysis comes from seeing tasks as monolithic. Breaking tasks into micro-steps (2-5 minutes each) reduces cognitive load and creates multiple completion wins that build dopamine and momentum.")),c.default.createElement(x.GlowCard,{glow:"medium",tone:"raised",padding:"md",style:be.creationCard,__self:E,__source:{fileName:h,lineNumber:242,columnNumber:13}},c.default.createElement(m.View,{style:be.creationHeader,__self:E,__source:{fileName:h,lineNumber:248,columnNumber:15}},c.default.createElement(m.Text,{style:be.cardTitle,__self:E,__source:{fileName:h,lineNumber:249,columnNumber:17}},"DECOMPOSE_TASK")),c.default.createElement(m.View,{style:be.inputGroup,__self:E,__source:{fileName:h,lineNumber:251,columnNumber:15}},c.default.createElement(m.TextInput,{ref:ce,style:[be.input,"main"===K&&be.inputFocused,be.marginBottom8],placeholder:"> INPUT_OVERWHELMING_TASK",placeholderTextColor:T.Tokens.colors.text.placeholder,value:l,onChangeText:v,onFocus:function(){return Y("main")},onBlur:function(){return Y(null)},__self:E,__source:{fileName:h,lineNumber:252,columnNumber:17}}),c.default.createElement(m.View,{style:be.aiButtonContainer,__self:E,__source:{fileName:h,lineNumber:266,columnNumber:17}},c.default.createElement(x.RuneButton,{variant:"secondary",size:"sm",onPress:fe,disabled:!l.trim()||I,loading:I,__self:E,__source:{fileName:h,lineNumber:267,columnNumber:19}},I?"ANALYSING...":"AI_BREAKDOWN"))),c.default.createElement(m.View,{style:be.addStepRow,__self:E,__source:{fileName:h,lineNumber:279,columnNumber:15}},c.default.createElement(m.TextInput,{style:[be.stepInput,"step"===K&&be.inputFocused],placeholder:"> ADD_MICRO_STEP",placeholderTextColor:T.Tokens.colors.text.placeholder,value:z,onChangeText:L,onSubmitEditing:pe,onFocus:function(){return Y("step")},onBlur:function(){return Y(null)},__self:E,__source:{fileName:h,lineNumber:280,columnNumber:17}}),c.default.createElement(b.LinearButton,{title:"+",onPress:pe,variant:"secondary",style:be.addButton,__self:E,__source:{fileName:h,lineNumber:293,columnNumber:17}})),O.length>0&&c.default.createElement(m.View,{style:be.previewContainer,__self:E,__source:{fileName:h,lineNumber:302,columnNumber:17}},c.default.createElement(m.Text,{style:be.previewTitle,__self:E,__source:{fileName:h,lineNumber:303,columnNumber:19}},"SEQUENCE:"),c.default.createElement(m.FlatList,{data:O,renderItem:function(e){var t=e.item,n=e.index;return c.default.createElement(m.View,{style:be.microStep,__self:E,__source:{fileName:h,lineNumber:207,columnNumber:5}},c.default.createElement(m.Text,{testID:"microstep-number-".concat(n+1),style:be.stepNumber,__self:E,__source:{fileName:h,lineNumber:208,columnNumber:7}},(n+1).toString().padStart(2,"0")),c.default.createElement(m.Text,{style:be.stepText,__self:E,__source:{fileName:h,lineNumber:211,columnNumber:7}},t))},keyExtractor:function(e,t){return t.toString()},scrollEnabled:!1,__self:E,__source:{fileName:h,lineNumber:304,columnNumber:19}})),me?c.default.createElement(x.RuneButton,{variant:"primary",size:"lg",glow:"medium",onPress:_e,disabled:0===O.length,style:be.saveButton,__self:E,__source:{fileName:h,lineNumber:314,columnNumber:17}},"EXECUTE_SAVE"):c.default.createElement(b.LinearButton,{title:"EXECUTE_SAVE",onPress:_e,disabled:0===O.length,size:"lg",style:be.saveButton,__self:E,__source:{fileName:h,lineNumber:325,columnNumber:17}})),c.default.createElement(m.View,{style:be.divider,__self:E,__source:{fileName:h,lineNumber:335,columnNumber:13}}),ee&&c.default.createElement(m.View,{style:be.guideBanner,__self:E,__source:{fileName:h,lineNumber:338,columnNumber:15}},c.default.createElement(m.View,{style:be.guideContent,__self:E,__source:{fileName:h,lineNumber:339,columnNumber:17}},c.default.createElement(m.Text,{style:be.guideTitle,__self:E,__source:{fileName:h,lineNumber:340,columnNumber:19}},"CLARITY_ACHIEVED"),c.default.createElement(m.Text,{style:be.guideText,__self:E,__source:{fileName:h,lineNumber:341,columnNumber:19}},"READY. INITIATE_IGNITE_PROTOCOL.")),c.default.createElement(m.Pressable,{onPress:ge,style:function(e){var t=e.pressed;return[be.guideButton,t&&be.guideButtonPressed]},accessibilityRole:"button",accessibilityLabel:"Dismiss guidance",__self:E,__source:{fileName:h,lineNumber:345,columnNumber:17}},c.default.createElement(m.Text,{style:be.guideButtonText,__self:E,__source:{fileName:h,lineNumber:354,columnNumber:19}},"ACK"))),c.default.createElement(m.Text,{style:be.sectionHeader,__self:E,__source:{fileName:h,lineNumber:359,columnNumber:13}},"ACTIVE_OPERATIONS"),X?c.default.createElement(m.View,{style:be.loadingContainer,__self:E,__source:{fileName:h,lineNumber:362,columnNumber:15}},c.default.createElement(m.ActivityIndicator,{size:"small",color:T.Tokens.colors.text.primary,__self:E,__source:{fileName:h,lineNumber:363,columnNumber:17}}),c.default.createElement(m.Text,{style:be.loadingText,__self:E,__source:{fileName:h,lineNumber:367,columnNumber:17}},"LOADING...")):c.default.createElement(m.FlatList,{data:H,keyExtractor:function(e){return e.id},contentContainerStyle:be.listContent,renderItem:function(e){var t=e.item;return c.default.createElement(m.Pressable,{style:function(e){var n=e.pressed,r=e.hovered;return[be.taskCard,t.completed&&be.taskCardCompleted,r&&!t.completed&&be.taskCardHovered,n&&!t.completed&&be.taskCardPressed]},onPress:function(){return e=t.id,void M(function(t){return t.map(function(t){return t.id===e?(0,g.advanceTaskProgress)(t):t})});var e},__self:E,__source:{fileName:h,lineNumber:375,columnNumber:19}},c.default.createElement(m.View,{style:be.taskHeader,__self:E,__source:{fileName:h,lineNumber:390,columnNumber:21}},c.default.createElement(m.Text,{style:[be.taskText,t.completed&&be.completed],__self:E,__source:{fileName:h,lineNumber:391,columnNumber:23}},t.text),t.completed?c.default.createElement(m.Text,{style:be.doneBadge,__self:E,__source:{fileName:h,lineNumber:400,columnNumber:25}},"CMPLTD"):c.default.createElement(m.Text,{style:be.stepCountText,__self:E,__source:{fileName:h,lineNumber:402,columnNumber:25}},(0,g.getTaskProgressSummary)(t.microSteps))),!t.completed&&c.default.createElement(m.View,{style:be.activeStepContainer,__self:E,__source:{fileName:h,lineNumber:409,columnNumber:23}},c.default.createElement(m.Text,{style:be.activeStepLabel,__self:E,__source:{fileName:h,lineNumber:410,columnNumber:25}},t.microSteps.find(function(e){return"in_progress"===e.status})?"CURRENT_STEP >>":"NEXT_STEP >>"),c.default.createElement(m.Text,{style:be.activeStepText,numberOfLines:1,__self:E,__source:{fileName:h,lineNumber:417,columnNumber:25}},(t.microSteps.find(function(e){return"in_progress"===e.status})||t.microSteps.find(function(e){return"next"===e.status})||{text:"..."}).text)))},style:be.taskList,ListEmptyComponent:c.default.createElement(y.EmptyState,{icon:"â—ˆ",title:"NO_ACTIVE_TASKS.",primaryActionLabel:"CREATE FIRST TASK",onPrimaryAction:function(){var e;return null===(e=ce.current)||void 0===e?void 0:e.focus()},primaryVariant:"secondary",style:be.emptyState,__self:E,__source:{fileName:h,lineNumber:437,columnNumber:19}}),__self:E,__source:{fileName:h,lineNumber:370,columnNumber:15}})))))}},42745(e,t,n){var r=n(18772);Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeMicroSteps=t.getTaskProgressSummary=t.ensureSingleNext=t.advanceTaskProgress=void 0;var o=r(n(51750)),a=r(n(3791)),s=n(15547);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var u=t.ensureSingleNext=function(e){var t=!1,n=!1,r=e.map(function(e){if("in_progress"===e.status&&(n=!0),"next"===e.status){if(t)return i(i({},e),{},{status:"new"});t=!0}return e});if(!t&&!n&&r.length>0){var o=r.findIndex(function(e){return"new"===e.status}),a=o>=0?o:r.findIndex(function(e){return"done"!==e.status});a>=0&&(r[a]=i(i({},r[a]),{},{status:"next"}))}return r};t.advanceTaskProgress=function(e){if(e.completed||0===e.microSteps.length)return e;var t=(0,o.default)(e.microSteps),n=t.findIndex(function(e){return"in_progress"===e.status});if(n>=0)t[n]=i(i({},t[n]),{},{status:"done"});else{var r=t.findIndex(function(e){return"next"===e.status}),a=r>=0?r:t.findIndex(function(e){return"new"===e.status});a>=0&&(t[a]=i(i({},t[a]),{},{status:"in_progress"}))}var s=u(t),l=s.every(function(e){return"done"===e.status});return i(i({},e),{},{microSteps:s,completed:l})},t.getTaskProgressSummary=function(e){var t=e.filter(function(e){return"done"===e.status}).length;return"".concat(t,"/").concat(e.length," DONE")},t.normalizeMicroSteps=function(e){if(!Array.isArray(e)||0===e.length)return[];var t=e.map(function(e,t){if("string"==typeof e)return{id:(0,s.generateId)(),text:e,status:0===t?"next":"new"};var n="new"===e.status||"next"===e.status||"in_progress"===e.status||"done"===e.status?e.status:0===t?"next":"new";return{id:e.id||(0,s.generateId)(),text:e.text,status:n}});return u(t)}},89441(e,t,n){var r=n(18772);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(16578)),a=r(n(26007)),s=r(n(66584)),l=n(8747),i=[{id:"1",text:"Write down what this task involves"},{id:"2",text:"Identify the very first physical action"},{id:"3",text:"Set a 5-minute timer and start only that first action"}];function u(e){if(!e||"object"!==(0,s.default)(e)||!Array.isArray(e.steps))return i;var t=e.steps.filter(function(e){return"string"==typeof e&&e.trim().length>0}).slice(0,5);return 0===t.length?i:t.map(function(e,t){return{id:String(t+1),text:e.trim()}})}var c={generateMicroSteps:function(e){return(0,a.default)(o.default.mark(function t(){var n,r,a,s,c,m;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.trim()){t.next=1;break}return t.abrupt("return",i);case 1:return r=new AbortController,a=setTimeout(function(){return r.abort()},l.config.aiTimeout),t.prev=2,t.next=3,fetch("".concat(l.config.apiBaseUrl,"/api/microsteps"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({task:n}),signal:r.signal});case 3:if(s=t.sent,clearTimeout(a),s.ok){t.next=4;break}return console.warn("FogCutterAI: API error, using fallback steps"),t.abrupt("return",i);case 4:return t.prev=4,t.next=5,s.json();case 5:c=t.sent,t.next=7;break;case 6:return t.prev=6,t.catch(4),t.abrupt("return",i);case 7:return t.abrupt("return",u(c));case 8:return t.prev=8,m=t.catch(2),clearTimeout(a),console.warn("FogCutterAI: unavailable, using fallback steps",m),t.abrupt("return",i);case 9:case"end":return t.stop()}},t,null,[[2,8],[4,6]])}))()},defaultSteps:i};t.default=c}}]);