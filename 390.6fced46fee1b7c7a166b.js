(self.webpackChunkspark_adhd_rn=self.webpackChunkspark_adhd_rn||[]).push([[390],{66390(e,o,t){var r=t(18772),n=t(66584);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var l=r(t(16578)),a=r(t(3791)),s=r(t(26007)),i=r(t(58361)),c=function(e){if("function"==typeof WeakMap){var o=new WeakMap;new WeakMap}return function(e){if(e&&e.__esModule)return e;var t,r,l={__proto__:null,default:e};if(null===e||"object"!=n(e)&&"function"!=typeof e)return l;if(t=o){if(t.has(e))return t.get(e);t.set(e,l)}for(var a in e)"default"!==a&&{}.hasOwnProperty.call(e,a)&&((r=(t=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,a))&&(r.get||r.set)?t(l,a,r):l[a]=e[a]);return l}(e)}(t(25602)),u=t(71582),d=t(46586),m=t(59354),b=t(18878),g=t(75128),f=this,C="C:\\Users\\Steve\\OneDrive\\Desktop\\Github Repos\\spark-adhd\\src\\screens\\CalendarScreen.tsx";function p(e,o){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);o&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,r)}return t}function T(e){for(var o=1;o<arguments.length;o++){var t=null!=arguments[o]?arguments[o]:{};o%2?p(Object(t),!0).forEach(function(o){(0,a.default)(e,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))})}return e}var k=u.StyleSheet.create({container:{flex:1,backgroundColor:d.Tokens.colors.neutral.darkest},webContainer:{flex:1,width:"100%",maxWidth:d.Tokens.layout.maxWidth.content,alignSelf:"center"},scrollView:{flex:1},scrollContent:{flexGrow:1,paddingBottom:d.Tokens.spacing[8]},content:{padding:d.Tokens.spacing[6]},title:{fontFamily:d.Tokens.type.fontFamily.sans,fontSize:d.Tokens.type.h1,fontWeight:"800",color:d.Tokens.colors.text.primary,marginBottom:d.Tokens.spacing[4],letterSpacing:2},rationaleCard:{backgroundColor:d.Tokens.colors.neutral.darker,borderWidth:1,borderColor:d.Tokens.colors.neutral.borderSubtle,padding:d.Tokens.spacing[4],marginBottom:d.Tokens.spacing[6]},rationaleTitle:{fontFamily:d.Tokens.type.fontFamily.mono,fontSize:d.Tokens.type.xs,fontWeight:"700",color:d.Tokens.colors.brand[500],letterSpacing:1,marginBottom:d.Tokens.spacing[2],textTransform:"uppercase"},rationaleText:{fontFamily:d.Tokens.type.fontFamily.body,fontSize:d.Tokens.type.sm,color:d.Tokens.colors.text.secondary,lineHeight:22,flexWrap:"wrap"},calendarCard:T({backgroundColor:d.Tokens.colors.neutral.darker,borderRadius:d.Tokens.radii.none,padding:d.Tokens.spacing[6],borderWidth:1,borderColor:d.Tokens.colors.neutral.borderSubtle},d.Tokens.elevation.none),header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:d.Tokens.spacing[8]},navButton:T({width:44,height:44,borderRadius:d.Tokens.radii.none,alignItems:"center",justifyContent:"center",backgroundColor:d.Tokens.colors.neutral.dark,borderWidth:1,borderColor:d.Tokens.colors.neutral.borderSubtle},u.Platform.select({web:{transition:d.Tokens.motion.transitions.base,cursor:"pointer"}})),navButtonHovered:{backgroundColor:d.Tokens.colors.neutral.darker,borderColor:d.Tokens.colors.text.tertiary,transform:[{scale:1.05}]},navButtonPressed:{transform:[{scale:d.Tokens.motion.scales.press}],backgroundColor:d.Tokens.colors.neutral.darkest},navButtonText:{color:d.Tokens.colors.text.primary,fontSize:d.Tokens.type.h2,lineHeight:1.2*d.Tokens.type.h2,fontWeight:"300",marginTop:-2},monthText:{fontFamily:d.Tokens.type.fontFamily.sans,color:d.Tokens.colors.text.primary,fontSize:d.Tokens.type.xl,fontWeight:"700",letterSpacing:1},weekdays:{flexDirection:"row",marginBottom:d.Tokens.spacing[4]},weekdayText:{flex:1,textAlign:"center",color:d.Tokens.colors.text.tertiary,fontSize:d.Tokens.type.xs,fontWeight:"700",textTransform:"uppercase",letterSpacing:1},daysGrid:{flexDirection:"row",flexWrap:"wrap"},dayCell:T({width:"14.28%",aspectRatio:1,justifyContent:"center",alignItems:"center",borderRadius:d.Tokens.radii.none,borderWidth:1,borderColor:"transparent"},u.Platform.select({web:{transition:d.Tokens.motion.transitions.fast}})),dayCellHovered:T({backgroundColor:d.Tokens.colors.neutral.dark,borderColor:d.Tokens.colors.neutral.borderSubtle},u.Platform.select({web:{cursor:"pointer"}})),dayCellPressed:{backgroundColor:d.Tokens.colors.neutral.darkest,transform:[{scale:d.Tokens.motion.scales.press}]},dayText:{fontFamily:d.Tokens.type.fontFamily.sans,color:d.Tokens.colors.text.secondary,fontSize:d.Tokens.type.base,fontWeight:"500"},todayCell:T(T({backgroundColor:d.Tokens.colors.brand[600]},d.Tokens.elevation.none),u.Platform.select({web:{boxShadow:"0 0 0 0"}})),todayText:{color:d.Tokens.colors.neutral[0],fontWeight:"700"},legend:{flexDirection:"row",marginTop:d.Tokens.spacing[6],justifyContent:"center"},legendItem:{flexDirection:"row",alignItems:"center"},legendDot:{width:8,height:8,borderRadius:0,marginRight:d.Tokens.spacing[2]},todayDot:{backgroundColor:d.Tokens.colors.brand[600]},legendText:{fontFamily:d.Tokens.type.fontFamily.sans,color:d.Tokens.colors.text.tertiary,fontSize:d.Tokens.type.xs,fontWeight:"700",letterSpacing:1},googleCalendarCard:T({marginTop:d.Tokens.spacing[6],backgroundColor:d.Tokens.colors.neutral.darker,borderRadius:d.Tokens.radii.none,borderWidth:1,borderColor:d.Tokens.colors.neutral.borderSubtle,padding:d.Tokens.spacing[6]},d.Tokens.elevation.none),googleCalendarTitle:{fontFamily:d.Tokens.type.fontFamily.sans,color:d.Tokens.colors.text.primary,fontSize:d.Tokens.type.sm,fontWeight:"700",letterSpacing:1,marginBottom:d.Tokens.spacing[3]},googleCalendarStatus:{fontFamily:d.Tokens.type.fontFamily.sans,color:d.Tokens.colors.text.tertiary,fontSize:d.Tokens.type.xs,fontWeight:"700",letterSpacing:1,marginBottom:d.Tokens.spacing[4]},googleCalendarButton:T({minHeight:d.Tokens.layout.minTapTarget,paddingHorizontal:d.Tokens.spacing[4],backgroundColor:d.Tokens.colors.neutral.dark,borderRadius:d.Tokens.radii.none,borderWidth:1,borderColor:d.Tokens.colors.neutral.borderSubtle,alignItems:"center",justifyContent:"center"},u.Platform.select({web:{transition:d.Tokens.motion.transitions.base,cursor:"pointer"}})),googleCalendarButtonHovered:{backgroundColor:d.Tokens.colors.neutral.darker,borderColor:d.Tokens.colors.text.tertiary},googleCalendarButtonPressed:{transform:[{scale:d.Tokens.motion.scales.press}],backgroundColor:d.Tokens.colors.neutral.darkest},googleCalendarButtonDisabled:T({backgroundColor:d.Tokens.colors.neutral.darkest,borderColor:d.Tokens.colors.neutral.borderSubtle,opacity:.5},u.Platform.select({web:{cursor:"not-allowed"}})),googleCalendarButtonText:{fontFamily:d.Tokens.type.fontFamily.sans,color:d.Tokens.colors.text.primary,fontSize:d.Tokens.type.xs,fontWeight:"700",letterSpacing:1},containerCosmic:{backgroundColor:"transparent"},titleCosmic:T({color:"#EEF2FF",fontFamily:"Space Grotesk"},u.Platform.select({web:{textShadow:"0 0 20px rgba(139, 92, 246, 0.3)"}})),rationaleTitleCosmic:{color:"#8B5CF6"},rationaleTextCosmic:{color:"#B9C2D9"},navButtonCosmic:T({backgroundColor:"rgba(17, 26, 51, 0.5)",borderColor:"rgba(139, 92, 246, 0.25)",borderRadius:12},u.Platform.select({web:{backdropFilter:"blur(16px) saturate(180%)",boxShadow:"\n          0 0 0 1px rgba(139, 92, 246, 0.15),\n          0 4px 20px rgba(7, 7, 18, 0.4),\n          inset 0 1px 0 rgba(255, 255, 255, 0.06)\n        ",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}})),navButtonHoveredCosmic:T({backgroundColor:"rgba(17, 26, 51, 0.7)",borderColor:"rgba(139, 92, 246, 0.5)"},u.Platform.select({web:{boxShadow:"\n          0 0 0 2px rgba(139, 92, 246, 0.3),\n          0 0 24px rgba(139, 92, 246, 0.2),\n          0 8px 28px rgba(7, 7, 18, 0.5),\n          inset 0 1px 0 rgba(255, 255, 255, 0.08)\n        ",transform:"translateY(-1px)"}})),navButtonPressedCosmic:{backgroundColor:"rgba(17, 26, 51, 0.9)"},navButtonTextCosmic:{color:"#EEF2FF"},monthTextCosmic:{color:"#EEF2FF"},weekdayTextCosmic:{color:"#8B5CF6"},dayCellCosmic:T({borderColor:"rgba(139, 92, 246, 0.15)",backgroundColor:"rgba(17, 26, 51, 0.2)",borderRadius:8},u.Platform.select({web:{backdropFilter:"blur(8px)",transition:"all 0.25s cubic-bezier(0.4, 0, 0.2, 1)"}})),dayCellHoveredCosmic:T({backgroundColor:"rgba(17, 26, 51, 0.5)",borderColor:"rgba(139, 92, 246, 0.5)"},u.Platform.select({web:{boxShadow:"\n          0 0 0 2px rgba(139, 92, 246, 0.25),\n          0 0 20px rgba(139, 92, 246, 0.2),\n          0 8px 24px rgba(7, 7, 18, 0.4),\n          inset 0 1px 0 rgba(255, 255, 255, 0.05)\n        ",transform:"scale(1.05)",backdropFilter:"blur(12px) saturate(150%)"}})),dayCellPressedCosmic:{backgroundColor:"rgba(17, 26, 51, 0.8)"},dayTextCosmic:{color:"#EEF2FF"},todayCellCosmic:{backgroundColor:"#F6C177",borderColor:"#F6C177"},todayTextCosmic:{color:"#0F172A"},todayDotCosmic:{backgroundColor:"#F6C177"},legendTextCosmic:{color:"#EEF2FF"},googleCalendarTitleCosmic:{color:"#EEF2FF"},googleCalendarStatusCosmic:{color:"#8B5CF6"},googleCalendarButtonCosmic:T({backgroundColor:"rgba(17, 26, 51, 0.5)",borderColor:"rgba(139, 92, 246, 0.25)",borderRadius:12},u.Platform.select({web:{backdropFilter:"blur(16px) saturate(180%)",boxShadow:"\n          0 0 0 1px rgba(139, 92, 246, 0.15),\n          0 4px 20px rgba(7, 7, 18, 0.4),\n          inset 0 1px 0 rgba(255, 255, 255, 0.06)\n        ",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}})),googleCalendarButtonHoveredCosmic:T({backgroundColor:"rgba(17, 26, 51, 0.7)",borderColor:"rgba(139, 92, 246, 0.5)"},u.Platform.select({web:{boxShadow:"\n          0 0 0 2px rgba(139, 92, 246, 0.3),\n          0 0 24px rgba(139, 92, 246, 0.2),\n          0 8px 28px rgba(7, 7, 18, 0.5),\n          inset 0 1px 0 rgba(255, 255, 255, 0.08)\n        ",transform:"translateY(-1px)"}})),googleCalendarButtonPressedCosmic:{backgroundColor:"rgba(17, 26, 51, 0.9)"},googleCalendarButtonDisabledCosmic:{backgroundColor:"rgba(11, 16, 34, 0.4)",borderColor:"rgba(185, 194, 217, 0.08)"},googleCalendarButtonTextCosmic:{color:"#EEF2FF"}});o.default=function(){var e,o=(0,m.useTheme)().isCosmic,r=(0,c.useState)(new Date),n=(0,i.default)(r,2),a=n[0],d=n[1],p=(0,c.useState)("checking"),T=(0,i.default)(p,2),y=T[0],_=T[1],x=(0,c.useState)(!1),N=(0,i.default)(x,2),h=N[0],w=N[1],v=(e=a,new Date(e.getFullYear(),e.getMonth()+1,0).getDate()),S=function(e){return new Date(e.getFullYear(),e.getMonth(),1).getDay()}(a),E=Array(v).fill(0).map(function(e,o){return o+1}),B=(0,c.useCallback)((0,s.default)(l.default.mark(function e(){var o,r,n,a,s,i;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("web"!==u.Platform.OS){e.next=1;break}return _("unsupported"),e.abrupt("return");case 1:return e.prev=1,a=t(85927),e.next=2,null===(o=a.GoogleSignin)||void 0===o||null===(r=o.getCurrentUser)||void 0===r?void 0:r.call(o);case 2:s=e.sent,i=Boolean(null==s||null===(n=s.scopes)||void 0===n?void 0:n.includes("https://www.googleapis.com/auth/calendar.events")),_(i?"connected":"disconnected"),e.next=4;break;case 3:e.prev=3,e.catch(1),_("disconnected");case 4:case"end":return e.stop()}},e,null,[[1,3]])})),[]);(0,c.useEffect)(function(){B()},[B]);var F=(0,c.useCallback)((0,s.default)(l.default.mark(function e(){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("unsupported"!==y&&"checking"!==y&&!h){e.next=1;break}return e.abrupt("return");case 1:return w(!0),e.prev=2,e.next=3,g.GoogleTasksSyncService.signInInteractive();case 3:return e.prev=3,e.next=4,B();case 4:return w(!1),e.finish(3);case 5:case"end":return e.stop()}},e,null,[[2,,3,5]])})),[y,h,B]),P="connected"===y||"unsupported"===y||"checking"===y||h;return c.default.createElement(u.SafeAreaView,{style:[k.container,o&&k.containerCosmic],__self:f,__source:{fileName:C,lineNumber:142,columnNumber:5}},c.default.createElement(b.CosmicBackground,{variant:"moon",dimmer:!0,style:u.StyleSheet.absoluteFill,__self:f,__source:{fileName:C,lineNumber:145,columnNumber:7}},null),c.default.createElement(u.View,{style:k.webContainer,__self:f,__source:{fileName:C,lineNumber:148,columnNumber:7}},c.default.createElement(u.ScrollView,{style:k.scrollView,contentContainerStyle:k.scrollContent,showsVerticalScrollIndicator:!1,__self:f,__source:{fileName:C,lineNumber:149,columnNumber:9}},c.default.createElement(u.View,{style:k.content,__self:f,__source:{fileName:C,lineNumber:154,columnNumber:11}},c.default.createElement(u.Text,{style:[k.title,o&&k.titleCosmic],__self:f,__source:{fileName:C,lineNumber:155,columnNumber:13}},"CALENDAR"),c.default.createElement(b.GlowCard,{glow:"none",style:k.rationaleCard,__self:f,__source:{fileName:C,lineNumber:159,columnNumber:13}},c.default.createElement(u.Text,{style:[k.rationaleTitle,o&&k.rationaleTitleCosmic],__self:f,__source:{fileName:C,lineNumber:160,columnNumber:15}},"WHY THIS WORKS"),c.default.createElement(u.Text,{style:[k.rationaleText,o&&k.rationaleTextCosmic],__self:f,__source:{fileName:C,lineNumber:168,columnNumber:15}},"Externalizing time through visual calendars reduces ADHD time-blindness and improves prospective memory. Seeing commitments spatially helps with planning, transitions, and preventing double-booking. CBT emphasizes external structure as cognitive support.")),c.default.createElement(b.GlowCard,{glow:"none",style:k.calendarCard,__self:f,__source:{fileName:C,lineNumber:182,columnNumber:13}},c.default.createElement(u.View,{style:k.header,__self:f,__source:{fileName:C,lineNumber:183,columnNumber:15}},c.default.createElement(u.Pressable,{onPress:function(){d(new Date(a.getFullYear(),a.getMonth()-1))},style:function(e){var t=e.pressed,r=e.hovered;return[k.navButton,o&&k.navButtonCosmic,r&&k.navButtonHovered,r&&o&&k.navButtonHoveredCosmic,t&&k.navButtonPressed,t&&o&&k.navButtonPressedCosmic]},__self:f,__source:{fileName:C,lineNumber:184,columnNumber:17}},c.default.createElement(u.Text,{style:[k.navButtonText,o&&k.navButtonTextCosmic],__self:f,__source:{fileName:C,lineNumber:201,columnNumber:19}},"‹")),c.default.createElement(u.Text,{style:[k.monthText,o&&k.monthTextCosmic],__self:f,__source:{fileName:C,lineNumber:210,columnNumber:17}},["January","February","March","April","May","June","July","August","September","October","November","December"][a.getMonth()].toUpperCase()," ",a.getFullYear()),c.default.createElement(u.Pressable,{onPress:function(){d(new Date(a.getFullYear(),a.getMonth()+1))},style:function(e){var t=e.pressed,r=e.hovered;return[k.navButton,o&&k.navButtonCosmic,r&&k.navButtonHovered,r&&o&&k.navButtonHoveredCosmic,t&&k.navButtonPressed,t&&o&&k.navButtonPressedCosmic]},__self:f,__source:{fileName:C,lineNumber:216,columnNumber:17}},c.default.createElement(u.Text,{style:[k.navButtonText,o&&k.navButtonTextCosmic],__self:f,__source:{fileName:C,lineNumber:233,columnNumber:19}},"›"))),c.default.createElement(u.View,{style:k.weekdays,__self:f,__source:{fileName:C,lineNumber:244,columnNumber:15}},["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(function(e){return c.default.createElement(u.Text,{key:e,style:[k.weekdayText,o&&k.weekdayTextCosmic],__self:f,__source:{fileName:C,lineNumber:246,columnNumber:19}},e)})),c.default.createElement(u.View,{style:k.daysGrid,__self:f,__source:{fileName:C,lineNumber:258,columnNumber:15}},Array(S).fill(0).map(function(e,t){return c.default.createElement(u.View,{key:"empty-".concat(t),style:[k.dayCell,o&&k.dayCellCosmic],__self:f,__source:{fileName:C,lineNumber:262,columnNumber:21}})}),E.map(function(e){var t=e===(new Date).getDate()&&a.getMonth()===(new Date).getMonth()&&a.getFullYear()===(new Date).getFullYear();return c.default.createElement(u.Pressable,{key:e,style:function(e){var r=e.pressed,n=e.hovered;return[k.dayCell,o&&k.dayCellCosmic,t&&k.todayCell,t&&o&&k.todayCellCosmic,n&&!t&&k.dayCellHovered,n&&!t&&o&&k.dayCellHoveredCosmic,r&&!t&&k.dayCellPressed,r&&!t&&o&&k.dayCellPressedCosmic]},__self:f,__source:{fileName:C,lineNumber:273,columnNumber:21}},c.default.createElement(u.Text,{style:[k.dayText,o&&k.dayTextCosmic,t&&k.todayText,t&&o&&k.todayTextCosmic],__self:f,__source:{fileName:C,lineNumber:298,columnNumber:23}},e))}))),c.default.createElement(u.View,{style:k.legend,__self:f,__source:{fileName:C,lineNumber:314,columnNumber:13}},c.default.createElement(u.View,{style:k.legendItem,__self:f,__source:{fileName:C,lineNumber:315,columnNumber:15}},c.default.createElement(u.View,{style:[k.legendDot,k.todayDot,o&&k.todayDotCosmic],__self:f,__source:{fileName:C,lineNumber:316,columnNumber:17}}),c.default.createElement(u.Text,{style:[k.legendText,o&&k.legendTextCosmic],__self:f,__source:{fileName:C,lineNumber:323,columnNumber:17}},"TODAY"))),c.default.createElement(b.GlowCard,{glow:"none",style:k.googleCalendarCard,__self:f,__source:{fileName:C,lineNumber:334,columnNumber:13}},c.default.createElement(u.Text,{style:[k.googleCalendarTitle,o&&k.googleCalendarTitleCosmic],__self:f,__source:{fileName:C,lineNumber:335,columnNumber:15}},"GOOGLE CALENDAR"),c.default.createElement(u.Text,{style:[k.googleCalendarStatus,o&&k.googleCalendarStatusCosmic],__self:f,__source:{fileName:C,lineNumber:343,columnNumber:15}},{checking:"STATUS: CHECKING...",connected:"STATUS: CONNECTED",disconnected:"STATUS: NOT CONNECTED",unsupported:"STATUS: NOT AVAILABLE ON WEB"}[y]),c.default.createElement(u.Pressable,{onPress:F,disabled:P,style:function(e){var t=e.pressed,r=e.hovered;return[k.googleCalendarButton,o&&k.googleCalendarButtonCosmic,r&&!P&&k.googleCalendarButtonHovered,r&&!P&&o&&k.googleCalendarButtonHoveredCosmic,t&&!P&&k.googleCalendarButtonPressed,t&&!P&&o&&k.googleCalendarButtonPressedCosmic,P&&k.googleCalendarButtonDisabled,P&&o&&k.googleCalendarButtonDisabledCosmic]},__self:f,__source:{fileName:C,lineNumber:351,columnNumber:15}},c.default.createElement(u.Text,{style:[k.googleCalendarButtonText,o&&k.googleCalendarButtonTextCosmic],__self:f,__source:{fileName:C,lineNumber:384,columnNumber:17}},{checking:"CHECKING...",connected:"CONNECTED",disconnected:"CONNECT GOOGLE CALENDAR",unsupported:"WEB UNSUPPORTED"}[y])))))))}}}]);