(self.webpackChunkspark_adhd_rn=self.webpackChunkspark_adhd_rn||[]).push([[390],{66390(e,o,t){var r=t(18772),n=t(66584);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var l=r(t(16578)),a=r(t(3791)),s=r(t(26007)),i=r(t(58361)),c=function(e){if("function"==typeof WeakMap){var o=new WeakMap;new WeakMap}return function(e){if(e&&e.__esModule)return e;var t,r,l={__proto__:null,default:e};if(null===e||"object"!=n(e)&&"function"!=typeof e)return l;if(t=o){if(t.has(e))return t.get(e);t.set(e,l)}for(var a in e)"default"!==a&&{}.hasOwnProperty.call(e,a)&&((r=(t=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,a))&&(r.get||r.set)?t(l,a,r):l[a]=e[a]);return l}(e)}(t(25602)),u=t(71582),d=t(46586),m=t(18878),f=t(75128),g=this,b="C:\\Users\\Steve\\OneDrive\\Desktop\\Github Repos\\spark-adhd\\src\\screens\\CalendarScreen.tsx";function C(e,o){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);o&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,r)}return t}function T(e){for(var o=1;o<arguments.length;o++){var t=null!=arguments[o]?arguments[o]:{};o%2?C(Object(t),!0).forEach(function(o){(0,a.default)(e,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))})}return e}var k=u.StyleSheet.create({container:{flex:1,backgroundColor:d.Tokens.colors.neutral.darkest},webContainer:{flex:1,width:"100%",maxWidth:d.Tokens.layout.maxWidth.content,alignSelf:"center"},scrollView:{flex:1},scrollContent:{flexGrow:1,paddingBottom:d.Tokens.spacing[8]},content:{padding:d.Tokens.spacing[6]},title:{fontFamily:d.Tokens.type.fontFamily.sans,fontSize:d.Tokens.type.h1,fontWeight:"800",color:d.Tokens.colors.text.primary,marginBottom:d.Tokens.spacing[4],letterSpacing:2},rationaleCard:{backgroundColor:d.Tokens.colors.neutral.darker,borderWidth:1,borderColor:d.Tokens.colors.neutral.borderSubtle,padding:d.Tokens.spacing[4],marginBottom:d.Tokens.spacing[6]},rationaleTitle:{fontFamily:d.Tokens.type.fontFamily.mono,fontSize:d.Tokens.type.xs,fontWeight:"700",color:d.Tokens.colors.brand[500],letterSpacing:1,marginBottom:d.Tokens.spacing[2],textTransform:"uppercase"},rationaleText:{fontFamily:d.Tokens.type.fontFamily.body,fontSize:d.Tokens.type.sm,color:d.Tokens.colors.text.secondary,lineHeight:22,flexWrap:"wrap"},calendarCard:T({backgroundColor:d.Tokens.colors.neutral.darker,borderRadius:d.Tokens.radii.none,padding:d.Tokens.spacing[6],borderWidth:1,borderColor:d.Tokens.colors.neutral.borderSubtle},d.Tokens.elevation.none),header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:d.Tokens.spacing[8]},navButton:T({width:44,height:44,borderRadius:d.Tokens.radii.none,alignItems:"center",justifyContent:"center",backgroundColor:d.Tokens.colors.neutral.dark,borderWidth:1,borderColor:d.Tokens.colors.neutral.borderSubtle},u.Platform.select({web:{transition:d.Tokens.motion.transitions.base,cursor:"pointer"}})),navButtonHovered:{backgroundColor:d.Tokens.colors.neutral.darker,borderColor:d.Tokens.colors.text.tertiary,transform:[{scale:1.05}]},navButtonPressed:{transform:[{scale:d.Tokens.motion.scales.press}],backgroundColor:d.Tokens.colors.neutral.darkest},navButtonText:{color:d.Tokens.colors.text.primary,fontSize:d.Tokens.type.h2,lineHeight:1.2*d.Tokens.type.h2,fontWeight:"300",marginTop:-2},monthText:{fontFamily:d.Tokens.type.fontFamily.sans,color:d.Tokens.colors.text.primary,fontSize:d.Tokens.type.xl,fontWeight:"700",letterSpacing:1},weekdays:{flexDirection:"row",marginBottom:d.Tokens.spacing[4]},weekdayText:{flex:1,textAlign:"center",color:d.Tokens.colors.text.tertiary,fontSize:d.Tokens.type.xs,fontWeight:"700",textTransform:"uppercase",letterSpacing:1},daysGrid:{flexDirection:"row",flexWrap:"wrap"},dayCell:T({width:"14.28%",aspectRatio:1,justifyContent:"center",alignItems:"center",borderRadius:d.Tokens.radii.none,borderWidth:1,borderColor:"transparent"},u.Platform.select({web:{transition:d.Tokens.motion.transitions.fast}})),dayCellHovered:T({backgroundColor:d.Tokens.colors.neutral.dark,borderColor:d.Tokens.colors.neutral.borderSubtle},u.Platform.select({web:{cursor:"pointer"}})),dayCellPressed:{backgroundColor:d.Tokens.colors.neutral.darkest,transform:[{scale:d.Tokens.motion.scales.press}]},dayText:{fontFamily:d.Tokens.type.fontFamily.sans,color:d.Tokens.colors.text.secondary,fontSize:d.Tokens.type.base,fontWeight:"500"},todayCell:T(T({backgroundColor:d.Tokens.colors.brand[600]},d.Tokens.elevation.none),u.Platform.select({web:{boxShadow:"0 0 0 0"}})),todayText:{color:d.Tokens.colors.neutral[0],fontWeight:"700"},legend:{flexDirection:"row",marginTop:d.Tokens.spacing[6],justifyContent:"center"},legendItem:{flexDirection:"row",alignItems:"center"},legendDot:{width:8,height:8,borderRadius:0,marginRight:d.Tokens.spacing[2]},todayDot:{backgroundColor:d.Tokens.colors.brand[600]},legendText:{fontFamily:d.Tokens.type.fontFamily.sans,color:d.Tokens.colors.text.tertiary,fontSize:d.Tokens.type.xs,fontWeight:"700",letterSpacing:1},googleCalendarCard:T({marginTop:d.Tokens.spacing[6],backgroundColor:d.Tokens.colors.neutral.darker,borderRadius:d.Tokens.radii.none,borderWidth:1,borderColor:d.Tokens.colors.neutral.borderSubtle,padding:d.Tokens.spacing[6]},d.Tokens.elevation.none),googleCalendarTitle:{fontFamily:d.Tokens.type.fontFamily.sans,color:d.Tokens.colors.text.primary,fontSize:d.Tokens.type.sm,fontWeight:"700",letterSpacing:1,marginBottom:d.Tokens.spacing[3]},googleCalendarStatus:{fontFamily:d.Tokens.type.fontFamily.sans,color:d.Tokens.colors.text.tertiary,fontSize:d.Tokens.type.xs,fontWeight:"700",letterSpacing:1,marginBottom:d.Tokens.spacing[4]},googleCalendarButton:T({minHeight:d.Tokens.layout.minTapTarget,paddingHorizontal:d.Tokens.spacing[4],backgroundColor:d.Tokens.colors.neutral.dark,borderRadius:d.Tokens.radii.none,borderWidth:1,borderColor:d.Tokens.colors.neutral.borderSubtle,alignItems:"center",justifyContent:"center"},u.Platform.select({web:{transition:d.Tokens.motion.transitions.base,cursor:"pointer"}})),googleCalendarButtonHovered:{backgroundColor:d.Tokens.colors.neutral.darker,borderColor:d.Tokens.colors.text.tertiary},googleCalendarButtonPressed:{transform:[{scale:d.Tokens.motion.scales.press}],backgroundColor:d.Tokens.colors.neutral.darkest},googleCalendarButtonDisabled:T({backgroundColor:d.Tokens.colors.neutral.darkest,borderColor:d.Tokens.colors.neutral.borderSubtle,opacity:.5},u.Platform.select({web:{cursor:"not-allowed"}})),googleCalendarButtonText:{fontFamily:d.Tokens.type.fontFamily.sans,color:d.Tokens.colors.text.primary,fontSize:d.Tokens.type.xs,fontWeight:"700",letterSpacing:1},containerCosmic:{backgroundColor:"transparent"},titleCosmic:{color:"#EEF2FF"},rationaleTitleCosmic:{color:"#8B5CF6"},rationaleTextCosmic:{color:"#EEF2FF"},navButtonCosmic:{backgroundColor:"rgba(42, 53, 82, 0.3)",borderColor:"rgba(42, 53, 82, 0.5)",borderRadius:8},navButtonHoveredCosmic:{backgroundColor:"rgba(42, 53, 82, 0.5)",borderColor:"#8B5CF6"},navButtonPressedCosmic:{backgroundColor:"rgba(42, 53, 82, 0.7)"},navButtonTextCosmic:{color:"#EEF2FF"},monthTextCosmic:{color:"#EEF2FF"},weekdayTextCosmic:{color:"#8B5CF6"},dayCellCosmic:{borderColor:"rgba(42, 53, 82, 0.3)"},dayCellHoveredCosmic:{backgroundColor:"rgba(42, 53, 82, 0.3)",borderColor:"#8B5CF6"},dayCellPressedCosmic:{backgroundColor:"rgba(42, 53, 82, 0.5)"},dayTextCosmic:{color:"#EEF2FF"},todayCellCosmic:{backgroundColor:"#F6C177",borderColor:"#F6C177"},todayTextCosmic:{color:"#0F172A"},todayDotCosmic:{backgroundColor:"#F6C177"},legendTextCosmic:{color:"#EEF2FF"},googleCalendarTitleCosmic:{color:"#EEF2FF"},googleCalendarStatusCosmic:{color:"#8B5CF6"},googleCalendarButtonCosmic:{backgroundColor:"rgba(42, 53, 82, 0.3)",borderColor:"rgba(42, 53, 82, 0.5)",borderRadius:8},googleCalendarButtonHoveredCosmic:{backgroundColor:"rgba(42, 53, 82, 0.5)",borderColor:"#8B5CF6"},googleCalendarButtonPressedCosmic:{backgroundColor:"rgba(42, 53, 82, 0.7)"},googleCalendarButtonDisabledCosmic:{backgroundColor:"rgba(42, 53, 82, 0.2)",borderColor:"rgba(42, 53, 82, 0.3)"},googleCalendarButtonTextCosmic:{color:"#EEF2FF"}});o.default=function(){var e,o=(0,d.useTheme)().isCosmic,r=(0,c.useState)(new Date),n=(0,i.default)(r,2),a=n[0],C=n[1],T=(0,c.useState)("checking"),y=(0,i.default)(T,2),p=y[0],_=y[1],N=(0,c.useState)(!1),x=(0,i.default)(N,2),h=x[0],v=x[1],w=(e=a,new Date(e.getFullYear(),e.getMonth()+1,0).getDate()),E=function(e){return new Date(e.getFullYear(),e.getMonth(),1).getDay()}(a),S=Array(w).fill(0).map(function(e,o){return o+1}),B=(0,c.useCallback)((0,s.default)(l.default.mark(function e(){var o,r,n,a,s,i;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("web"!==u.Platform.OS){e.next=1;break}return _("unsupported"),e.abrupt("return");case 1:return e.prev=1,a=t(85927),e.next=2,null===(o=a.GoogleSignin)||void 0===o||null===(r=o.getCurrentUser)||void 0===r?void 0:r.call(o);case 2:s=e.sent,i=Boolean(null==s||null===(n=s.scopes)||void 0===n?void 0:n.includes("https://www.googleapis.com/auth/calendar.events")),_(i?"connected":"disconnected"),e.next=4;break;case 3:e.prev=3,e.catch(1),_("disconnected");case 4:case"end":return e.stop()}},e,null,[[1,3]])})),[]);(0,c.useEffect)(function(){B()},[B]);var F=(0,c.useCallback)((0,s.default)(l.default.mark(function e(){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("unsupported"!==p&&"checking"!==p&&!h){e.next=1;break}return e.abrupt("return");case 1:return v(!0),e.prev=2,e.next=3,f.GoogleTasksSyncService.signInInteractive();case 3:return e.prev=3,e.next=4,B();case 4:return v(!1),e.finish(3);case 5:case"end":return e.stop()}},e,null,[[2,,3,5]])})),[p,h,B]),D="connected"===p||"unsupported"===p||"checking"===p||h;return c.default.createElement(u.SafeAreaView,{style:[k.container,o&&k.containerCosmic],__self:g,__source:{fileName:b,lineNumber:141,columnNumber:5}},c.default.createElement(m.CosmicBackground,{variant:"moon",dimmer:!0,style:u.StyleSheet.absoluteFill,__self:g,__source:{fileName:b,lineNumber:142,columnNumber:7}}),c.default.createElement(u.View,{style:k.webContainer,__self:g,__source:{fileName:b,lineNumber:143,columnNumber:7}},c.default.createElement(u.ScrollView,{style:k.scrollView,contentContainerStyle:k.scrollContent,showsVerticalScrollIndicator:!1,__self:g,__source:{fileName:b,lineNumber:144,columnNumber:9}},c.default.createElement(u.View,{style:k.content,__self:g,__source:{fileName:b,lineNumber:149,columnNumber:11}},c.default.createElement(u.Text,{style:[k.title,o&&k.titleCosmic],__self:g,__source:{fileName:b,lineNumber:150,columnNumber:13}},"CALENDAR"),c.default.createElement(m.GlowCard,{glow:"none",style:k.rationaleCard,__self:g,__source:{fileName:b,lineNumber:152,columnNumber:13}},c.default.createElement(u.Text,{style:[k.rationaleTitle,o&&k.rationaleTitleCosmic],__self:g,__source:{fileName:b,lineNumber:153,columnNumber:15}},"WHY THIS WORKS"),c.default.createElement(u.Text,{style:[k.rationaleText,o&&k.rationaleTextCosmic],__self:g,__source:{fileName:b,lineNumber:154,columnNumber:15}},"Externalizing time through visual calendars reduces ADHD time-blindness and improves prospective memory. Seeing commitments spatially helps with planning, transitions, and preventing double-booking. CBT emphasizes external structure as cognitive support.")),c.default.createElement(m.GlowCard,{glow:"none",style:k.calendarCard,__self:g,__source:{fileName:b,lineNumber:159,columnNumber:13}},c.default.createElement(u.View,{style:k.header,__self:g,__source:{fileName:b,lineNumber:160,columnNumber:15}},c.default.createElement(u.Pressable,{onPress:function(){C(new Date(a.getFullYear(),a.getMonth()-1))},style:function(e){var t=e.pressed,r=e.hovered;return[k.navButton,o&&k.navButtonCosmic,r&&k.navButtonHovered,r&&o&&k.navButtonHoveredCosmic,t&&k.navButtonPressed,t&&o&&k.navButtonPressedCosmic]},__self:g,__source:{fileName:b,lineNumber:161,columnNumber:17}},c.default.createElement(u.Text,{style:[k.navButtonText,o&&k.navButtonTextCosmic],__self:g,__source:{fileName:b,lineNumber:178,columnNumber:19}},"‹")),c.default.createElement(u.Text,{style:[k.monthText,o&&k.monthTextCosmic],__self:g,__source:{fileName:b,lineNumber:180,columnNumber:17}},["January","February","March","April","May","June","July","August","September","October","November","December"][a.getMonth()].toUpperCase()," ",a.getFullYear()),c.default.createElement(u.Pressable,{onPress:function(){C(new Date(a.getFullYear(),a.getMonth()+1))},style:function(e){var t=e.pressed,r=e.hovered;return[k.navButton,o&&k.navButtonCosmic,r&&k.navButtonHovered,r&&o&&k.navButtonHoveredCosmic,t&&k.navButtonPressed,t&&o&&k.navButtonPressedCosmic]},__self:g,__source:{fileName:b,lineNumber:184,columnNumber:17}},c.default.createElement(u.Text,{style:[k.navButtonText,o&&k.navButtonTextCosmic],__self:g,__source:{fileName:b,lineNumber:201,columnNumber:19}},"›"))),c.default.createElement(u.View,{style:k.weekdays,__self:g,__source:{fileName:b,lineNumber:205,columnNumber:15}},["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(function(e){return c.default.createElement(u.Text,{key:e,style:[k.weekdayText,o&&k.weekdayTextCosmic],__self:g,__source:{fileName:b,lineNumber:207,columnNumber:19}},e)})),c.default.createElement(u.View,{style:k.daysGrid,__self:g,__source:{fileName:b,lineNumber:213,columnNumber:15}},Array(E).fill(0).map(function(e,t){return c.default.createElement(u.View,{key:"empty-".concat(t),style:[k.dayCell,o&&k.dayCellCosmic],__self:g,__source:{fileName:b,lineNumber:217,columnNumber:21}})}),S.map(function(e){var t=e===(new Date).getDate()&&a.getMonth()===(new Date).getMonth()&&a.getFullYear()===(new Date).getFullYear();return c.default.createElement(u.Pressable,{key:e,style:function(e){var r=e.pressed,n=e.hovered;return[k.dayCell,o&&k.dayCellCosmic,t&&k.todayCell,t&&o&&k.todayCellCosmic,n&&!t&&k.dayCellHovered,n&&!t&&o&&k.dayCellHoveredCosmic,r&&!t&&k.dayCellPressed,r&&!t&&o&&k.dayCellPressedCosmic]},__self:g,__source:{fileName:b,lineNumber:225,columnNumber:21}},c.default.createElement(u.Text,{style:[k.dayText,o&&k.dayTextCosmic,t&&k.todayText,t&&o&&k.todayTextCosmic],__self:g,__source:{fileName:b,lineNumber:244,columnNumber:23}},e))}))),c.default.createElement(u.View,{style:k.legend,__self:g,__source:{fileName:b,lineNumber:260,columnNumber:13}},c.default.createElement(u.View,{style:k.legendItem,__self:g,__source:{fileName:b,lineNumber:261,columnNumber:15}},c.default.createElement(u.View,{style:[k.legendDot,k.todayDot,o&&k.todayDotCosmic],__self:g,__source:{fileName:b,lineNumber:262,columnNumber:17}}),c.default.createElement(u.Text,{style:[k.legendText,o&&k.legendTextCosmic],__self:g,__source:{fileName:b,lineNumber:267,columnNumber:17}},"TODAY"))),c.default.createElement(m.GlowCard,{glow:"none",style:k.googleCalendarCard,__self:g,__source:{fileName:b,lineNumber:271,columnNumber:13}},c.default.createElement(u.Text,{style:[k.googleCalendarTitle,o&&k.googleCalendarTitleCosmic],__self:g,__source:{fileName:b,lineNumber:272,columnNumber:15}},"GOOGLE CALENDAR"),c.default.createElement(u.Text,{style:[k.googleCalendarStatus,o&&k.googleCalendarStatusCosmic],__self:g,__source:{fileName:b,lineNumber:273,columnNumber:15}},{checking:"STATUS: CHECKING...",connected:"STATUS: CONNECTED",disconnected:"STATUS: NOT CONNECTED",unsupported:"STATUS: NOT AVAILABLE ON WEB"}[p]),c.default.createElement(u.Pressable,{onPress:F,disabled:D,style:function(e){var t=e.pressed,r=e.hovered;return[k.googleCalendarButton,o&&k.googleCalendarButtonCosmic,r&&!D&&k.googleCalendarButtonHovered,r&&!D&&o&&k.googleCalendarButtonHoveredCosmic,t&&!D&&k.googleCalendarButtonPressed,t&&!D&&o&&k.googleCalendarButtonPressedCosmic,D&&k.googleCalendarButtonDisabled,D&&o&&k.googleCalendarButtonDisabledCosmic]},__self:g,__source:{fileName:b,lineNumber:276,columnNumber:15}},c.default.createElement(u.Text,{style:[k.googleCalendarButtonText,o&&k.googleCalendarButtonTextCosmic],__self:g,__source:{fileName:b,lineNumber:309,columnNumber:17}},{checking:"CHECKING...",connected:"CONNECTED",disconnected:"CONNECT GOOGLE CALENDAR",unsupported:"WEB UNSUPPORTED"}[p])))))))}}}]);