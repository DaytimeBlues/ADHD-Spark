(self.webpackChunkspark_adhd_rn=self.webpackChunkspark_adhd_rn||[]).push([[469],{91469(e,t,r){var o=r(18772),n=r(66584);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(r(3791)),s=function(e){if("function"==typeof WeakMap){var t=new WeakMap;new WeakMap}return function(e){if(e&&e.__esModule)return e;var r,o,a={__proto__:null,default:e};if(null===e||"object"!=n(e)&&"function"!=typeof e)return a;if(r=t){if(r.has(e))return r.get(e);r.set(e,a)}for(var s in e)"default"!==s&&{}.hasOwnProperty.call(e,s)&&((o=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,s))&&(o.get||o.set)?r(a,s,o):a[s]=e[s]);return a}(e)}(r(25602)),l=r(71582),i=o(r(98759)),u=o(r(31771)),c=r(69599),m=r(56045),f=r(46586),d=r(59354),b=r(18878),p=this,_="C:\\Users\\Steve\\OneDrive\\Desktop\\Github Repos\\spark-adhd\\src\\screens\\PomodoroScreen.tsx";function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach(function(t){(0,a.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var T=1500;t.default=function(){var e=(0,d.useTheme)().isCosmic,t=(0,c.useTimerStore)(),r="pomodoro"!==t.activeMode||t.isWorking,o="pomodoro"===t.activeMode?t.sessions:0,n=(0,s.useRef)(r),a=(0,u.default)({id:"pomodoro",initialTime:T,onComplete:function(){n.current?(c.useTimerStore.getState().incrementSession(),c.useTimerStore.getState().completePhase(300,!1),n.current=!1,i.default.playCompletionSound()):(c.useTimerStore.getState().completePhase(T,!0),n.current=!0,i.default.playNotificationSound()),setTimeout(function(){return h()},0)}}),g=a.timeLeft,k=a.isRunning,N=a.formattedTime,h=a.start,S=a.pause,x=a.reset;(0,s.useEffect)(function(){n.current=r},[r]);var E=function(){h()},C=function(){S()},w=function(){x(),c.useTimerStore.getState().completePhase(T,!0),n.current=!0},F=function(e){return l.StyleSheet.create({container:{flex:1,backgroundColor:"transparent"},content:{flex:1,padding:f.Tokens.spacing[6],alignItems:"center",justifyContent:"center",width:"100%",maxWidth:f.Tokens.layout.maxWidth.prose},header:{alignItems:"center",marginBottom:f.Tokens.spacing[10]},title:y({fontFamily:e?"Space Grotesk":f.Tokens.type.fontFamily.sans,fontSize:f.Tokens.type["4xl"],fontWeight:"800",color:e?"#EEF2FF":f.Tokens.colors.text.primary,marginBottom:f.Tokens.spacing[2],letterSpacing:2,textAlign:"center"},e&&"web"===l.Platform.OS?{textShadow:"0 0 20px rgba(139, 92, 246, 0.3)"}:{}),subtitle:y({fontFamily:f.Tokens.type.fontFamily.sans,fontSize:f.Tokens.type.base,color:e?"#B9C2D9":f.Tokens.colors.text.tertiary,textAlign:"center",letterSpacing:1},l.Platform.select({web:{transition:f.Tokens.motion.transitions.base}})),rationaleCard:y({backgroundColor:e?"rgba(17, 26, 51, 0.6)":f.Tokens.colors.neutral.darker,borderWidth:1,borderColor:e?"rgba(185, 194, 217, 0.12)":f.Tokens.colors.neutral.borderSubtle,padding:f.Tokens.spacing[4],marginBottom:f.Tokens.spacing[6],borderRadius:e?12:0},e&&"web"===l.Platform.OS?{backdropFilter:"blur(12px)",boxShadow:"0 0 0 1px rgba(139, 92, 246, 0.08), 0 8px 20px rgba(7, 7, 18, 0.4)"}:{}),rationaleTitle:{fontFamily:f.Tokens.type.fontFamily.mono,fontSize:f.Tokens.type.xs,fontWeight:"700",color:e?"#8B5CF6":f.Tokens.colors.brand[500],letterSpacing:1,marginBottom:f.Tokens.spacing[2],textTransform:"uppercase"},rationaleText:{fontFamily:f.Tokens.type.fontFamily.body,fontSize:f.Tokens.type.sm,color:e?"#B9C2D9":f.Tokens.colors.text.secondary,lineHeight:22,flexWrap:"wrap"},sessionCounter:y({flexDirection:"row",alignItems:"center",marginBottom:f.Tokens.spacing[8],backgroundColor:e?"rgba(17, 26, 51, 0.6)":f.Tokens.colors.neutral.darker,paddingHorizontal:f.Tokens.spacing[4],paddingVertical:f.Tokens.spacing[2],borderRadius:e?8:f.Tokens.radii.none,borderWidth:1,borderColor:e?"rgba(185, 194, 217, 0.12)":f.Tokens.colors.neutral.borderSubtle,gap:f.Tokens.spacing[3]},e&&"web"===l.Platform.OS?{backdropFilter:"blur(8px)",boxShadow:"0 0 0 1px rgba(139, 92, 246, 0.08), 0 8px 20px rgba(7, 7, 18, 0.4)"}:{}),sessionBadge:{backgroundColor:e?"#0B1022":f.Tokens.colors.brand[900],width:28,height:28,borderRadius:e?6:0,alignItems:"center",justifyContent:"center",borderWidth:1,borderColor:e?"#8B5CF6":f.Tokens.colors.brand[700]},sessionCount:{fontFamily:f.Tokens.type.fontFamily.mono,color:e?"#EEF2FF":f.Tokens.colors.brand[100],fontSize:f.Tokens.type.sm,fontWeight:"700"},sessionLabel:{fontFamily:f.Tokens.type.fontFamily.sans,color:e?"#B9C2D9":f.Tokens.colors.text.tertiary,fontSize:f.Tokens.type.sm,letterSpacing:.5},timerCard:{alignItems:"center",justifyContent:"center",marginBottom:f.Tokens.spacing[12],width:280,height:280,position:"relative",borderRadius:f.Tokens.radii.full,backgroundColor:e?"transparent":f.Tokens.colors.neutral.darker,borderWidth:e?0:1,borderColor:e?"transparent":f.Tokens.colors.neutral.borderSubtle},timerOverlay:{position:"absolute",alignItems:"center",justifyContent:"center"},phaseIndicator:y({position:"absolute",top:-1,left:-1,right:-1,bottom:-1,borderRadius:f.Tokens.radii.full,borderWidth:2,opacity:1},l.Platform.select({web:{transition:f.Tokens.motion.transitions.slow}})),phaseIndicatorFocus:{borderColor:f.Tokens.colors.error.main,backgroundColor:"transparent"},phaseIndicatorBreak:{borderColor:f.Tokens.colors.success.main,backgroundColor:"transparent"},timer:{fontFamily:f.Tokens.type.fontFamily.mono,fontSize:f.Tokens.type.giga,fontWeight:"700",color:e?"#EEF2FF":f.Tokens.colors.text.primary,fontVariant:["tabular-nums"],textAlign:"center",letterSpacing:-2},phaseText:y({fontFamily:f.Tokens.type.fontFamily.sans,fontSize:f.Tokens.type.xl,fontWeight:"600",marginTop:f.Tokens.spacing[2],textTransform:"uppercase",letterSpacing:2},l.Platform.select({web:{transition:f.Tokens.motion.transitions.base}})),phaseTextFocus:{color:e?"#EF4444":f.Tokens.colors.error.main},phaseTextBreak:{color:e?"#22C55E":f.Tokens.colors.success.main},controls:{width:"100%",maxWidth:320,gap:f.Tokens.spacing[4],marginTop:f.Tokens.spacing[8]},controlBtn:{width:"100%",borderRadius:e?8:0}})}(e);return s.default.createElement(b.CosmicBackground,{variant:"nebula",style:l.StyleSheet.absoluteFill,__self:p,__source:{fileName:_,lineNumber:74,columnNumber:5}},s.default.createElement(l.SafeAreaView,{style:F.container,__self:p,__source:{fileName:_,lineNumber:75,columnNumber:7}},s.default.createElement(l.View,{style:F.content,__self:p,__source:{fileName:_,lineNumber:76,columnNumber:9}},s.default.createElement(l.View,{style:F.header,__self:p,__source:{fileName:_,lineNumber:77,columnNumber:11}},s.default.createElement(l.Text,{style:F.title,__self:p,__source:{fileName:_,lineNumber:78,columnNumber:13}},"POMODORO"),s.default.createElement(l.Text,{style:F.subtitle,__self:p,__source:{fileName:_,lineNumber:79,columnNumber:13}},r?"FOCUS BLOCK":"RECOVERY BREAK")),s.default.createElement(l.View,{style:F.rationaleCard,__self:p,__source:{fileName:_,lineNumber:84,columnNumber:11}},s.default.createElement(l.Text,{style:F.rationaleTitle,__self:p,__source:{fileName:_,lineNumber:85,columnNumber:13}},"WHY THIS WORKS"),s.default.createElement(l.Text,{style:F.rationaleText,__self:p,__source:{fileName:_,lineNumber:86,columnNumber:13}},"Structured work/break cycles align with ADHD dopamine regulation. Short bursts (25 min) prevent hyperfocus burnout, while mandatory breaks restore attention. Evidence-based from CBT time-management protocols for sustained task persistence.")),s.default.createElement(l.View,{style:F.timerCard,__self:p,__source:{fileName:_,lineNumber:94,columnNumber:11}},e?s.default.createElement(s.default.Fragment,null,s.default.createElement(b.HaloRing,{mode:"progress",progress:1-g/(r?T:300),size:280,glow:k?"strong":"medium",__self:p,__source:{fileName:_,lineNumber:97,columnNumber:17}}),s.default.createElement(l.View,{style:F.timerOverlay,__self:p,__source:{fileName:_,lineNumber:103,columnNumber:17}},s.default.createElement(b.ChronoDigits,{testID:"timer-display",value:N,size:"hero",glow:k?"strong":"none",color:r?"default":"success",__self:p,__source:{fileName:_,lineNumber:104,columnNumber:19}}),s.default.createElement(l.Text,{testID:"pomodoro-phase",style:[F.phaseText,r?F.phaseTextFocus:F.phaseTextBreak],__self:p,__source:{fileName:_,lineNumber:111,columnNumber:19}},r?"ðŸ”¥ FOCUS":"ðŸŒ¿ REST"))):s.default.createElement(s.default.Fragment,null,s.default.createElement(l.View,{style:[F.phaseIndicator,r?F.phaseIndicatorFocus:F.phaseIndicatorBreak],__self:p,__source:{fileName:_,lineNumber:124,columnNumber:17}}),s.default.createElement(l.Text,{testID:"timer-display",style:F.timer,__self:p,__source:{fileName:_,lineNumber:132,columnNumber:17}},N),s.default.createElement(l.Text,{testID:"pomodoro-phase",style:[F.phaseText,r?F.phaseTextFocus:F.phaseTextBreak],__self:p,__source:{fileName:_,lineNumber:135,columnNumber:17}},r?"ðŸ”¥ FOCUS":"ðŸŒ¿ REST"))),s.default.createElement(l.View,{style:F.sessionCounter,__self:p,__source:{fileName:_,lineNumber:148,columnNumber:11}},s.default.createElement(l.View,{style:F.sessionBadge,__self:p,__source:{fileName:_,lineNumber:149,columnNumber:13}},s.default.createElement(l.Text,{style:F.sessionCount,__self:p,__source:{fileName:_,lineNumber:150,columnNumber:15}},o)),s.default.createElement(l.Text,{style:F.sessionLabel,__self:p,__source:{fileName:_,lineNumber:152,columnNumber:13}},"COMPLETED SESSIONS")),s.default.createElement(l.View,{style:F.controls,__self:p,__source:{fileName:_,lineNumber:155,columnNumber:11}},k?e?s.default.createElement(b.RuneButton,{variant:"secondary",size:"lg",onPress:C,style:F.controlBtn,__self:p,__source:{fileName:_,lineNumber:177,columnNumber:15}},"Pause"):s.default.createElement(m.LinearButton,{title:"Pause",onPress:C,variant:"secondary",size:"lg",style:F.controlBtn,__self:p,__source:{fileName:_,lineNumber:186,columnNumber:15}}):e?s.default.createElement(b.RuneButton,{variant:"primary",size:"lg",glow:"medium",onPress:E,style:F.controlBtn,__self:p,__source:{fileName:_,lineNumber:158,columnNumber:17}},"Start Timer"):s.default.createElement(m.LinearButton,{title:"Start Timer",onPress:E,variant:r?"primary":"secondary",size:"lg",style:F.controlBtn,__self:p,__source:{fileName:_,lineNumber:168,columnNumber:17}}),e?s.default.createElement(b.RuneButton,{variant:"ghost",size:"md",onPress:w,style:F.controlBtn,__self:p,__source:{fileName:_,lineNumber:195,columnNumber:15}},"Reset"):s.default.createElement(m.LinearButton,{title:"Reset",onPress:w,variant:"ghost",size:"md",__self:p,__source:{fileName:_,lineNumber:204,columnNumber:15}})))))}}}]);