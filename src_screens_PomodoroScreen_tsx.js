/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkspark_adhd_rn"] = self["webpackChunkspark_adhd_rn"] || []).push([["src_screens_PomodoroScreen_tsx"],{

/***/ "./src/screens/PomodoroScreen.tsx"
/*!****************************************!*\
  !*** ./src/screens/PomodoroScreen.tsx ***!
  \****************************************/
(__unused_webpack_module, exports, __webpack_require__) {

eval("{var _interopRequireDefault=__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"./node_modules/@babel/runtime/helpers/interopRequireDefault.js\");var _typeof=__webpack_require__(/*! @babel/runtime/helpers/typeof */ \"./node_modules/@babel/runtime/helpers/typeof.js\");Object.defineProperty(exports, \"__esModule\", ({value:true}));exports[\"default\"]=void 0;var _regenerator=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/regenerator */ \"./node_modules/@babel/runtime/regenerator/index.js\"));var _defineProperty2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/defineProperty.js\"));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"./node_modules/@babel/runtime/helpers/asyncToGenerator.js\"));var _slicedToArray2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"./node_modules/@babel/runtime/helpers/slicedToArray.js\"));var _react=_interopRequireWildcard(__webpack_require__(/*! react */ \"./node_modules/react/index.js\"));var _reactNative=__webpack_require__(/*! react-native */ \"./node_modules/react-native-web/dist/index.js\");var _SoundService=_interopRequireDefault(__webpack_require__(/*! ../services/SoundService */ \"./src/services/SoundService.web.ts\"));var _StorageService=_interopRequireDefault(__webpack_require__(/*! ../services/StorageService */ \"./src/services/StorageService.ts\"));var _useTimer2=_interopRequireDefault(__webpack_require__(/*! ../hooks/useTimer */ \"./src/hooks/useTimer.ts\"));var _LinearButton=__webpack_require__(/*! ../components/ui/LinearButton */ \"./src/components/ui/LinearButton.tsx\");var _tokens=__webpack_require__(/*! ../theme/tokens */ \"./src/theme/tokens.ts\");var _ThemeProvider=__webpack_require__(/*! ../theme/ThemeProvider */ \"./src/theme/ThemeProvider.tsx\");var _cosmic=__webpack_require__(/*! ../ui/cosmic */ \"./src/ui/cosmic/index.ts\");var _this=this,_jsxFileName=\"C:\\\\Users\\\\Steve\\\\OneDrive\\\\Desktop\\\\Github Repos\\\\spark-adhd\\\\src\\\\screens\\\\PomodoroScreen.tsx\";function _interopRequireWildcard(e,t){if(\"function\"==typeof WeakMap)var r=new WeakMap(),n=new WeakMap();return(_interopRequireWildcard=function _interopRequireWildcard(e,t){if(!t&&e&&e.__esModule)return e;var o,i,f={__proto__:null,\"default\":e};if(null===e||\"object\"!=_typeof(e)&&\"function\"!=typeof e)return f;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,f);}for(var _t2 in e)\"default\"!==_t2&&{}.hasOwnProperty.call(e,_t2)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,_t2))&&(i.get||i.set)?o(f,_t2,i):f[_t2]=e[_t2]);return f;})(e,t);}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){(0,_defineProperty2[\"default\"])(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}var SESSION_BADGE_SIZE=28;var TIMER_CARD_SIZE=280;var FOCUS_DURATION_SECONDS=25*60;var BREAK_DURATION_SECONDS=5*60;var PERSIST_INTERVAL_MS=5000;var PomodoroScreen=function PomodoroScreen(){var _useTheme=(0,_ThemeProvider.useTheme)(),isCosmic=_useTheme.isCosmic;var _useState=(0,_react.useState)(true),_useState2=(0,_slicedToArray2[\"default\"])(_useState,2),isWorking=_useState2[0],setIsWorking=_useState2[1];var _useState3=(0,_react.useState)(0),_useState4=(0,_slicedToArray2[\"default\"])(_useState3,2),sessions=_useState4[0],setSessions=_useState4[1];var isWorkingRef=(0,_react.useRef)(isWorking);var persistTimerRef=(0,_react.useRef)(null);var _useTimer=(0,_useTimer2[\"default\"])({initialTime:FOCUS_DURATION_SECONDS,onComplete:function onComplete(){if(isWorkingRef.current){setSessions(function(s){return s+1;});setIsWorking(false);isWorkingRef.current=false;_SoundService[\"default\"].playCompletionSound();setTime(BREAK_DURATION_SECONDS);}else{setIsWorking(true);isWorkingRef.current=true;_SoundService[\"default\"].playNotificationSound();setTime(FOCUS_DURATION_SECONDS);}setTimeout(function(){return start();},0);}}),timeLeft=_useTimer.timeLeft,isRunning=_useTimer.isRunning,formattedTime=_useTimer.formattedTime,start=_useTimer.start,pause=_useTimer.pause,reset=_useTimer.reset,setTime=_useTimer.setTime;(0,_react.useEffect)(function(){isWorkingRef.current=isWorking;},[isWorking]);(0,_react.useEffect)(function(){var loadState=function(){var _ref=(0,_asyncToGenerator2[\"default\"])(_regenerator[\"default\"].mark(function _callee(){var storedState;return _regenerator[\"default\"].wrap(function(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=1;return _StorageService[\"default\"].getJSON(_StorageService[\"default\"].STORAGE_KEYS.pomodoroState);case 1:storedState=_context.sent;if(storedState){_context.next=2;break;}return _context.abrupt(\"return\");case 2:if(typeof storedState.isWorking==='boolean'){setIsWorking(storedState.isWorking);}if(typeof storedState.timeLeft==='number'){setTime(storedState.timeLeft);}if(typeof storedState.sessions==='number'){setSessions(storedState.sessions);}case 3:case\"end\":return _context.stop();}},_callee);}));return function loadState(){return _ref.apply(this,arguments);};}();loadState();},[setTime]);(0,_react.useEffect)(function(){if(persistTimerRef.current){clearTimeout(persistTimerRef.current);}persistTimerRef.current=setTimeout(function(){_StorageService[\"default\"].setJSON(_StorageService[\"default\"].STORAGE_KEYS.pomodoroState,{isWorking:isWorking,timeLeft:timeLeft,sessions:sessions});},PERSIST_INTERVAL_MS);return function(){if(persistTimerRef.current){clearTimeout(persistTimerRef.current);}};},[isWorking,timeLeft,sessions]);var startTimer=function startTimer(){start();};var pauseTimer=function pauseTimer(){pause();};var resetTimer=function resetTimer(){reset();setIsWorking(true);isWorkingRef.current=true;setTime(FOCUS_DURATION_SECONDS);};var getTotalDuration=function getTotalDuration(){return isWorking?FOCUS_DURATION_SECONDS:BREAK_DURATION_SECONDS;};var styles=getStyles(isCosmic);return _react[\"default\"].createElement(_cosmic.CosmicBackground,{variant:\"nebula\",style:_reactNative.StyleSheet.absoluteFill,__self:_this,__source:{fileName:_jsxFileName,lineNumber:123,columnNumber:5}},_react[\"default\"].createElement(_reactNative.SafeAreaView,{style:styles.container,__self:_this,__source:{fileName:_jsxFileName,lineNumber:124,columnNumber:7}},_react[\"default\"].createElement(_reactNative.View,{style:styles.content,__self:_this,__source:{fileName:_jsxFileName,lineNumber:125,columnNumber:9}},_react[\"default\"].createElement(_reactNative.View,{style:styles.header,__self:_this,__source:{fileName:_jsxFileName,lineNumber:126,columnNumber:11}},_react[\"default\"].createElement(_reactNative.Text,{style:styles.title,__self:_this,__source:{fileName:_jsxFileName,lineNumber:127,columnNumber:13}},\"POMODORO\"),_react[\"default\"].createElement(_reactNative.Text,{style:styles.subtitle,__self:_this,__source:{fileName:_jsxFileName,lineNumber:128,columnNumber:13}},isWorking?'FOCUS BLOCK':'RECOVERY BREAK')),_react[\"default\"].createElement(_reactNative.View,{style:styles.rationaleCard,__self:_this,__source:{fileName:_jsxFileName,lineNumber:133,columnNumber:11}},_react[\"default\"].createElement(_reactNative.Text,{style:styles.rationaleTitle,__self:_this,__source:{fileName:_jsxFileName,lineNumber:134,columnNumber:13}},\"WHY THIS WORKS\"),_react[\"default\"].createElement(_reactNative.Text,{style:styles.rationaleText,__self:_this,__source:{fileName:_jsxFileName,lineNumber:135,columnNumber:13}},\"Structured work/break cycles align with ADHD dopamine regulation. Short bursts (25 min) prevent hyperfocus burnout, while mandatory breaks restore attention. Evidence-based from CBT time-management protocols for sustained task persistence.\")),_react[\"default\"].createElement(_reactNative.View,{style:styles.timerCard,__self:_this,__source:{fileName:_jsxFileName,lineNumber:140,columnNumber:11}},isCosmic?_react[\"default\"].createElement(_react[\"default\"].Fragment,null,_react[\"default\"].createElement(_cosmic.HaloRing,{mode:\"progress\",progress:1-timeLeft/getTotalDuration(),size:TIMER_CARD_SIZE,glow:isRunning?'strong':'medium',color:isWorking?'#EF4444':'#22C55E',__self:_this,__source:{fileName:_jsxFileName,lineNumber:143,columnNumber:17}}),_react[\"default\"].createElement(_reactNative.View,{style:styles.timerOverlay,__self:_this,__source:{fileName:_jsxFileName,lineNumber:150,columnNumber:17}},_react[\"default\"].createElement(_cosmic.ChronoDigits,{value:formattedTime,size:\"hero\",glow:isRunning?'strong':'none',color:isWorking?'#EEF2FF':'#22C55E',__self:_this,__source:{fileName:_jsxFileName,lineNumber:151,columnNumber:19}}),_react[\"default\"].createElement(_reactNative.Text,{testID:\"pomodoro-phase\",style:[styles.phaseText,isWorking?styles.phaseTextFocus:styles.phaseTextBreak],__self:_this,__source:{fileName:_jsxFileName,lineNumber:157,columnNumber:19}},isWorking?'ðŸ”¥ FOCUS':'ðŸŒ¿ REST'))):_react[\"default\"].createElement(_react[\"default\"].Fragment,null,_react[\"default\"].createElement(_reactNative.View,{style:[styles.phaseIndicator,isWorking?styles.phaseIndicatorFocus:styles.phaseIndicatorBreak],__self:_this,__source:{fileName:_jsxFileName,lineNumber:167,columnNumber:17}}),_react[\"default\"].createElement(_reactNative.Text,{testID:\"timer-display\",style:styles.timer,__self:_this,__source:{fileName:_jsxFileName,lineNumber:168,columnNumber:17}},formattedTime),_react[\"default\"].createElement(_reactNative.Text,{testID:\"pomodoro-phase\",style:[styles.phaseText,isWorking?styles.phaseTextFocus:styles.phaseTextBreak],__self:_this,__source:{fileName:_jsxFileName,lineNumber:171,columnNumber:17}},isWorking?'ðŸ”¥ FOCUS':'ðŸŒ¿ REST'))),_react[\"default\"].createElement(_reactNative.View,{style:styles.sessionCounter,__self:_this,__source:{fileName:_jsxFileName,lineNumber:178,columnNumber:11}},_react[\"default\"].createElement(_reactNative.View,{style:styles.sessionBadge,__self:_this,__source:{fileName:_jsxFileName,lineNumber:179,columnNumber:13}},_react[\"default\"].createElement(_reactNative.Text,{style:styles.sessionCount,__self:_this,__source:{fileName:_jsxFileName,lineNumber:180,columnNumber:15}},sessions)),_react[\"default\"].createElement(_reactNative.Text,{style:styles.sessionLabel,__self:_this,__source:{fileName:_jsxFileName,lineNumber:182,columnNumber:13}},\"COMPLETED SESSIONS\")),_react[\"default\"].createElement(_reactNative.View,{style:styles.controls,__self:_this,__source:{fileName:_jsxFileName,lineNumber:185,columnNumber:11}},!isRunning?isCosmic?_react[\"default\"].createElement(_cosmic.RuneButton,{variant:\"primary\",size:\"lg\",glow:\"medium\",onPress:startTimer,style:styles.controlBtn,__self:_this,__source:{fileName:_jsxFileName,lineNumber:188,columnNumber:17}},\"Start Timer\"):_react[\"default\"].createElement(_LinearButton.LinearButton,{title:\"Start Timer\",onPress:startTimer,variant:isWorking?'primary':'secondary',size:\"lg\",style:styles.controlBtn,__self:_this,__source:{fileName:_jsxFileName,lineNumber:198,columnNumber:17}}):isCosmic?_react[\"default\"].createElement(_cosmic.RuneButton,{variant:\"secondary\",size:\"lg\",onPress:pauseTimer,style:styles.controlBtn,__self:_this,__source:{fileName:_jsxFileName,lineNumber:208,columnNumber:17}},\"Pause\"):_react[\"default\"].createElement(_LinearButton.LinearButton,{title:\"Pause\",onPress:pauseTimer,variant:\"secondary\",size:\"lg\",style:styles.controlBtn,__self:_this,__source:{fileName:_jsxFileName,lineNumber:217,columnNumber:17}}),isCosmic?_react[\"default\"].createElement(_cosmic.RuneButton,{variant:\"ghost\",size:\"md\",onPress:resetTimer,style:styles.controlBtn,__self:_this,__source:{fileName:_jsxFileName,lineNumber:227,columnNumber:15}},\"Reset\"):_react[\"default\"].createElement(_LinearButton.LinearButton,{title:\"Reset\",onPress:resetTimer,variant:\"ghost\",size:\"md\",__self:_this,__source:{fileName:_jsxFileName,lineNumber:236,columnNumber:15}})))));};var getStyles=function getStyles(isCosmic){return _reactNative.StyleSheet.create({container:{flex:1,backgroundColor:'transparent'},content:{flex:1,padding:_tokens.Tokens.spacing[6],alignItems:'center',justifyContent:'center',width:'100%',maxWidth:_tokens.Tokens.layout.maxWidth.prose},header:{alignItems:'center',marginBottom:_tokens.Tokens.spacing[10]},title:{fontFamily:_tokens.Tokens.type.fontFamily.sans,fontSize:_tokens.Tokens.type['4xl'],fontWeight:'800',color:isCosmic?'#EEF2FF':_tokens.Tokens.colors.text.primary,marginBottom:_tokens.Tokens.spacing[2],letterSpacing:2,textAlign:'center'},subtitle:_objectSpread({fontFamily:_tokens.Tokens.type.fontFamily.sans,fontSize:_tokens.Tokens.type.base,color:isCosmic?'#B9C2D9':_tokens.Tokens.colors.text.tertiary,textAlign:'center',letterSpacing:1},_reactNative.Platform.select({web:{transition:_tokens.Tokens.motion.transitions.base}})),rationaleCard:{backgroundColor:isCosmic?'#111A33':_tokens.Tokens.colors.neutral.darker,borderWidth:1,borderColor:isCosmic?'rgba(42, 53, 82, 0.3)':_tokens.Tokens.colors.neutral.borderSubtle,padding:_tokens.Tokens.spacing[4],marginBottom:_tokens.Tokens.spacing[6],borderRadius:isCosmic?12:0},rationaleTitle:{fontFamily:_tokens.Tokens.type.fontFamily.mono,fontSize:_tokens.Tokens.type.xs,fontWeight:'700',color:isCosmic?'#8B5CF6':_tokens.Tokens.colors.brand[500],letterSpacing:1,marginBottom:_tokens.Tokens.spacing[2],textTransform:'uppercase'},rationaleText:{fontFamily:_tokens.Tokens.type.fontFamily.body,fontSize:_tokens.Tokens.type.sm,color:isCosmic?'#B9C2D9':_tokens.Tokens.colors.text.secondary,lineHeight:22,flexWrap:'wrap'},sessionCounter:{flexDirection:'row',alignItems:'center',marginBottom:_tokens.Tokens.spacing[8],backgroundColor:isCosmic?'#111A33':_tokens.Tokens.colors.neutral.darker,paddingHorizontal:_tokens.Tokens.spacing[4],paddingVertical:_tokens.Tokens.spacing[2],borderRadius:isCosmic?8:_tokens.Tokens.radii.none,borderWidth:1,borderColor:isCosmic?'rgba(42, 53, 82, 0.3)':_tokens.Tokens.colors.neutral.borderSubtle,gap:_tokens.Tokens.spacing[3]},sessionBadge:{backgroundColor:isCosmic?'#0B1022':_tokens.Tokens.colors.brand[900],width:SESSION_BADGE_SIZE,height:SESSION_BADGE_SIZE,borderRadius:isCosmic?6:0,alignItems:'center',justifyContent:'center',borderWidth:1,borderColor:isCosmic?'#8B5CF6':_tokens.Tokens.colors.brand[700]},sessionCount:{fontFamily:_tokens.Tokens.type.fontFamily.mono,color:isCosmic?'#EEF2FF':_tokens.Tokens.colors.brand[100],fontSize:_tokens.Tokens.type.sm,fontWeight:'700'},sessionLabel:{fontFamily:_tokens.Tokens.type.fontFamily.sans,color:isCosmic?'#B9C2D9':_tokens.Tokens.colors.text.tertiary,fontSize:_tokens.Tokens.type.sm,letterSpacing:0.5},timerCard:{alignItems:'center',justifyContent:'center',marginBottom:_tokens.Tokens.spacing[12],width:TIMER_CARD_SIZE,height:TIMER_CARD_SIZE,position:'relative',borderRadius:_tokens.Tokens.radii.full,backgroundColor:isCosmic?'transparent':_tokens.Tokens.colors.neutral.darker,borderWidth:isCosmic?0:1,borderColor:isCosmic?'transparent':_tokens.Tokens.colors.neutral.borderSubtle},timerOverlay:{position:'absolute',alignItems:'center',justifyContent:'center'},phaseIndicator:_objectSpread({position:'absolute',top:-1,left:-1,right:-1,bottom:-1,borderRadius:_tokens.Tokens.radii.full,borderWidth:2,opacity:1},_reactNative.Platform.select({web:{transition:_tokens.Tokens.motion.transitions.slow}})),phaseIndicatorFocus:{borderColor:_tokens.Tokens.colors.error.main,backgroundColor:'transparent'},phaseIndicatorBreak:{borderColor:_tokens.Tokens.colors.success.main,backgroundColor:'transparent'},timer:{fontFamily:_tokens.Tokens.type.fontFamily.mono,fontSize:_tokens.Tokens.type.giga,fontWeight:'700',color:isCosmic?'#EEF2FF':_tokens.Tokens.colors.text.primary,fontVariant:['tabular-nums'],textAlign:'center',letterSpacing:-2},phaseText:_objectSpread({fontFamily:_tokens.Tokens.type.fontFamily.sans,fontSize:_tokens.Tokens.type.xl,fontWeight:'600',marginTop:_tokens.Tokens.spacing[2],textTransform:'uppercase',letterSpacing:2},_reactNative.Platform.select({web:{transition:_tokens.Tokens.motion.transitions.base}})),phaseTextFocus:{color:isCosmic?'#EF4444':_tokens.Tokens.colors.error.main},phaseTextBreak:{color:isCosmic?'#22C55E':_tokens.Tokens.colors.success.main},controls:{width:'100%',maxWidth:320,gap:_tokens.Tokens.spacing[4],marginTop:_tokens.Tokens.spacing[8]},controlBtn:{width:'100%',borderRadius:isCosmic?8:0}});};var _default=exports[\"default\"]=PomodoroScreen;\n\n//# sourceURL=webpack://spark-adhd-rn/./src/screens/PomodoroScreen.tsx?\n}");

/***/ }

}]);