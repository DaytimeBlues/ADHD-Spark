(self.webpackChunkspark_adhd_rn=self.webpackChunkspark_adhd_rn||[]).push([[390],{66390(e,t,r){var n=r(18772),o=r(66584);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(r(16578)),a=n(r(3791)),s=n(r(26007)),u=n(r(58361)),c=function(e){if("function"==typeof WeakMap){var t=new WeakMap;new WeakMap}return function(e){if(e&&e.__esModule)return e;var r,n,l={__proto__:null,default:e};if(null===e||"object"!=o(e)&&"function"!=typeof e)return l;if(r=t){if(r.has(e))return r.get(e);r.set(e,l)}for(var a in e)"default"!==a&&{}.hasOwnProperty.call(e,a)&&((n=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,a))&&(n.get||n.set)?r(l,a,n):l[a]=e[a]);return l}(e)}(r(25602)),i=r(71582),d=r(46586),m=r(75128),f=this,b="C:\\Users\\Steve\\OneDrive\\Desktop\\Github Repos\\spark-adhd-backup\\src\\screens\\CalendarScreen.tsx";function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach(function(t){(0,a.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var k=i.StyleSheet.create({container:{flex:1,backgroundColor:d.Tokens.colors.neutral.darkest},webContainer:{flex:1,width:"100%",maxWidth:d.Tokens.layout.maxWidth.content,alignSelf:"center"},scrollView:{flex:1},scrollContent:{flexGrow:1,paddingBottom:d.Tokens.spacing[8]},content:{padding:d.Tokens.spacing[6]},title:{fontFamily:d.Tokens.type.fontFamily.sans,fontSize:d.Tokens.type.h1,fontWeight:"800",color:d.Tokens.colors.text.primary,marginBottom:d.Tokens.spacing[6],letterSpacing:2},calendarCard:p({backgroundColor:d.Tokens.colors.neutral.darker,borderRadius:d.Tokens.radii.none,padding:d.Tokens.spacing[6],borderWidth:1,borderColor:d.Tokens.colors.neutral.borderSubtle},d.Tokens.elevation.none),header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:d.Tokens.spacing[8]},navButton:p({width:44,height:44,borderRadius:d.Tokens.radii.none,alignItems:"center",justifyContent:"center",backgroundColor:d.Tokens.colors.neutral.dark,borderWidth:1,borderColor:d.Tokens.colors.neutral.borderSubtle},i.Platform.select({web:{transition:d.Tokens.motion.transitions.base,cursor:"pointer"}})),navButtonHovered:{backgroundColor:d.Tokens.colors.neutral.darker,borderColor:d.Tokens.colors.text.tertiary,transform:[{scale:1.05}]},navButtonPressed:{transform:[{scale:d.Tokens.motion.scales.press}],backgroundColor:d.Tokens.colors.neutral.darkest},navButtonText:{color:d.Tokens.colors.text.primary,fontSize:d.Tokens.type.h2,lineHeight:1.2*d.Tokens.type.h2,fontWeight:"300",marginTop:-2},monthText:{fontFamily:d.Tokens.type.fontFamily.sans,color:d.Tokens.colors.text.primary,fontSize:d.Tokens.type.xl,fontWeight:"700",letterSpacing:1},weekdays:{flexDirection:"row",marginBottom:d.Tokens.spacing[4]},weekdayText:{flex:1,textAlign:"center",color:d.Tokens.colors.text.tertiary,fontSize:d.Tokens.type.xs,fontWeight:"700",textTransform:"uppercase",letterSpacing:1},daysGrid:{flexDirection:"row",flexWrap:"wrap"},dayCell:p({width:"14.28%",aspectRatio:1,justifyContent:"center",alignItems:"center",borderRadius:d.Tokens.radii.none,borderWidth:1,borderColor:"transparent"},i.Platform.select({web:{transition:d.Tokens.motion.transitions.fast}})),dayCellHovered:p({backgroundColor:d.Tokens.colors.neutral.dark,borderColor:d.Tokens.colors.neutral.borderSubtle},i.Platform.select({web:{cursor:"pointer"}})),dayCellPressed:{backgroundColor:d.Tokens.colors.neutral.darkest,transform:[{scale:d.Tokens.motion.scales.press}]},dayText:{fontFamily:d.Tokens.type.fontFamily.sans,color:d.Tokens.colors.text.secondary,fontSize:d.Tokens.type.base,fontWeight:"500"},todayCell:p(p({backgroundColor:d.Tokens.colors.brand[600]},d.Tokens.elevation.none),i.Platform.select({web:{boxShadow:"0 0 0 0"}})),todayText:{color:d.Tokens.colors.neutral[0],fontWeight:"700"},legend:{flexDirection:"row",marginTop:d.Tokens.spacing[6],justifyContent:"center"},legendItem:{flexDirection:"row",alignItems:"center"},legendDot:{width:8,height:8,borderRadius:0,marginRight:d.Tokens.spacing[2]},todayDot:{backgroundColor:d.Tokens.colors.brand[600]},legendText:{fontFamily:d.Tokens.type.fontFamily.sans,color:d.Tokens.colors.text.tertiary,fontSize:d.Tokens.type.xs,fontWeight:"700",letterSpacing:1},googleCalendarCard:p({marginTop:d.Tokens.spacing[6],backgroundColor:d.Tokens.colors.neutral.darker,borderRadius:d.Tokens.radii.none,borderWidth:1,borderColor:d.Tokens.colors.neutral.borderSubtle,padding:d.Tokens.spacing[6]},d.Tokens.elevation.none),googleCalendarTitle:{fontFamily:d.Tokens.type.fontFamily.sans,color:d.Tokens.colors.text.primary,fontSize:d.Tokens.type.sm,fontWeight:"700",letterSpacing:1,marginBottom:d.Tokens.spacing[3]},googleCalendarStatus:{fontFamily:d.Tokens.type.fontFamily.sans,color:d.Tokens.colors.text.tertiary,fontSize:d.Tokens.type.xs,fontWeight:"700",letterSpacing:1,marginBottom:d.Tokens.spacing[4]},googleCalendarButton:p({minHeight:d.Tokens.layout.minTapTarget,paddingHorizontal:d.Tokens.spacing[4],backgroundColor:d.Tokens.colors.neutral.dark,borderRadius:d.Tokens.radii.none,borderWidth:1,borderColor:d.Tokens.colors.neutral.borderSubtle,alignItems:"center",justifyContent:"center"},i.Platform.select({web:{transition:d.Tokens.motion.transitions.base,cursor:"pointer"}})),googleCalendarButtonHovered:{backgroundColor:d.Tokens.colors.neutral.darker,borderColor:d.Tokens.colors.text.tertiary},googleCalendarButtonPressed:{transform:[{scale:d.Tokens.motion.scales.press}],backgroundColor:d.Tokens.colors.neutral.darkest},googleCalendarButtonDisabled:p({backgroundColor:d.Tokens.colors.neutral.darkest,borderColor:d.Tokens.colors.neutral.borderSubtle,opacity:.5},i.Platform.select({web:{cursor:"not-allowed"}})),googleCalendarButtonText:{fontFamily:d.Tokens.type.fontFamily.sans,color:d.Tokens.colors.text.primary,fontSize:d.Tokens.type.xs,fontWeight:"700",letterSpacing:1}});t.default=function(){var e,t=(0,c.useState)(new Date),n=(0,u.default)(t,2),o=n[0],a=n[1],d=(0,c.useState)("checking"),g=(0,u.default)(d,2),p=g[0],T=g[1],y=(0,c.useState)(!1),_=(0,u.default)(y,2),N=_[0],C=_[1],h=(e=o,new Date(e.getFullYear(),e.getMonth()+1,0).getDate()),w=function(e){return new Date(e.getFullYear(),e.getMonth(),1).getDay()}(o),x=Array(h).fill(0).map(function(e,t){return t+1}),v=(0,c.useCallback)((0,s.default)(l.default.mark(function e(){var t,n,o,a,s,u;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("web"!==i.Platform.OS){e.next=1;break}return T("unsupported"),e.abrupt("return");case 1:return e.prev=1,a=r(85927),e.next=2,null===(t=a.GoogleSignin)||void 0===t||null===(n=t.getCurrentUser)||void 0===n?void 0:n.call(t);case 2:s=e.sent,u=Boolean(null==s||null===(o=s.scopes)||void 0===o?void 0:o.includes("https://www.googleapis.com/auth/calendar.events")),T(u?"connected":"disconnected"),e.next=4;break;case 3:e.prev=3,e.catch(1),T("disconnected");case 4:case"end":return e.stop()}},e,null,[[1,3]])})),[]);(0,c.useEffect)(function(){v()},[v]);var S=(0,c.useCallback)((0,s.default)(l.default.mark(function e(){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("unsupported"!==p&&"checking"!==p&&!N){e.next=1;break}return e.abrupt("return");case 1:return C(!0),e.prev=2,e.next=3,m.GoogleTasksSyncService.signInInteractive();case 3:return e.prev=3,e.next=4,v();case 4:return C(!1),e.finish(3);case 5:case"end":return e.stop()}},e,null,[[2,,3,5]])})),[p,N,v]),E="connected"===p||"unsupported"===p||"checking"===p||N;return c.default.createElement(i.SafeAreaView,{style:k.container,__self:f,__source:{fileName:b,lineNumber:139,columnNumber:5}},c.default.createElement(i.View,{style:k.webContainer,__self:f,__source:{fileName:b,lineNumber:140,columnNumber:7}},c.default.createElement(i.ScrollView,{style:k.scrollView,contentContainerStyle:k.scrollContent,showsVerticalScrollIndicator:!1,__self:f,__source:{fileName:b,lineNumber:141,columnNumber:9}},c.default.createElement(i.View,{style:k.content,__self:f,__source:{fileName:b,lineNumber:146,columnNumber:11}},c.default.createElement(i.Text,{style:k.title,__self:f,__source:{fileName:b,lineNumber:147,columnNumber:13}},"CALENDAR"),c.default.createElement(i.View,{style:k.calendarCard,__self:f,__source:{fileName:b,lineNumber:149,columnNumber:13}},c.default.createElement(i.View,{style:k.header,__self:f,__source:{fileName:b,lineNumber:150,columnNumber:15}},c.default.createElement(i.Pressable,{onPress:function(){a(new Date(o.getFullYear(),o.getMonth()-1))},style:function(e){var t=e.pressed,r=e.hovered;return[k.navButton,r&&k.navButtonHovered,t&&k.navButtonPressed]},__self:f,__source:{fileName:b,lineNumber:151,columnNumber:17}},c.default.createElement(i.Text,{style:k.navButtonText,__self:f,__source:{fileName:b,lineNumber:165,columnNumber:19}},"‹")),c.default.createElement(i.Text,{style:k.monthText,__self:f,__source:{fileName:b,lineNumber:167,columnNumber:17}},["January","February","March","April","May","June","July","August","September","October","November","December"][o.getMonth()].toUpperCase()," ",o.getFullYear()),c.default.createElement(i.Pressable,{onPress:function(){a(new Date(o.getFullYear(),o.getMonth()+1))},style:function(e){var t=e.pressed,r=e.hovered;return[k.navButton,r&&k.navButtonHovered,t&&k.navButtonPressed]},__self:f,__source:{fileName:b,lineNumber:171,columnNumber:17}},c.default.createElement(i.Text,{style:k.navButtonText,__self:f,__source:{fileName:b,lineNumber:185,columnNumber:19}},"›"))),c.default.createElement(i.View,{style:k.weekdays,__self:f,__source:{fileName:b,lineNumber:189,columnNumber:15}},["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(function(e){return c.default.createElement(i.Text,{key:e,style:k.weekdayText,__self:f,__source:{fileName:b,lineNumber:191,columnNumber:19}},e)})),c.default.createElement(i.View,{style:k.daysGrid,__self:f,__source:{fileName:b,lineNumber:197,columnNumber:15}},Array(w).fill(0).map(function(e,t){return c.default.createElement(i.View,{key:"empty-".concat(t),style:k.dayCell,__self:f,__source:{fileName:b,lineNumber:201,columnNumber:21}})}),x.map(function(e){var t=e===(new Date).getDate()&&o.getMonth()===(new Date).getMonth()&&o.getFullYear()===(new Date).getFullYear();return c.default.createElement(i.Pressable,{key:e,style:function(e){var r=e.pressed,n=e.hovered;return[k.dayCell,t&&k.todayCell,n&&!t&&k.dayCellHovered,r&&!t&&k.dayCellPressed]},__self:f,__source:{fileName:b,lineNumber:209,columnNumber:21}},c.default.createElement(i.Text,{style:[k.dayText,t&&k.todayText],__self:f,__source:{fileName:b,lineNumber:224,columnNumber:23}},e))}))),c.default.createElement(i.View,{style:k.legend,__self:f,__source:{fileName:b,lineNumber:235,columnNumber:13}},c.default.createElement(i.View,{style:k.legendItem,__self:f,__source:{fileName:b,lineNumber:236,columnNumber:15}},c.default.createElement(i.View,{style:[k.legendDot,k.todayDot],__self:f,__source:{fileName:b,lineNumber:237,columnNumber:17}}),c.default.createElement(i.Text,{style:k.legendText,__self:f,__source:{fileName:b,lineNumber:238,columnNumber:17}},"TODAY"))),c.default.createElement(i.View,{style:k.googleCalendarCard,__self:f,__source:{fileName:b,lineNumber:242,columnNumber:13}},c.default.createElement(i.Text,{style:k.googleCalendarTitle,__self:f,__source:{fileName:b,lineNumber:243,columnNumber:15}},"GOOGLE CALENDAR"),c.default.createElement(i.Text,{style:k.googleCalendarStatus,__self:f,__source:{fileName:b,lineNumber:244,columnNumber:15}},{checking:"STATUS: CHECKING...",connected:"STATUS: CONNECTED",disconnected:"STATUS: NOT CONNECTED",unsupported:"STATUS: NOT AVAILABLE ON WEB"}[p]),c.default.createElement(i.Pressable,{onPress:S,disabled:E,style:function(e){var t=e.pressed,r=e.hovered;return[k.googleCalendarButton,r&&!E&&k.googleCalendarButtonHovered,t&&!E&&k.googleCalendarButtonPressed,E&&k.googleCalendarButtonDisabled]},__self:f,__source:{fileName:b,lineNumber:247,columnNumber:15}},c.default.createElement(i.Text,{style:k.googleCalendarButtonText,__self:f,__source:{fileName:b,lineNumber:268,columnNumber:17}},{checking:"CHECKING...",connected:"CONNECTED",disconnected:"CONNECT GOOGLE CALENDAR",unsupported:"WEB UNSUPPORTED"}[p])))))))}}}]);