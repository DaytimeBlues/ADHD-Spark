(self.webpackChunkspark_adhd_rn=self.webpackChunkspark_adhd_rn||[]).push([[363],{13363(e,t,n){var r=n(18772),o=n(66584);Object.defineProperty(t,"__esModule",{value:!0}),t.getRecommendationAction=t.default=void 0;var a=r(n(16578)),l=r(n(3791)),s=r(n(26007)),i=r(n(58361)),u=function(e){if("function"==typeof WeakMap){var t=new WeakMap;new WeakMap}return function(e){if(e&&e.__esModule)return e;var n,r,a={__proto__:null,default:e};if(null===e||"object"!=o(e)&&"function"!=typeof e)return a;if(n=t){if(n.has(e))return n.get(e);n.set(e,a)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((r=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(r.get||r.set)?n(a,l,r):a[l]=e[l]);return a}(e)}(n(25602)),c=n(71582),m=n(18878),f=n(44604),d=r(n(46414)),p=n(2865),b=n(46586),_=n(59354),g=r(n(62225)),y=this,T="C:\\Users\\Steve\\OneDrive\\Desktop\\Github Repos\\spark-adhd\\src\\screens\\CheckInScreen.tsx";function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach(function(t){(0,l.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var h=t.getRecommendationAction=function(e,t){return e>=4&&t>=4?{route:p.ROUTES.FOCUS,source:"checkin_prompt",cta:"START IGNITE"}:e<=2&&t<=2?{route:p.ROUTES.ANCHOR,source:"checkin_prompt",cta:"OPEN ANCHOR"}:t<=2?{route:p.ROUTES.FOG_CUTTER,source:"checkin_prompt",cta:"OPEN FOG CUTTER"}:{route:p.ROUTES.TASKS,source:"checkin_prompt",cta:"OPEN BRAIN DUMP"}};t.default=function(e){var t=e.navigation,n=(0,u.useState)(null),r=(0,i.default)(n,2),o=r[0],l=r[1],k=(0,u.useState)(null),x=(0,i.default)(k,2),v=x[0],E=x[1],S=(0,u.useState)(null),w=(0,i.default)(S,2),C=w[0],F=w[1],O=(0,u.useState)(!1),D=(0,i.default)(O,2),I=D[0],B=D[1],P=(0,_.useTheme)().isCosmic;u.default.useEffect(function(){if(null!==o&&null!==v){var e=(t=(0,s.default)(a.default.mark(function e(){var t;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,g.default.getPersonalizedInsight();case 1:(t=e.sent)&&F(t);case 2:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)});e()}var t},[o,v]);var R,A=null===o||null===v?null:o<=2&&v<=2?{title:"ðŸŒ± GENTLE START",desc:"Try the Anchor breathing exercise to ground yourself."}:o>=4&&v>=4?{title:"ðŸš€ RIDE THE WAVE",desc:"Perfect time for a Ignite focus session!"}:v<=2?{title:"ðŸ’ª MICRO TASK",desc:"Try Fog Cutter with just one micro-step."}:{title:"ðŸ“ BRAIN DUMP",desc:"Clear your mind before starting."},j=(R=(0,s.default)(a.default.mark(function e(){var n,r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==o&&null!==v&&!I){e.next=1;break}return e.abrupt("return");case 1:if(n=h(o,v),B(!0),e.prev=2,n.route!==p.ROUTES.FOCUS){e.next=6;break}return e.prev=3,e.next=4,d.default.requestPendingStart({source:n.source,requestedAt:(new Date).toISOString(),context:{reason:"checkin_high_readiness"}});case 4:e.next=6;break;case 5:e.prev=5,r=e.catch(3),console.warn("Failed to queue pending ignite start from check-in:",r);case 6:null==t||t.navigate(n.route);case 7:return e.prev=7,B(!1),e.finish(7);case 8:case"end":return e.stop()}},e,null,[[2,,7,8],[3,5]])})),function(){return R.apply(this,arguments)}),W=function(e){return c.StyleSheet.create({container:{flex:1,backgroundColor:"transparent"},webContainer:{flex:1,width:"100%",maxWidth:b.Tokens.layout.maxWidth.prose,alignSelf:"center"},content:{flex:1,padding:b.Tokens.spacing[6]},title:N({fontFamily:e?"Space Grotesk":b.Tokens.type.fontFamily.sans,fontSize:b.Tokens.type["4xl"],fontWeight:"800",color:e?"#EEF2FF":b.Tokens.colors.text.primary,marginBottom:b.Tokens.spacing[2],letterSpacing:2,textAlign:"center"},e&&"web"===c.Platform.OS?{textShadow:"0 0 20px rgba(139, 92, 246, 0.3)"}:{}),subtitle:{fontFamily:b.Tokens.type.fontFamily.sans,fontSize:b.Tokens.type.base,color:e?"#B9C2D9":b.Tokens.colors.text.secondary,marginBottom:b.Tokens.spacing[4],textAlign:"center",letterSpacing:1},rationaleCard:{marginBottom:b.Tokens.spacing[8]},rationaleTitle:{fontFamily:b.Tokens.type.fontFamily.mono,fontSize:b.Tokens.type.xs,fontWeight:"700",color:e?"#2DD4BF":b.Tokens.colors.brand[500],letterSpacing:1,marginBottom:b.Tokens.spacing[2],textTransform:"uppercase"},rationaleText:{fontFamily:b.Tokens.type.fontFamily.body,fontSize:b.Tokens.type.sm,color:e?"#B9C2D9":b.Tokens.colors.text.secondary,lineHeight:22,flexWrap:"wrap"},section:{marginBottom:b.Tokens.spacing[8]},sectionTitle:{fontFamily:b.Tokens.type.fontFamily.sans,color:e?"#EEF2FF":b.Tokens.colors.text.primary,fontSize:b.Tokens.type.sm,fontWeight:"600",marginBottom:b.Tokens.spacing[4],letterSpacing:1},options:{flexDirection:"column",gap:b.Tokens.spacing[3]},option:N({padding:b.Tokens.spacing[5],borderRadius:e?20:b.Tokens.radii.none,backgroundColor:e?"rgba(14, 20, 40, 0.6)":b.Tokens.colors.neutral.darker,borderWidth:1,borderColor:e?"rgba(185, 194, 217, 0.12)":b.Tokens.colors.neutral.borderSubtle},c.Platform.select({web:N({transition:"all 0.2s ease",cursor:"pointer"},e?{backdropFilter:"blur(8px)"}:{})})),optionHovered:N({borderColor:e?"rgba(139, 92, 246, 0.5)":b.Tokens.colors.text.tertiary,transform:[{translateY:-2}]},c.Platform.select({web:{boxShadow:"0 0 0 rgba(0,0,0,0)"}})),optionPressed:{transform:[{scale:b.Tokens.motion.scales.press}],backgroundColor:e?"#111A33":b.Tokens.colors.neutral.dark},selected:N(N({borderColor:e?"#8B5CF6":b.Tokens.colors.brand[500],borderTopColor:e?"#A78BFA":void 0,borderTopWidth:e?2:1,backgroundColor:e?"rgba(139, 92, 246, 0.18)":b.Tokens.colors.brand[900],transform:[{translateY:-4},{scale:1.01}]},b.Tokens.elevation.none),c.Platform.select({web:e?{boxShadow:"0 0 0 2px rgba(139,92,246,0.4), 0 0 20px rgba(139,92,246,0.25)"}:{boxShadow:"0 0 0 0"}})),optionContent:{flexDirection:"column",gap:2},quote:{fontFamily:e?'"Space Grotesk", sans-serif':b.Tokens.type.fontFamily.sans,fontSize:b.Tokens.type.lg,fontStyle:"italic",color:e?"rgba(238, 242, 255, 0.78)":b.Tokens.colors.text.secondary,lineHeight:22,marginTop:b.Tokens.spacing[2],marginBottom:b.Tokens.spacing[1]},selectedQuote:{color:e?"#EEF2FF":b.Tokens.colors.text.primary},author:{fontFamily:b.Tokens.type.fontFamily.sans,fontSize:b.Tokens.type.xs,color:e?"#B9C2D9":b.Tokens.colors.text.tertiary,alignSelf:"flex-end"},label:{fontFamily:b.Tokens.type.fontFamily.mono,color:e?"#8B5CF6":b.Tokens.colors.brand[500],fontSize:b.Tokens.type.xs,fontWeight:"700",letterSpacing:1},selectedLabel:{color:e?"#2DD4BF":b.Tokens.colors.text.primary},recommendation:{marginTop:b.Tokens.spacing[4]},recommendationTitle:{fontFamily:b.Tokens.type.fontFamily.sans,fontSize:b.Tokens.type.lg,fontWeight:"700",color:e?"#EEF2FF":b.Tokens.colors.text.primary,marginBottom:b.Tokens.spacing[1]},recommendationSubtitle:{fontFamily:b.Tokens.type.fontFamily.mono,fontSize:b.Tokens.type.xs,fontWeight:"600",color:e?"#B9C2D9":b.Tokens.colors.text.tertiary,letterSpacing:1,marginBottom:b.Tokens.spacing[3]},recommendationText:{fontFamily:b.Tokens.type.fontFamily.sans,color:e?"#B9C2D9":b.Tokens.colors.text.primary,fontSize:b.Tokens.type.base,lineHeight:1.5*b.Tokens.type.base,marginBottom:b.Tokens.spacing[2]},evidenceBadge:{marginTop:b.Tokens.spacing[2],marginBottom:b.Tokens.spacing[4]},insightBox:{backgroundColor:e?"rgba(139, 92, 246, 0.1)":b.Tokens.colors.neutral.darkest,borderLeftWidth:2,borderLeftColor:e?"#8B5CF6":b.Tokens.colors.brand[500],padding:b.Tokens.spacing[3],marginVertical:b.Tokens.spacing[4],borderRadius:e?4:0},insightLabel:{fontFamily:b.Tokens.type.fontFamily.mono,fontSize:b.Tokens.type.xxs,color:e?"#8B5CF6":b.Tokens.colors.brand[500],marginBottom:4,letterSpacing:1},insightText:{fontFamily:b.Tokens.type.fontFamily.sans,fontSize:b.Tokens.type.sm,fontStyle:"italic",color:e?"#EEF2FF":b.Tokens.colors.text.primary,lineHeight:20}})}(P);return u.default.createElement(m.CosmicBackground,{variant:"moon",__self:y,__source:{fileName:T,lineNumber:210,columnNumber:5}},u.default.createElement(c.SafeAreaView,{style:W.container,__self:y,__source:{fileName:T,lineNumber:211,columnNumber:7}},u.default.createElement(c.View,{style:W.webContainer,__self:y,__source:{fileName:T,lineNumber:212,columnNumber:9}},u.default.createElement(c.View,{style:W.content,__self:y,__source:{fileName:T,lineNumber:213,columnNumber:11}},u.default.createElement(c.Text,{style:W.title,__self:y,__source:{fileName:T,lineNumber:214,columnNumber:13}},"CHECK IN"),u.default.createElement(c.Text,{style:W.subtitle,__self:y,__source:{fileName:T,lineNumber:215,columnNumber:13}},"HOW ARE YOU FEELING RIGHT NOW?"),u.default.createElement(m.GlowCard,{glow:"soft",tone:"base",padding:"md",style:W.rationaleCard,__self:y,__source:{fileName:T,lineNumber:217,columnNumber:13}},u.default.createElement(c.Text,{style:W.rationaleTitle,__self:y,__source:{fileName:T,lineNumber:223,columnNumber:15}},"WHY THIS WORKS"),u.default.createElement(c.Text,{style:W.rationaleText,__self:y,__source:{fileName:T,lineNumber:224,columnNumber:15}},"Self-monitoring is a core CBT skill for ADHD. Tracking mood and energy helps identify patterns, predict challenges, and choose appropriate interventions. This metacognitive awareness creates space between feeling and action.")),u.default.createElement(c.View,{style:W.section,__self:y,__source:{fileName:T,lineNumber:232,columnNumber:13}},u.default.createElement(c.Text,{style:W.sectionTitle,__self:y,__source:{fileName:T,lineNumber:233,columnNumber:15}},"MOOD"),u.default.createElement(c.View,{style:W.options,__self:y,__source:{fileName:T,lineNumber:234,columnNumber:15}},[{quote:"â€œI am a forest, and a night of dark trees.â€",author:"Nietzsche",label:"Low",value:1},{quote:"â€œA melancholy of mine own.â€",author:"Shakespeare",label:"Down",value:2},{quote:"â€œI simply am.â€",author:"Kafka",label:"Neutral",value:3},{quote:"â€œI celebrate myself, and sing myself.â€",author:"Whitman",label:"Good",value:4},{quote:"â€œI dwell in possibility.â€",author:"Dickinson",label:"Great",value:5}].map(function(e){return u.default.createElement(c.Pressable,{key:e.value,testID:"mood-option-".concat(e.value),style:function(t){var n=t.pressed,r=t.hovered;return[W.option,o===e.value&&W.selected,r&&!o&&W.optionHovered,n&&W.optionPressed]},onPress:function(){return l(e.value)},__self:y,__source:{fileName:T,lineNumber:236,columnNumber:19}},u.default.createElement(c.View,{style:W.optionContent,__self:y,__source:{fileName:T,lineNumber:253,columnNumber:21}},u.default.createElement(c.Text,{style:[W.label,o===e.value&&W.selectedLabel],__self:y,__source:{fileName:T,lineNumber:254,columnNumber:23}},e.label.toUpperCase()),u.default.createElement(c.Text,{style:[W.quote,o===e.value&&W.selectedQuote],__self:y,__source:{fileName:T,lineNumber:262,columnNumber:23}},e.quote),u.default.createElement(c.Text,{style:W.author,__self:y,__source:{fileName:T,lineNumber:270,columnNumber:23}},"â€” ",e.author)))}))),u.default.createElement(c.View,{style:W.section,__self:y,__source:{fileName:T,lineNumber:277,columnNumber:13}},u.default.createElement(c.Text,{style:W.sectionTitle,__self:y,__source:{fileName:T,lineNumber:278,columnNumber:15}},"ENERGY"),u.default.createElement(c.View,{style:W.options,__self:y,__source:{fileName:T,lineNumber:279,columnNumber:15}},[{quote:"â€œI am worn out with dreams.â€",author:"Wilde",label:"Drained",value:1},{quote:"â€œA strange languor has come over me.â€",author:"Shelley",label:"Low",value:2},{quote:"â€œI am awake, and the world is awake.â€",author:"Thoreau",label:"Medium",value:3},{quote:"â€œThere is a vitality, a life force.â€",author:"Graham",label:"High",value:4},{quote:"â€œI contain multitudes.â€",author:"Whitman",label:"Full",value:5}].map(function(e){return u.default.createElement(c.Pressable,{key:e.value,testID:"energy-option-".concat(e.value),style:function(t){var n=t.pressed,r=t.hovered;return[W.option,v===e.value&&W.selected,r&&!v&&W.optionHovered,n&&W.optionPressed]},onPress:function(){return E(e.value)},__self:y,__source:{fileName:T,lineNumber:281,columnNumber:19}},u.default.createElement(c.View,{style:W.optionContent,__self:y,__source:{fileName:T,lineNumber:298,columnNumber:21}},u.default.createElement(c.Text,{style:[W.label,v===e.value&&W.selectedLabel],__self:y,__source:{fileName:T,lineNumber:299,columnNumber:23}},e.label.toUpperCase()),u.default.createElement(c.Text,{style:[W.quote,v===e.value&&W.selectedQuote],__self:y,__source:{fileName:T,lineNumber:307,columnNumber:23}},e.quote),u.default.createElement(c.Text,{style:W.author,__self:y,__source:{fileName:T,lineNumber:315,columnNumber:23}},"â€” ",e.author)))}))),A&&u.default.createElement(m.GlowCard,{glow:"medium",tone:"raised",padding:"lg",style:W.recommendation,__self:y,__source:{fileName:T,lineNumber:323,columnNumber:15}},u.default.createElement(c.Text,{style:W.recommendationTitle,__self:y,__source:{fileName:T,lineNumber:329,columnNumber:17}},A.title),u.default.createElement(c.Text,{style:W.recommendationSubtitle,__self:y,__source:{fileName:T,lineNumber:332,columnNumber:17}},"RECOMMENDED FOR YOU"),u.default.createElement(c.Text,{style:W.recommendationText,__self:y,__source:{fileName:T,lineNumber:335,columnNumber:17}},A.desc),C&&u.default.createElement(c.View,{style:W.insightBox,__self:y,__source:{fileName:T,lineNumber:339,columnNumber:19}},u.default.createElement(c.Text,{style:W.insightLabel,__self:y,__source:{fileName:T,lineNumber:340,columnNumber:21}},"AI_INSIGHT:"),u.default.createElement(c.Text,{style:W.insightText,__self:y,__source:{fileName:T,lineNumber:341,columnNumber:21}},C)),u.default.createElement(f.EvidenceBadge,{tier:"heuristic",style:W.evidenceBadge,__self:y,__source:{fileName:T,lineNumber:344,columnNumber:17}}),u.default.createElement(m.RuneButton,{variant:"primary",size:"md",glow:"medium",onPress:j,testID:"recommendation-action-button",__self:y,__source:{fileName:T,lineNumber:345,columnNumber:17}},null!==o&&null!==v?h(o,v).cta:"CONTINUE"))))))}},44604(e,t,n){var r=n(18772);Object.defineProperty(t,"__esModule",{value:!0}),t.EvidenceBadge=void 0;var o=r(n(25602)),a=n(71582),l=n(46586),s=this,i="C:\\Users\\Steve\\OneDrive\\Desktop\\Github Repos\\spark-adhd\\src\\components\\ui\\EvidenceBadge.tsx",u={rct:"RCT EVIDENCE",clinical:"CLINICAL BEST PRACTICE",heuristic:"EXPERT CONSENSUS"},c=(t.EvidenceBadge=function(e){var t=e.tier,n=e.label,r=e.style;return o.default.createElement(a.View,{style:[c.container,r],__self:s,__source:{fileName:i,lineNumber:25,columnNumber:5}},o.default.createElement(a.Text,{style:c.text,__self:s,__source:{fileName:i,lineNumber:26,columnNumber:7}},"(",(n||u[t]).toUpperCase(),")"))},a.StyleSheet.create({container:{flexDirection:"row",alignItems:"center",alignSelf:"flex-start"},text:{fontFamily:l.Tokens.type.fontFamily.mono,fontSize:l.Tokens.type.xxs,color:l.Tokens.colors.text.tertiary,letterSpacing:.5}}))},62225(e,t,n){var r=n(18772);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(16578)),a=r(n(66584)),l=r(n(26007)),s=r(n(40629)),i=n(8747),u="checkInInsightCache";function c(e){return 0===e.length?"No recent check-ins.":e.slice(0,7).map(function(e){return[new Date(e.timestamp).toLocaleDateString(),e.mood?"mood: ".concat(e.mood):"",null!=e.energy?"energy: ".concat(e.energy,"/5"):""].filter(Boolean).join(", ")}).join("\n")}var m={generateInsight:function(e){return(0,l.default)(o.default.mark(function t(){var n,r,l,m,f,d,p,b;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.length){t.next=1;break}return t.abrupt("return",null);case 1:return t.next=2,s.default.getJSON(u);case 2:if(!((n=t.sent)&&Date.now()-n.generatedAt<864e5)){t.next=3;break}return t.abrupt("return",n);case 3:return r=c(e),l=new AbortController,m=setTimeout(function(){return l.abort()},i.config.aiTimeout),t.prev=4,t.next=5,fetch("".concat(i.config.apiBaseUrl,"/api/insight"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({context:r}),signal:l.signal});case 5:if(f=t.sent,clearTimeout(m),f.ok){t.next=6;break}return t.abrupt("return",null);case 6:return t.prev=6,t.next=7,f.json();case 7:d=t.sent,t.next=9;break;case 8:return t.prev=8,t.catch(6),t.abrupt("return",null);case 9:if(d&&"object"===(0,a.default)(d)&&"string"==typeof d.insight){t.next=10;break}return t.abrupt("return",null);case 10:return p={text:d.insight.trim(),generatedAt:Date.now()},t.next=11,s.default.setJSON(u,p);case 11:return t.abrupt("return",p);case 12:return t.prev=12,b=t.catch(4),clearTimeout(m),console.warn("CheckInInsight: unavailable",b),t.abrupt("return",null);case 13:case"end":return t.stop()}},t,null,[[4,12],[6,8]])}))()},getPersonalizedInsight:function(){var e=this;return(0,l.default)(o.default.mark(function t(){var n,r,a;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=1,s.default.getJSON("checkInHistory");case 1:if(a=t.sent){t.next=2;break}a=[];case 2:if(0!==(n=a).length){t.next=3;break}return t.abrupt("return",null);case 3:return t.next=4,e.generateInsight(n);case 4:return r=t.sent,t.abrupt("return",(null==r?void 0:r.text)||null);case 5:case"end":return t.stop()}},t)}))()},invalidateCache:function(){return(0,l.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,s.default.setJSON(u,null);case 1:case"end":return e.stop()}},e)}))()}};t.default=m}}]);