(self.webpackChunkspark_adhd_rn=self.webpackChunkspark_adhd_rn||[]).push([[469],{56045(e,t,r){var n=r(18772);Object.defineProperty(t,"__esModule",{value:!0}),t.LinearButton=void 0;var o=n(r(25602)),a=r(71582),s=r(46586),i=this,l="C:\\Users\\Steve\\OneDrive\\Desktop\\Github Repos\\spark-adhd-backup\\src\\components\\ui\\LinearButton.tsx",u=(t.LinearButton=function(e){var t=e.title,r=e.onPress,n=e.variant,c=void 0===n?"primary":n,m=e.size,f=void 0===m?"md":m,d=e.loading,p=void 0!==d&&d,_=e.disabled,b=void 0!==_&&_,y=e.style,g=e.textStyle,N=function(){switch(c){case"secondary":return u.secondary;case"ghost":return u.ghost;case"error":return u.error;default:return u.primary}},k=function(){switch(f){case"sm":return u.sm;case"lg":return u.lg;default:return u.md}};return o.default.createElement(a.Pressable,{onPress:r,disabled:b||p,style:function(e){var t=e.pressed;return[u.base,k(),N(),t&&!b&&u.pressed,b&&u.disabled,y]},__self:i,__source:{fileName:l,lineNumber:64,columnNumber:9}},p?o.default.createElement(a.ActivityIndicator,{color:"primary"===c?s.Colors.text.primary:s.Colors.indigo.primary,__self:i,__source:{fileName:l,lineNumber:77,columnNumber:17}}):o.default.createElement(a.Text,{style:[u.text,function(){switch(c){case"secondary":return u.secondaryText;case"ghost":return u.ghostText;case"error":return u.errorText;default:return u.primaryText}}(),"sm"===f&&u.smText,g],__self:i,__source:{fileName:l,lineNumber:79,columnNumber:17}},t))},a.StyleSheet.create({base:{borderRadius:s.Radii.md,justifyContent:"center",alignItems:"center",flexDirection:"row"},sm:{paddingVertical:s.Spacing[1],paddingHorizontal:s.Spacing[2]},md:{paddingVertical:s.Spacing[2],paddingHorizontal:s.Spacing[4],minHeight:36},lg:{paddingVertical:s.Spacing[3],paddingHorizontal:s.Spacing[6],minHeight:44},primary:{backgroundColor:s.Colors.indigo.primary,borderWidth:1,borderColor:s.Colors.indigo.primary},secondary:{backgroundColor:s.Colors.neutral.dark,borderWidth:1,borderColor:s.Colors.neutral.border},ghost:{backgroundColor:"transparent"},error:{backgroundColor:s.Colors.error.subtle,borderWidth:1,borderColor:s.Colors.error.main},pressed:{opacity:.8,transform:[{scale:.98}]},disabled:{opacity:.5},text:{fontFamily:"Inter",fontWeight:"500",fontSize:s.TypeScale.base,letterSpacing:-.1},smText:{fontSize:s.TypeScale.sm},primaryText:{color:s.Colors.text.primary},secondaryText:{color:s.Colors.text.primary},ghostText:{color:s.Colors.text.secondary},errorText:{color:s.Colors.error.main}}))},91469(e,t,r){var n=r(18772),o=r(66584);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(16578)),s=n(r(26007)),i=n(r(58361)),l=function(e){if("function"==typeof WeakMap){var t=new WeakMap;new WeakMap}return function(e){if(e&&e.__esModule)return e;var r,n,a={__proto__:null,default:e};if(null===e||"object"!=o(e)&&"function"!=typeof e)return a;if(r=t){if(r.has(e))return r.get(e);r.set(e,a)}for(var s in e)"default"!==s&&{}.hasOwnProperty.call(e,s)&&((n=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,s))&&(n.get||n.set)?r(a,s,n):a[s]=e[s]);return a}(e)}(r(25602)),u=r(71582),c=n(r(98759)),m=n(r(40629)),f=r(15547),d=r(56045),p=r(46586),_=this,b="C:\\Users\\Steve\\OneDrive\\Desktop\\Github Repos\\spark-adhd-backup\\src\\screens\\PomodoroScreen.tsx",y=u.StyleSheet.create({container:{flex:1,backgroundColor:p.Tokens.colors.neutral.darkest,alignItems:"center"},content:{flex:1,padding:p.Tokens.spacing[4],alignItems:"center",justifyContent:"center",width:"100%",maxWidth:680},title:{fontFamily:"Inter",fontSize:32,fontWeight:"700",color:p.Tokens.colors.text.primary,marginBottom:p.Tokens.spacing[1],letterSpacing:-.5},subtitle:{fontFamily:"Inter",fontSize:p.Tokens.type.base,color:p.Tokens.colors.text.secondary,marginBottom:p.Tokens.spacing[6]},sessionsContainer:{marginBottom:p.Tokens.spacing[8]},sessionsText:{fontFamily:"Inter",color:p.Tokens.colors.indigo.primary,fontSize:p.Tokens.type.sm,fontWeight:"600"},timerContainer:{alignItems:"center",marginBottom:p.Tokens.spacing[12],justifyContent:"center"},phaseIndicator:{width:240,height:240,borderRadius:p.Tokens.radii.full,position:"absolute",opacity:.1},timer:{fontFamily:"Inter",fontSize:84,fontWeight:"700",color:p.Tokens.colors.text.primary,fontVariant:["tabular-nums"],textAlign:"center",letterSpacing:-2},phaseText:{fontFamily:"Inter",fontSize:p.Tokens.type.lg,color:p.Tokens.colors.text.tertiary,marginTop:p.Tokens.spacing[2]},controls:{flexDirection:"row",gap:p.Tokens.spacing[3],marginTop:p.Tokens.spacing[8]},controlBtn:{minWidth:120}});t.default=function(){var e=(0,l.useState)(!0),t=(0,i.default)(e,2),r=t[0],n=t[1],o=(0,l.useState)(1500),g=(0,i.default)(o,2),N=g[0],k=g[1],T=(0,l.useState)(!1),h=(0,i.default)(T,2),S=h[0],x=h[1],v=(0,l.useState)(0),C=(0,i.default)(v,2),E=C[0],w=C[1],I=(0,l.useRef)(null),B=(0,l.useRef)(r);return(0,l.useEffect)(function(){B.current=r},[r]),(0,l.useEffect)(function(){var e,t=(e=(0,s.default)(a.default.mark(function e(){var t;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,m.default.getJSON(m.default.STORAGE_KEYS.pomodoroState);case 1:if(t=e.sent){e.next=2;break}return e.abrupt("return");case 2:"boolean"==typeof t.isWorking&&n(t.isWorking),"number"==typeof t.timeLeft&&k(t.timeLeft),"number"==typeof t.sessions&&w(t.sessions);case 3:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)});return t(),function(){I.current&&clearInterval(I.current)}},[]),(0,l.useEffect)(function(){m.default.setJSON(m.default.STORAGE_KEYS.pomodoroState,{isWorking:r,timeLeft:N,sessions:E})},[r,N,E]),l.default.createElement(u.SafeAreaView,{style:y.container,__self:_,__source:{fileName:b,lineNumber:112,columnNumber:5}},l.default.createElement(u.View,{style:y.content,__self:_,__source:{fileName:b,lineNumber:113,columnNumber:7}},l.default.createElement(u.Text,{style:y.title,__self:_,__source:{fileName:b,lineNumber:114,columnNumber:9}},"Pomodoro"),l.default.createElement(u.Text,{style:y.subtitle,__self:_,__source:{fileName:b,lineNumber:115,columnNumber:9}},r?"Focus Time":"Take a Break"),l.default.createElement(u.View,{style:y.sessionsContainer,__self:_,__source:{fileName:b,lineNumber:119,columnNumber:9}},l.default.createElement(u.Text,{style:y.sessionsText,__self:_,__source:{fileName:b,lineNumber:120,columnNumber:11}},"Sessions completed: ",E)),l.default.createElement(u.View,{style:y.timerContainer,__self:_,__source:{fileName:b,lineNumber:125,columnNumber:9}},l.default.createElement(u.View,{style:[y.phaseIndicator,{backgroundColor:r?p.Tokens.colors.error.main:p.Tokens.colors.success.main}],__self:_,__source:{fileName:b,lineNumber:126,columnNumber:11}}),l.default.createElement(u.Text,{style:y.timer,__self:_,__source:{fileName:b,lineNumber:136,columnNumber:11}},(0,f.formatTime)(N)),l.default.createElement(u.Text,{style:y.phaseText,__self:_,__source:{fileName:b,lineNumber:137,columnNumber:11}},r?"Focus":"Break")),l.default.createElement(u.View,{style:y.controls,__self:_,__source:{fileName:b,lineNumber:142,columnNumber:9}},S?l.default.createElement(d.LinearButton,{title:"Pause",onPress:function(){x(!1),I.current&&clearInterval(I.current)},variant:"secondary",size:"lg",style:y.controlBtn,__self:_,__source:{fileName:b,lineNumber:152,columnNumber:13}}):l.default.createElement(d.LinearButton,{title:"Start",onPress:function(){x(!0),I.current=setInterval(function(){k(function(e){return e<=1?B.current?(w(function(e){return e+1}),n(!1),c.default.playCompletionSound(),300):(n(!0),c.default.playNotificationSound(),1500):e-1})},1e3)},variant:"primary",size:"lg",style:y.controlBtn,__self:_,__source:{fileName:b,lineNumber:144,columnNumber:13}}),l.default.createElement(d.LinearButton,{title:"Reset",onPress:function(){x(!1),n(!0),k(1500),I.current&&clearInterval(I.current)},variant:"ghost",size:"lg",style:y.controlBtn,__self:_,__source:{fileName:b,lineNumber:160,columnNumber:11}}))))}}}]);