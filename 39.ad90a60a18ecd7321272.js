(self.webpackChunkspark_adhd_rn=self.webpackChunkspark_adhd_rn||[]).push([[39],{10380(e,t,n){var r=n(18772);Object.defineProperty(t,"__esModule",{value:!0}),t.EmptyState=void 0;var o=r(n(25602)),a=n(71582),s=n(46586),l=n(56045),i=this,u="C:\\Users\\Steve\\OneDrive\\Desktop\\Github Repos\\spark-adhd\\src\\components\\ui\\EmptyState.tsx",c=(t.EmptyState=function(e){var t=e.icon,n=e.title,r=e.description,s=e.primaryActionLabel,m=e.onPrimaryAction,d=e.primaryVariant,f=void 0===d?"primary":d,p=e.style,_=e.testID;return o.default.createElement(a.View,{style:[c.container,p],testID:_,__self:i,__source:{fileName:u,lineNumber:28,columnNumber:5}},t&&o.default.createElement(a.Text,{style:c.icon,__self:i,__source:{fileName:u,lineNumber:29,columnNumber:16}},t),o.default.createElement(a.Text,{style:c.title,__self:i,__source:{fileName:u,lineNumber:30,columnNumber:7}},n),r&&o.default.createElement(a.Text,{style:c.description,__self:i,__source:{fileName:u,lineNumber:31,columnNumber:23}},r),s&&m&&o.default.createElement(a.View,{style:c.actionContainer,__self:i,__source:{fileName:u,lineNumber:33,columnNumber:9}},o.default.createElement(l.LinearButton,{title:s,onPress:m,variant:f,__self:i,__source:{fileName:u,lineNumber:34,columnNumber:11}})))},a.StyleSheet.create({container:{alignItems:"center",justifyContent:"center",padding:s.Tokens.spacing[8]},icon:{fontFamily:s.Tokens.type.fontFamily.sans,fontSize:s.Tokens.type["5xl"],marginBottom:s.Tokens.spacing[4],textAlign:"center"},title:{fontFamily:s.Tokens.type.fontFamily.mono,color:s.Tokens.colors.text.secondary,fontSize:s.Tokens.type.sm,letterSpacing:2,textAlign:"center",textTransform:"uppercase"},description:{fontFamily:s.Tokens.type.fontFamily.mono,color:s.Tokens.colors.text.tertiary,fontSize:s.Tokens.type.xs,textAlign:"center",marginTop:s.Tokens.spacing[2],maxWidth:300},actionContainer:{marginTop:s.Tokens.spacing[6]}}))},30039(e,t,n){var r=n(18772),o=n(66584);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(16578)),s=r(n(51750)),l=r(n(3791)),i=r(n(26007)),u=r(n(58361)),c=function(e){if("function"==typeof WeakMap){var t=new WeakMap;new WeakMap}return function(e){if(e&&e.__esModule)return e;var n,r,a={__proto__:null,default:e};if(null===e||"object"!=o(e)&&"function"!=typeof e)return a;if(n=t){if(n.has(e))return n.get(e);n.set(e,a)}for(var s in e)"default"!==s&&{}.hasOwnProperty.call(e,s)&&((r=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,s))&&(r.get||r.set)?n(a,s,r):a[s]=e[s]);return a}(e)}(n(25602)),m=n(71582),d=r(n(40629)),f=r(n(93400)),p=r(n(46414)),_=n(15547),g=n(42745),b=n(56045),y=n(10380),T=n(46586),k=n(2865),N=n(18878),x=this,S="C:\\Users\\Steve\\OneDrive\\Desktop\\Github Repos\\spark-adhd\\src\\screens\\FogCutterScreen.tsx";function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach(function(t){(0,l.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.default=function(e){var t=e.navigation,n=(0,c.useState)(""),r=(0,u.default)(n,2),o=r[0],l=r[1],E=(0,c.useState)([]),h=(0,u.default)(E,2),v=h[0],F=h[1],w=(0,c.useState)(""),O=(0,u.default)(w,2),B=O[0],P=O[1],A=(0,c.useState)([]),I=(0,u.default)(A,2),D=I[0],R=I[1],j=(0,c.useState)(null),z=(0,u.default)(j,2),L=z[0],V=z[1],W=(0,c.useState)(!0),H=(0,u.default)(W,2),M=H[0],G=H[1],K=(0,c.useState)(!1),U=(0,u.default)(K,2),Y=U[0],J=U[1],q=(0,c.useState)(!0),X=(0,u.default)(q,2),Q=X[0],Z=X[1],$=(0,c.useState)(null),ee=(0,u.default)($,2),te=ee[0],ne=ee[1],re=(0,c.useRef)(null),oe=(0,T.useTheme)().isCosmic;(0,c.useEffect)(function(){"android"===m.Platform.OS&&m.UIManager.setLayoutAnimationEnabledExperimental&&m.UIManager.setLayoutAnimationEnabledExperimental(!0);var e,t=(e=(0,i.default)(a.default.mark(function e(){var t,n,r,o,s,l;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=1,Promise.all([d.default.getJSON(d.default.STORAGE_KEYS.tasks),d.default.getJSON(d.default.STORAGE_KEYS.firstSuccessGuideState)]);case 1:t=e.sent,n=(0,u.default)(t,2),r=n[0],o=n[1],Z(!!o&&!!o.fogCutterDismissed),r&&Array.isArray(r)&&(s=r.filter(function(e){return Boolean((null==e?void 0:e.id)&&(null==e?void 0:e.text)&&Array.isArray(null==e?void 0:e.microSteps))}).map(function(e){return C(C({},e),{},{microSteps:(0,g.normalizeMicroSteps)(e.microSteps)})}),R(s)),e.next=3;break;case 2:e.prev=2,l=e.catch(0),console.error("Failed to load tasks",l);case 3:return e.prev=3,G(!1),e.finish(3);case 4:case"end":return e.stop()}},e,null,[[0,2,3,4]])})),function(){return e.apply(this,arguments)});t()},[]),(0,c.useEffect)(function(){d.default.setJSON(d.default.STORAGE_KEYS.tasks,D)},[D]);var ae,se=function(){B.trim()&&(F([].concat((0,s.default)(v),[B.trim()])),P(""))},le=(ae=(0,i.default)(a.default.mark(function e(){var n,r,o,s,l;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m.LayoutAnimation.configureNext(m.LayoutAnimation.Presets.easeInEaseOut),J(!1),Z(!0),e.next=1,d.default.getJSON(d.default.STORAGE_KEYS.firstSuccessGuideState);case 1:if(s=n=e.sent,!(o=null!==s)){e.next=2;break}o=void 0!==n;case 2:if(!o){e.next=3;break}l=n,e.next=4;break;case 3:l={};case 4:return r=l,e.next=5,d.default.setJSON(d.default.STORAGE_KEYS.firstSuccessGuideState,C(C({},r),{},{fogCutterDismissed:!0}));case 5:return e.next=6,p.default.requestPendingStart({source:"fogcutter_handoff",requestedAt:(new Date).toISOString(),context:{taskId:null!=te?te:void 0,reason:"user_completed_fog_cutter_decomposition"}});case 6:null==t||t.navigate(k.ROUTES.FOCUS);case 7:case"end":return e.stop()}},e)})),function(){return ae.apply(this,arguments)}),ie=function(e){return m.StyleSheet.create({container:{flex:1,backgroundColor:e?"transparent":T.Tokens.colors.neutral.darkest},scrollContent:{flex:1,alignItems:"center"},content:{flex:1,width:"100%",maxWidth:T.Tokens.layout.maxWidth.prose,padding:T.Tokens.spacing[4]},header:{marginBottom:T.Tokens.spacing[6],flexDirection:"row",alignItems:"center",width:"100%",paddingBottom:T.Tokens.spacing[2],justifyContent:"space-between"},title:{fontFamily:T.Tokens.type.fontFamily.mono,fontSize:T.Tokens.type.lg,fontWeight:"700",color:e?"#EEF2FF":T.Tokens.colors.text.primary,letterSpacing:1,textTransform:"uppercase"},headerLine:{flex:1,height:1,backgroundColor:e?"#0B1022":T.Tokens.colors.neutral.dark,marginLeft:T.Tokens.spacing[4]},rationaleCard:{backgroundColor:e?"#111A33":T.Tokens.colors.neutral.darker,borderWidth:1,borderColor:e?"rgba(42, 53, 82, 0.3)":T.Tokens.colors.neutral.borderSubtle,padding:T.Tokens.spacing[4],marginBottom:T.Tokens.spacing[4],borderRadius:e?12:0},rationaleTitle:{fontFamily:T.Tokens.type.fontFamily.mono,fontSize:T.Tokens.type.xs,fontWeight:"700",color:e?"#8B5CF6":T.Tokens.colors.brand[500],letterSpacing:1,marginBottom:T.Tokens.spacing[2],textTransform:"uppercase"},rationaleText:{fontFamily:T.Tokens.type.fontFamily.body,fontSize:T.Tokens.type.sm,color:e?"#B9C2D9":T.Tokens.colors.text.secondary,lineHeight:22,flexWrap:"wrap"},creationCard:{marginBottom:T.Tokens.spacing[6],backgroundColor:e?"#111A33":T.Tokens.colors.neutral.darkest,padding:T.Tokens.spacing[4],borderRadius:e?12:0,borderWidth:1,borderColor:e?"rgba(42, 53, 82, 0.3)":T.Tokens.colors.neutral.border},creationHeader:{marginBottom:T.Tokens.spacing[4]},cardTitle:{fontFamily:T.Tokens.type.fontFamily.mono,fontSize:T.Tokens.type.xs,fontWeight:"700",color:e?"#B9C2D9":T.Tokens.colors.text.secondary,letterSpacing:1,textTransform:"uppercase"},input:C({backgroundColor:e?"#0B1022":T.Tokens.colors.neutral.darker,borderRadius:e?8:0,paddingHorizontal:T.Tokens.spacing[3],color:e?"#EEF2FF":T.Tokens.colors.text.primary,fontFamily:T.Tokens.type.fontFamily.mono,fontSize:T.Tokens.type.sm,marginBottom:T.Tokens.spacing[3],height:48,borderWidth:1,borderColor:e?"rgba(42, 53, 82, 0.3)":T.Tokens.colors.neutral.border},m.Platform.select({web:{outlineStyle:"none",transition:"border-color 0.2s ease"}})),inputFocused:{borderColor:e?"#8B5CF6":T.Tokens.colors.brand[500],backgroundColor:e?"#111A33":T.Tokens.colors.neutral.darkest},addStepRow:{flexDirection:"row",marginBottom:T.Tokens.spacing[3],gap:T.Tokens.spacing[2]},stepInput:C({flex:1,backgroundColor:e?"#0B1022":T.Tokens.colors.neutral.darker,borderRadius:e?8:0,paddingHorizontal:T.Tokens.spacing[3],color:e?"#EEF2FF":T.Tokens.colors.text.primary,fontFamily:T.Tokens.type.fontFamily.mono,fontSize:T.Tokens.type.sm,height:48,borderWidth:1,borderColor:e?"rgba(42, 53, 82, 0.3)":T.Tokens.colors.neutral.border},m.Platform.select({web:{outlineStyle:"none",transition:"border-color 0.2s ease"}})),addButton:{width:48,height:48,paddingHorizontal:0,justifyContent:"center",alignItems:"center",borderRadius:e?8:0},previewContainer:{backgroundColor:e?"#111A33":T.Tokens.colors.neutral.darkest,borderRadius:e?8:0,padding:T.Tokens.spacing[4],marginBottom:T.Tokens.spacing[3],borderWidth:1,borderStyle:"dashed",borderColor:e?"rgba(42, 53, 82, 0.3)":T.Tokens.colors.neutral.border},previewTitle:{fontFamily:T.Tokens.type.fontFamily.mono,color:T.Tokens.colors.text.tertiary,fontSize:T.Tokens.type.xxs,fontWeight:"700",marginBottom:T.Tokens.spacing[2],textTransform:"uppercase",letterSpacing:1},microStep:{flexDirection:"row",alignItems:"center",paddingVertical:2},stepNumber:{color:T.Tokens.colors.text.tertiary,width:T.Tokens.spacing[6],fontSize:T.Tokens.type.xs,fontWeight:"bold",marginRight:T.Tokens.spacing[2],fontFamily:T.Tokens.type.fontFamily.mono},stepText:{fontFamily:T.Tokens.type.fontFamily.mono,color:e?"#B9C2D9":T.Tokens.colors.text.secondary,fontSize:T.Tokens.type.sm},saveButton:{marginTop:T.Tokens.spacing[2]},divider:{height:1,backgroundColor:e?"rgba(42, 53, 82, 0.3)":T.Tokens.colors.neutral.border,width:"100%",marginBottom:T.Tokens.spacing[6]},sectionHeader:{fontFamily:T.Tokens.type.fontFamily.mono,fontSize:T.Tokens.type.xs,fontWeight:"700",color:T.Tokens.colors.text.tertiary,textTransform:"uppercase",letterSpacing:1,marginBottom:T.Tokens.spacing[3]},taskList:{flex:1},listContent:{paddingBottom:T.Tokens.spacing[20]},taskCard:C({backgroundColor:e?"#111A33":T.Tokens.colors.neutral.darkest,borderRadius:e?12:0,padding:T.Tokens.spacing[4],marginBottom:T.Tokens.spacing[2],borderWidth:1,borderColor:e?"rgba(42, 53, 82, 0.3)":T.Tokens.colors.neutral.border,minHeight:64,justifyContent:"center"},m.Platform.select({web:{transition:"all 0.2s ease",cursor:"pointer"}})),taskCardHovered:{borderColor:e?"#8B5CF6":T.Tokens.colors.brand[500],zIndex:1},taskCardPressed:{backgroundColor:e?"#0B1022":T.Tokens.colors.neutral.darker},taskCardCompleted:{opacity:.5,backgroundColor:e?"#111A33":T.Tokens.colors.neutral.darker},taskHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:T.Tokens.spacing[1]},taskText:{fontFamily:T.Tokens.type.fontFamily.sans,color:e?"#EEF2FF":T.Tokens.colors.text.primary,fontSize:T.Tokens.type.base,fontWeight:"700",flex:1,marginRight:T.Tokens.spacing[2]},completed:{textDecorationLine:"line-through",color:e?"#B9C2D9":T.Tokens.colors.text.secondary},doneBadge:{backgroundColor:e?"#0B1022":T.Tokens.colors.neutral.dark,color:e?"#B9C2D9":T.Tokens.colors.text.secondary,fontSize:T.Tokens.type.xxs,fontWeight:"700",paddingHorizontal:6,paddingVertical:2,borderRadius:e?8:0,overflow:"hidden",fontFamily:T.Tokens.type.fontFamily.mono},activeStepContainer:{marginTop:T.Tokens.spacing[2],paddingLeft:T.Tokens.spacing[2],borderLeftWidth:1,borderLeftColor:e?"#8B5CF6":T.Tokens.colors.brand[500]},activeStepLabel:{fontFamily:T.Tokens.type.fontFamily.mono,fontSize:T.Tokens.type.xxs,color:T.Tokens.colors.text.tertiary,marginBottom:1,letterSpacing:.5},activeStepText:{fontFamily:T.Tokens.type.fontFamily.mono,fontSize:T.Tokens.type.xs,color:e?"#B9C2D9":T.Tokens.colors.text.secondary},stepCountText:{fontFamily:T.Tokens.type.fontFamily.mono,color:T.Tokens.colors.text.tertiary,fontSize:T.Tokens.type.xs,letterSpacing:1},loadingContainer:{padding:T.Tokens.spacing[8],alignItems:"center",gap:T.Tokens.spacing[4]},loadingText:{fontFamily:T.Tokens.type.fontFamily.mono,fontSize:T.Tokens.type.xs,color:e?"#B9C2D9":T.Tokens.colors.text.secondary,letterSpacing:1,textTransform:"uppercase"},emptyState:{marginTop:T.Tokens.spacing[8],opacity:.5},guideBanner:{backgroundColor:e?"#0B1022":T.Tokens.colors.neutral.dark,borderWidth:1,borderColor:e?"#8B5CF6":T.Tokens.colors.brand[500],padding:T.Tokens.spacing[3],marginBottom:T.Tokens.spacing[6],flexDirection:"row",alignItems:"center",justifyContent:"space-between",gap:T.Tokens.spacing[4],borderRadius:e?12:0},guideContent:{flex:1},guideTitle:{fontFamily:T.Tokens.type.fontFamily.mono,fontSize:T.Tokens.type.xs,fontWeight:"700",color:e?"#8B5CF6":T.Tokens.colors.brand[500],marginBottom:T.Tokens.spacing[1],letterSpacing:1},guideText:{fontFamily:T.Tokens.type.fontFamily.mono,fontSize:T.Tokens.type.xs,color:e?"#EEF2FF":T.Tokens.colors.text.primary},guideButton:{paddingVertical:4,paddingHorizontal:8,borderWidth:1,borderColor:e?"rgba(42, 53, 82, 0.3)":T.Tokens.colors.neutral.border,backgroundColor:e?"#111A33":T.Tokens.colors.neutral.darkest,borderRadius:e?8:0},guideButtonPressed:{backgroundColor:e?"#0B1022":T.Tokens.colors.neutral.darker},guideButtonText:{fontFamily:T.Tokens.type.fontFamily.mono,fontSize:T.Tokens.type.xxs,fontWeight:"700",color:e?"#EEF2FF":T.Tokens.colors.text.primary,textTransform:"uppercase"}})}(oe);return c.default.createElement(N.CosmicBackground,{variant:"ridge",dimmer:!0,__self:x,__source:{fileName:S,lineNumber:188,columnNumber:5}},c.default.createElement(m.SafeAreaView,{style:ie.container,__self:x,__source:{fileName:S,lineNumber:189,columnNumber:7}},c.default.createElement(m.View,{style:ie.scrollContent,__self:x,__source:{fileName:S,lineNumber:190,columnNumber:9}},c.default.createElement(m.View,{style:ie.content,__self:x,__source:{fileName:S,lineNumber:191,columnNumber:11}},c.default.createElement(m.View,{style:ie.header,__self:x,__source:{fileName:S,lineNumber:192,columnNumber:13}},c.default.createElement(m.Text,{style:ie.title,__self:x,__source:{fileName:S,lineNumber:193,columnNumber:15}},"FOG_CUTTER"),c.default.createElement(m.View,{style:ie.headerLine,__self:x,__source:{fileName:S,lineNumber:194,columnNumber:15}})),c.default.createElement(m.View,{style:ie.rationaleCard,__self:x,__source:{fileName:S,lineNumber:197,columnNumber:13}},c.default.createElement(m.Text,{style:ie.rationaleTitle,__self:x,__source:{fileName:S,lineNumber:198,columnNumber:15}},"WHY THIS WORKS"),c.default.createElement(m.Text,{style:ie.rationaleText,__self:x,__source:{fileName:S,lineNumber:199,columnNumber:15}},"CBT/CADDI research shows ADHD paralysis comes from seeing tasks as monolithic. Breaking tasks into micro-steps (2-5 minutes each) reduces cognitive load and creates multiple completion wins that build dopamine and momentum.")),c.default.createElement(m.View,{style:ie.creationCard,__self:x,__source:{fileName:S,lineNumber:204,columnNumber:13}},c.default.createElement(m.View,{style:ie.creationHeader,__self:x,__source:{fileName:S,lineNumber:205,columnNumber:15}},c.default.createElement(m.Text,{style:ie.cardTitle,__self:x,__source:{fileName:S,lineNumber:206,columnNumber:17}},"DECOMPOSE_TASK")),c.default.createElement(m.TextInput,{ref:re,style:[ie.input,"main"===L&&ie.inputFocused],placeholder:"> INPUT_OVERWHELMING_TASK",placeholderTextColor:T.Tokens.colors.text.placeholder,value:o,onChangeText:l,onFocus:function(){return V("main")},onBlur:function(){return V(null)},__self:x,__source:{fileName:S,lineNumber:208,columnNumber:15}}),c.default.createElement(m.View,{style:ie.addStepRow,__self:x,__source:{fileName:S,lineNumber:222,columnNumber:15}},c.default.createElement(m.TextInput,{style:[ie.stepInput,"step"===L&&ie.inputFocused],placeholder:"> ADD_MICRO_STEP",placeholderTextColor:T.Tokens.colors.text.placeholder,value:B,onChangeText:P,onSubmitEditing:se,onFocus:function(){return V("step")},onBlur:function(){return V(null)},__self:x,__source:{fileName:S,lineNumber:223,columnNumber:17}}),c.default.createElement(b.LinearButton,{title:"+",onPress:se,variant:"secondary",style:ie.addButton,__self:x,__source:{fileName:S,lineNumber:236,columnNumber:17}})),v.length>0&&c.default.createElement(m.View,{style:ie.previewContainer,__self:x,__source:{fileName:S,lineNumber:245,columnNumber:17}},c.default.createElement(m.Text,{style:ie.previewTitle,__self:x,__source:{fileName:S,lineNumber:246,columnNumber:19}},"SEQUENCE:"),c.default.createElement(m.FlatList,{data:v,renderItem:function(e){var t=e.item,n=e.index;return c.default.createElement(m.View,{style:ie.microStep,__self:x,__source:{fileName:S,lineNumber:177,columnNumber:5}},c.default.createElement(m.Text,{testID:"microstep-number-".concat(n+1),style:ie.stepNumber,__self:x,__source:{fileName:S,lineNumber:178,columnNumber:7}},(n+1).toString().padStart(2,"0")),c.default.createElement(m.Text,{style:ie.stepText,__self:x,__source:{fileName:S,lineNumber:181,columnNumber:7}},t))},keyExtractor:function(e,t){return t.toString()},scrollEnabled:!1,__self:x,__source:{fileName:S,lineNumber:247,columnNumber:19}})),c.default.createElement(b.LinearButton,{title:"EXECUTE_SAVE",onPress:function(){if(o.trim()&&v.length>0){var e=(0,g.normalizeMicroSteps)(v),t={id:(0,_.generateId)(),text:o,completed:!1,microSteps:e};R(function(e){return[].concat((0,s.default)(e),[t])}),ne(t.id),Q||Y||(f.default.track("fog_cutter_first_task_saved"),m.LayoutAnimation.configureNext(m.LayoutAnimation.Presets.easeInEaseOut),J(!0)),l(""),F([])}},disabled:0===v.length,size:"lg",style:ie.saveButton,__self:x,__source:{fileName:S,lineNumber:256,columnNumber:15}})),c.default.createElement(m.View,{style:ie.divider,__self:x,__source:{fileName:S,lineNumber:265,columnNumber:13}}),Y&&c.default.createElement(m.View,{style:ie.guideBanner,__self:x,__source:{fileName:S,lineNumber:268,columnNumber:15}},c.default.createElement(m.View,{style:ie.guideContent,__self:x,__source:{fileName:S,lineNumber:269,columnNumber:17}},c.default.createElement(m.Text,{style:ie.guideTitle,__self:x,__source:{fileName:S,lineNumber:270,columnNumber:19}},"CLARITY_ACHIEVED"),c.default.createElement(m.Text,{style:ie.guideText,__self:x,__source:{fileName:S,lineNumber:271,columnNumber:19}},"READY. INITIATE_IGNITE_PROTOCOL.")),c.default.createElement(m.Pressable,{onPress:le,style:function(e){var t=e.pressed;return[ie.guideButton,t&&ie.guideButtonPressed]},accessibilityRole:"button",accessibilityLabel:"Dismiss guidance",__self:x,__source:{fileName:S,lineNumber:275,columnNumber:17}},c.default.createElement(m.Text,{style:ie.guideButtonText,__self:x,__source:{fileName:S,lineNumber:284,columnNumber:19}},"ACK"))),c.default.createElement(m.Text,{style:ie.sectionHeader,__self:x,__source:{fileName:S,lineNumber:289,columnNumber:13}},"ACTIVE_OPERATIONS"),M?c.default.createElement(m.View,{style:ie.loadingContainer,__self:x,__source:{fileName:S,lineNumber:292,columnNumber:15}},c.default.createElement(m.ActivityIndicator,{size:"small",color:T.Tokens.colors.text.primary,__self:x,__source:{fileName:S,lineNumber:293,columnNumber:17}}),c.default.createElement(m.Text,{style:ie.loadingText,__self:x,__source:{fileName:S,lineNumber:297,columnNumber:17}},"LOADING...")):c.default.createElement(m.FlatList,{data:D,keyExtractor:function(e){return e.id},contentContainerStyle:ie.listContent,renderItem:function(e){var t=e.item;return c.default.createElement(m.Pressable,{style:function(e){var n=e.pressed,r=e.hovered;return[ie.taskCard,t.completed&&ie.taskCardCompleted,r&&!t.completed&&ie.taskCardHovered,n&&!t.completed&&ie.taskCardPressed]},onPress:function(){return e=t.id,void R(function(t){return t.map(function(t){return t.id===e?(0,g.advanceTaskProgress)(t):t})});var e},__self:x,__source:{fileName:S,lineNumber:305,columnNumber:19}},c.default.createElement(m.View,{style:ie.taskHeader,__self:x,__source:{fileName:S,lineNumber:320,columnNumber:21}},c.default.createElement(m.Text,{style:[ie.taskText,t.completed&&ie.completed],__self:x,__source:{fileName:S,lineNumber:321,columnNumber:23}},t.text),t.completed?c.default.createElement(m.Text,{style:ie.doneBadge,__self:x,__source:{fileName:S,lineNumber:330,columnNumber:25}},"CMPLTD"):c.default.createElement(m.Text,{style:ie.stepCountText,__self:x,__source:{fileName:S,lineNumber:332,columnNumber:25}},(0,g.getTaskProgressSummary)(t.microSteps))),!t.completed&&c.default.createElement(m.View,{style:ie.activeStepContainer,__self:x,__source:{fileName:S,lineNumber:339,columnNumber:23}},c.default.createElement(m.Text,{style:ie.activeStepLabel,__self:x,__source:{fileName:S,lineNumber:340,columnNumber:25}},t.microSteps.find(function(e){return"in_progress"===e.status})?"CURRENT_STEP >>":"NEXT_STEP >>"),c.default.createElement(m.Text,{style:ie.activeStepText,numberOfLines:1,__self:x,__source:{fileName:S,lineNumber:345,columnNumber:25}},(t.microSteps.find(function(e){return"in_progress"===e.status})||t.microSteps.find(function(e){return"next"===e.status})||{text:"..."}).text)))},style:ie.taskList,ListEmptyComponent:c.default.createElement(y.EmptyState,{icon:"⛰️",title:"NO_ACTIVE_TASKS.",primaryActionLabel:"CREATE FIRST TASK",onPrimaryAction:function(){var e;return null===(e=re.current)||void 0===e?void 0:e.focus()},primaryVariant:"secondary",style:ie.emptyState,__self:x,__source:{fileName:S,lineNumber:365,columnNumber:19}}),__self:x,__source:{fileName:S,lineNumber:300,columnNumber:15}})))))}},42745(e,t,n){var r=n(18772);Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeMicroSteps=t.getTaskProgressSummary=t.ensureSingleNext=t.advanceTaskProgress=void 0;var o=r(n(51750)),a=r(n(3791)),s=n(15547);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var u=t.ensureSingleNext=function(e){var t=!1,n=!1,r=e.map(function(e){if("in_progress"===e.status&&(n=!0),"next"===e.status){if(t)return i(i({},e),{},{status:"new"});t=!0}return e});if(!t&&!n&&r.length>0){var o=r.findIndex(function(e){return"new"===e.status}),a=o>=0?o:r.findIndex(function(e){return"done"!==e.status});a>=0&&(r[a]=i(i({},r[a]),{},{status:"next"}))}return r};t.advanceTaskProgress=function(e){if(e.completed||0===e.microSteps.length)return e;var t=(0,o.default)(e.microSteps),n=t.findIndex(function(e){return"in_progress"===e.status});if(n>=0)t[n]=i(i({},t[n]),{},{status:"done"});else{var r=t.findIndex(function(e){return"next"===e.status}),a=r>=0?r:t.findIndex(function(e){return"new"===e.status});a>=0&&(t[a]=i(i({},t[a]),{},{status:"in_progress"}))}var s=u(t),l=s.every(function(e){return"done"===e.status});return i(i({},e),{},{microSteps:s,completed:l})},t.getTaskProgressSummary=function(e){var t=e.filter(function(e){return"done"===e.status}).length;return"".concat(t,"/").concat(e.length," DONE")},t.normalizeMicroSteps=function(e){if(!Array.isArray(e)||0===e.length)return[];var t=e.map(function(e,t){if("string"==typeof e)return{id:(0,s.generateId)(),text:e,status:0===t?"next":"new"};var n="new"===e.status||"next"===e.status||"in_progress"===e.status||"done"===e.status?e.status:0===t?"next":"new";return{id:e.id||(0,s.generateId)(),text:e.text,status:n}});return u(t)}}}]);