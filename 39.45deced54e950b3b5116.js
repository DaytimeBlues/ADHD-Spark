(self.webpackChunkspark_adhd_rn=self.webpackChunkspark_adhd_rn||[]).push([[39],{10380(e,t,n){var r=n(18772);Object.defineProperty(t,"__esModule",{value:!0}),t.EmptyState=void 0;var o=r(n(25602)),a=n(71582),s=n(46586),l=n(56045),i=this,u="C:\\Users\\Steve\\OneDrive\\Desktop\\Github Repos\\spark-adhd\\src\\components\\ui\\EmptyState.tsx",c=(t.EmptyState=function(e){var t=e.icon,n=e.title,r=e.description,s=e.primaryActionLabel,m=e.onPrimaryAction,d=e.primaryVariant,f=void 0===d?"primary":d,p=e.style,_=e.testID;return o.default.createElement(a.View,{style:[c.container,p],testID:_,__self:i,__source:{fileName:u,lineNumber:28,columnNumber:5}},t&&o.default.createElement(a.Text,{style:c.icon,__self:i,__source:{fileName:u,lineNumber:29,columnNumber:16}},t),o.default.createElement(a.Text,{style:c.title,__self:i,__source:{fileName:u,lineNumber:30,columnNumber:7}},n),r&&o.default.createElement(a.Text,{style:c.description,__self:i,__source:{fileName:u,lineNumber:31,columnNumber:23}},r),s&&m&&o.default.createElement(a.View,{style:c.actionContainer,__self:i,__source:{fileName:u,lineNumber:33,columnNumber:9}},o.default.createElement(l.LinearButton,{title:s,onPress:m,variant:f,__self:i,__source:{fileName:u,lineNumber:34,columnNumber:11}})))},a.StyleSheet.create({container:{alignItems:"center",justifyContent:"center",padding:s.Tokens.spacing[8]},icon:{fontFamily:s.Tokens.type.fontFamily.sans,fontSize:s.Tokens.type["5xl"],marginBottom:s.Tokens.spacing[4],textAlign:"center"},title:{fontFamily:s.Tokens.type.fontFamily.mono,color:s.Tokens.colors.text.secondary,fontSize:s.Tokens.type.sm,letterSpacing:2,textAlign:"center",textTransform:"uppercase"},description:{fontFamily:s.Tokens.type.fontFamily.mono,color:s.Tokens.colors.text.tertiary,fontSize:s.Tokens.type.xs,textAlign:"center",marginTop:s.Tokens.spacing[2],maxWidth:300},actionContainer:{marginTop:s.Tokens.spacing[6]}}))},30039(e,t,n){var r=n(18772),o=n(66584);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(16578)),s=r(n(51750)),l=r(n(3791)),i=r(n(26007)),u=r(n(58361)),c=function(e){if("function"==typeof WeakMap){var t=new WeakMap;new WeakMap}return function(e){if(e&&e.__esModule)return e;var n,r,a={__proto__:null,default:e};if(null===e||"object"!=o(e)&&"function"!=typeof e)return a;if(n=t){if(n.has(e))return n.get(e);n.set(e,a)}for(var s in e)"default"!==s&&{}.hasOwnProperty.call(e,s)&&((r=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,s))&&(r.get||r.set)?n(a,s,r):a[s]=e[s]);return a}(e)}(n(25602)),m=n(71582),d=r(n(40629)),f=r(n(93400)),p=r(n(46414)),_=n(15547),g=n(42745),b=n(56045),y=n(10380),T=n(46586),k=n(59354),N=n(2865),x=n(18878),S=this,E="C:\\Users\\Steve\\OneDrive\\Desktop\\Github Repos\\spark-adhd\\src\\screens\\FogCutterScreen.tsx";function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach(function(t){(0,l.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.default=function(e){var t=e.navigation,n=(0,c.useState)(""),r=(0,u.default)(n,2),o=r[0],l=r[1],C=(0,c.useState)([]),v=(0,u.default)(C,2),F=v[0],w=v[1],O=(0,c.useState)(""),B=(0,u.default)(O,2),P=B[0],A=B[1],I=(0,c.useState)([]),D=(0,u.default)(I,2),R=D[0],j=D[1],z=(0,c.useState)(null),L=(0,u.default)(z,2),V=L[0],W=L[1],H=(0,c.useState)(!0),M=(0,u.default)(H,2),G=M[0],K=M[1],U=(0,c.useState)(!1),Y=(0,u.default)(U,2),J=Y[0],q=Y[1],X=(0,c.useState)(!0),Q=(0,u.default)(X,2),Z=Q[0],$=Q[1],ee=(0,c.useState)(null),te=(0,u.default)(ee,2),ne=te[0],re=te[1],oe=(0,c.useRef)(null),ae=(0,k.useTheme)().isCosmic;(0,c.useEffect)(function(){"android"===m.Platform.OS&&m.UIManager.setLayoutAnimationEnabledExperimental&&m.UIManager.setLayoutAnimationEnabledExperimental(!0);var e,t=(e=(0,i.default)(a.default.mark(function e(){var t,n,r,o,s,l;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=1,Promise.all([d.default.getJSON(d.default.STORAGE_KEYS.tasks),d.default.getJSON(d.default.STORAGE_KEYS.firstSuccessGuideState)]);case 1:t=e.sent,n=(0,u.default)(t,2),r=n[0],o=n[1],$(!!o&&!!o.fogCutterDismissed),r&&Array.isArray(r)&&(s=r.filter(function(e){return Boolean((null==e?void 0:e.id)&&(null==e?void 0:e.text)&&Array.isArray(null==e?void 0:e.microSteps))}).map(function(e){return h(h({},e),{},{microSteps:(0,g.normalizeMicroSteps)(e.microSteps)})}),j(s)),e.next=3;break;case 2:e.prev=2,l=e.catch(0),console.error("Failed to load tasks",l);case 3:return e.prev=3,K(!1),e.finish(3);case 4:case"end":return e.stop()}},e,null,[[0,2,3,4]])})),function(){return e.apply(this,arguments)});t()},[]),(0,c.useEffect)(function(){d.default.setJSON(d.default.STORAGE_KEYS.tasks,R)},[R]);var se,le=function(){P.trim()&&(w([].concat((0,s.default)(F),[P.trim()])),A(""))},ie=(se=(0,i.default)(a.default.mark(function e(){var n,r,o,s,l;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m.LayoutAnimation.configureNext(m.LayoutAnimation.Presets.easeInEaseOut),q(!1),$(!0),e.next=1,d.default.getJSON(d.default.STORAGE_KEYS.firstSuccessGuideState);case 1:if(s=n=e.sent,!(o=null!==s)){e.next=2;break}o=void 0!==n;case 2:if(!o){e.next=3;break}l=n,e.next=4;break;case 3:l={};case 4:return r=l,e.next=5,d.default.setJSON(d.default.STORAGE_KEYS.firstSuccessGuideState,h(h({},r),{},{fogCutterDismissed:!0}));case 5:return e.next=6,p.default.requestPendingStart({source:"fogcutter_handoff",requestedAt:(new Date).toISOString(),context:{taskId:null!=ne?ne:void 0,reason:"user_completed_fog_cutter_decomposition"}});case 6:null==t||t.navigate(N.ROUTES.FOCUS);case 7:case"end":return e.stop()}},e)})),function(){return se.apply(this,arguments)}),ue=function(e){return m.StyleSheet.create({container:{flex:1,backgroundColor:e?"transparent":T.Tokens.colors.neutral.darkest},scrollContent:{flex:1,alignItems:"center"},content:{flex:1,width:"100%",maxWidth:T.Tokens.layout.maxWidth.prose,padding:T.Tokens.spacing[4]},header:{marginBottom:T.Tokens.spacing[6],flexDirection:"row",alignItems:"center",width:"100%",paddingBottom:T.Tokens.spacing[2],justifyContent:"space-between"},title:{fontFamily:T.Tokens.type.fontFamily.mono,fontSize:T.Tokens.type.lg,fontWeight:"700",color:e?"#EEF2FF":T.Tokens.colors.text.primary,letterSpacing:1,textTransform:"uppercase"},headerLine:{flex:1,height:1,backgroundColor:e?"#0B1022":T.Tokens.colors.neutral.dark,marginLeft:T.Tokens.spacing[4]},rationaleCard:{backgroundColor:e?"#111A33":T.Tokens.colors.neutral.darker,borderWidth:1,borderColor:e?"rgba(42, 53, 82, 0.3)":T.Tokens.colors.neutral.borderSubtle,padding:T.Tokens.spacing[4],marginBottom:T.Tokens.spacing[4],borderRadius:e?12:0},rationaleTitle:{fontFamily:T.Tokens.type.fontFamily.mono,fontSize:T.Tokens.type.xs,fontWeight:"700",color:e?"#8B5CF6":T.Tokens.colors.brand[500],letterSpacing:1,marginBottom:T.Tokens.spacing[2],textTransform:"uppercase"},rationaleText:{fontFamily:T.Tokens.type.fontFamily.body,fontSize:T.Tokens.type.sm,color:e?"#B9C2D9":T.Tokens.colors.text.secondary,lineHeight:22,flexWrap:"wrap"},creationCard:{marginBottom:T.Tokens.spacing[6],backgroundColor:e?"#111A33":T.Tokens.colors.neutral.darkest,padding:T.Tokens.spacing[4],borderRadius:e?12:0,borderWidth:1,borderColor:e?"rgba(42, 53, 82, 0.3)":T.Tokens.colors.neutral.border},creationHeader:{marginBottom:T.Tokens.spacing[4]},cardTitle:{fontFamily:T.Tokens.type.fontFamily.mono,fontSize:T.Tokens.type.xs,fontWeight:"700",color:e?"#B9C2D9":T.Tokens.colors.text.secondary,letterSpacing:1,textTransform:"uppercase"},input:h({backgroundColor:e?"#0B1022":T.Tokens.colors.neutral.darker,borderRadius:e?8:0,paddingHorizontal:T.Tokens.spacing[3],color:e?"#EEF2FF":T.Tokens.colors.text.primary,fontFamily:T.Tokens.type.fontFamily.mono,fontSize:T.Tokens.type.sm,marginBottom:T.Tokens.spacing[3],height:48,borderWidth:1,borderColor:e?"rgba(42, 53, 82, 0.3)":T.Tokens.colors.neutral.border},m.Platform.select({web:{outlineStyle:"none",transition:"border-color 0.2s ease"}})),inputFocused:{borderColor:e?"#8B5CF6":T.Tokens.colors.brand[500],backgroundColor:e?"#111A33":T.Tokens.colors.neutral.darkest},addStepRow:{flexDirection:"row",marginBottom:T.Tokens.spacing[3],gap:T.Tokens.spacing[2]},stepInput:h({flex:1,backgroundColor:e?"#0B1022":T.Tokens.colors.neutral.darker,borderRadius:e?8:0,paddingHorizontal:T.Tokens.spacing[3],color:e?"#EEF2FF":T.Tokens.colors.text.primary,fontFamily:T.Tokens.type.fontFamily.mono,fontSize:T.Tokens.type.sm,height:48,borderWidth:1,borderColor:e?"rgba(42, 53, 82, 0.3)":T.Tokens.colors.neutral.border},m.Platform.select({web:{outlineStyle:"none",transition:"border-color 0.2s ease"}})),addButton:{width:48,height:48,paddingHorizontal:0,justifyContent:"center",alignItems:"center",borderRadius:e?8:0},previewContainer:{backgroundColor:e?"#111A33":T.Tokens.colors.neutral.darkest,borderRadius:e?8:0,padding:T.Tokens.spacing[4],marginBottom:T.Tokens.spacing[3],borderWidth:1,borderStyle:"dashed",borderColor:e?"rgba(42, 53, 82, 0.3)":T.Tokens.colors.neutral.border},previewTitle:{fontFamily:T.Tokens.type.fontFamily.mono,color:T.Tokens.colors.text.tertiary,fontSize:T.Tokens.type.xxs,fontWeight:"700",marginBottom:T.Tokens.spacing[2],textTransform:"uppercase",letterSpacing:1},microStep:{flexDirection:"row",alignItems:"center",paddingVertical:2},stepNumber:{color:T.Tokens.colors.text.tertiary,width:T.Tokens.spacing[6],fontSize:T.Tokens.type.xs,fontWeight:"bold",marginRight:T.Tokens.spacing[2],fontFamily:T.Tokens.type.fontFamily.mono},stepText:{fontFamily:T.Tokens.type.fontFamily.mono,color:e?"#B9C2D9":T.Tokens.colors.text.secondary,fontSize:T.Tokens.type.sm},saveButton:{marginTop:T.Tokens.spacing[2]},divider:{height:1,backgroundColor:e?"rgba(42, 53, 82, 0.3)":T.Tokens.colors.neutral.border,width:"100%",marginBottom:T.Tokens.spacing[6]},sectionHeader:{fontFamily:T.Tokens.type.fontFamily.mono,fontSize:T.Tokens.type.xs,fontWeight:"700",color:T.Tokens.colors.text.tertiary,textTransform:"uppercase",letterSpacing:1,marginBottom:T.Tokens.spacing[3]},taskList:{flex:1},listContent:{paddingBottom:T.Tokens.spacing[20]},taskCard:h({backgroundColor:e?"#111A33":T.Tokens.colors.neutral.darkest,borderRadius:e?12:0,padding:T.Tokens.spacing[4],marginBottom:T.Tokens.spacing[2],borderWidth:1,borderColor:e?"rgba(42, 53, 82, 0.3)":T.Tokens.colors.neutral.border,minHeight:64,justifyContent:"center"},m.Platform.select({web:{transition:"all 0.2s ease",cursor:"pointer"}})),taskCardHovered:{borderColor:e?"#8B5CF6":T.Tokens.colors.brand[500],zIndex:1},taskCardPressed:{backgroundColor:e?"#0B1022":T.Tokens.colors.neutral.darker},taskCardCompleted:{opacity:.5,backgroundColor:e?"#111A33":T.Tokens.colors.neutral.darker},taskHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:T.Tokens.spacing[1]},taskText:{fontFamily:T.Tokens.type.fontFamily.sans,color:e?"#EEF2FF":T.Tokens.colors.text.primary,fontSize:T.Tokens.type.base,fontWeight:"700",flex:1,marginRight:T.Tokens.spacing[2]},completed:{textDecorationLine:"line-through",color:e?"#B9C2D9":T.Tokens.colors.text.secondary},doneBadge:{backgroundColor:e?"#0B1022":T.Tokens.colors.neutral.dark,color:e?"#B9C2D9":T.Tokens.colors.text.secondary,fontSize:T.Tokens.type.xxs,fontWeight:"700",paddingHorizontal:6,paddingVertical:2,borderRadius:e?8:0,overflow:"hidden",fontFamily:T.Tokens.type.fontFamily.mono},activeStepContainer:{marginTop:T.Tokens.spacing[2],paddingLeft:T.Tokens.spacing[2],borderLeftWidth:1,borderLeftColor:e?"#8B5CF6":T.Tokens.colors.brand[500]},activeStepLabel:{fontFamily:T.Tokens.type.fontFamily.mono,fontSize:T.Tokens.type.xxs,color:T.Tokens.colors.text.tertiary,marginBottom:1,letterSpacing:.5},activeStepText:{fontFamily:T.Tokens.type.fontFamily.mono,fontSize:T.Tokens.type.xs,color:e?"#B9C2D9":T.Tokens.colors.text.secondary},stepCountText:{fontFamily:T.Tokens.type.fontFamily.mono,color:T.Tokens.colors.text.tertiary,fontSize:T.Tokens.type.xs,letterSpacing:1},loadingContainer:{padding:T.Tokens.spacing[8],alignItems:"center",gap:T.Tokens.spacing[4]},loadingText:{fontFamily:T.Tokens.type.fontFamily.mono,fontSize:T.Tokens.type.xs,color:e?"#B9C2D9":T.Tokens.colors.text.secondary,letterSpacing:1,textTransform:"uppercase"},emptyState:{marginTop:T.Tokens.spacing[8],opacity:.5},guideBanner:{backgroundColor:e?"#0B1022":T.Tokens.colors.neutral.dark,borderWidth:1,borderColor:e?"#8B5CF6":T.Tokens.colors.brand[500],padding:T.Tokens.spacing[3],marginBottom:T.Tokens.spacing[6],flexDirection:"row",alignItems:"center",justifyContent:"space-between",gap:T.Tokens.spacing[4],borderRadius:e?12:0},guideContent:{flex:1},guideTitle:{fontFamily:T.Tokens.type.fontFamily.mono,fontSize:T.Tokens.type.xs,fontWeight:"700",color:e?"#8B5CF6":T.Tokens.colors.brand[500],marginBottom:T.Tokens.spacing[1],letterSpacing:1},guideText:{fontFamily:T.Tokens.type.fontFamily.mono,fontSize:T.Tokens.type.xs,color:e?"#EEF2FF":T.Tokens.colors.text.primary},guideButton:{paddingVertical:4,paddingHorizontal:8,borderWidth:1,borderColor:e?"rgba(42, 53, 82, 0.3)":T.Tokens.colors.neutral.border,backgroundColor:e?"#111A33":T.Tokens.colors.neutral.darkest,borderRadius:e?8:0},guideButtonPressed:{backgroundColor:e?"#0B1022":T.Tokens.colors.neutral.darker},guideButtonText:{fontFamily:T.Tokens.type.fontFamily.mono,fontSize:T.Tokens.type.xxs,fontWeight:"700",color:e?"#EEF2FF":T.Tokens.colors.text.primary,textTransform:"uppercase"}})}(ae);return c.default.createElement(x.CosmicBackground,{variant:"ridge",dimmer:!0,__self:S,__source:{fileName:E,lineNumber:189,columnNumber:5}},c.default.createElement(m.SafeAreaView,{style:ue.container,__self:S,__source:{fileName:E,lineNumber:190,columnNumber:7}},c.default.createElement(m.View,{style:ue.scrollContent,__self:S,__source:{fileName:E,lineNumber:191,columnNumber:9}},c.default.createElement(m.View,{style:ue.content,__self:S,__source:{fileName:E,lineNumber:192,columnNumber:11}},c.default.createElement(m.View,{style:ue.header,__self:S,__source:{fileName:E,lineNumber:193,columnNumber:13}},c.default.createElement(m.Text,{style:ue.title,__self:S,__source:{fileName:E,lineNumber:194,columnNumber:15}},"FOG_CUTTER"),c.default.createElement(m.View,{style:ue.headerLine,__self:S,__source:{fileName:E,lineNumber:195,columnNumber:15}})),c.default.createElement(m.View,{style:ue.rationaleCard,__self:S,__source:{fileName:E,lineNumber:198,columnNumber:13}},c.default.createElement(m.Text,{style:ue.rationaleTitle,__self:S,__source:{fileName:E,lineNumber:199,columnNumber:15}},"WHY THIS WORKS"),c.default.createElement(m.Text,{style:ue.rationaleText,__self:S,__source:{fileName:E,lineNumber:200,columnNumber:15}},"CBT/CADDI research shows ADHD paralysis comes from seeing tasks as monolithic. Breaking tasks into micro-steps (2-5 minutes each) reduces cognitive load and creates multiple completion wins that build dopamine and momentum.")),c.default.createElement(m.View,{style:ue.creationCard,__self:S,__source:{fileName:E,lineNumber:205,columnNumber:13}},c.default.createElement(m.View,{style:ue.creationHeader,__self:S,__source:{fileName:E,lineNumber:206,columnNumber:15}},c.default.createElement(m.Text,{style:ue.cardTitle,__self:S,__source:{fileName:E,lineNumber:207,columnNumber:17}},"DECOMPOSE_TASK")),c.default.createElement(m.TextInput,{ref:oe,style:[ue.input,"main"===V&&ue.inputFocused],placeholder:"> INPUT_OVERWHELMING_TASK",placeholderTextColor:T.Tokens.colors.text.placeholder,value:o,onChangeText:l,onFocus:function(){return W("main")},onBlur:function(){return W(null)},__self:S,__source:{fileName:E,lineNumber:209,columnNumber:15}}),c.default.createElement(m.View,{style:ue.addStepRow,__self:S,__source:{fileName:E,lineNumber:223,columnNumber:15}},c.default.createElement(m.TextInput,{style:[ue.stepInput,"step"===V&&ue.inputFocused],placeholder:"> ADD_MICRO_STEP",placeholderTextColor:T.Tokens.colors.text.placeholder,value:P,onChangeText:A,onSubmitEditing:le,onFocus:function(){return W("step")},onBlur:function(){return W(null)},__self:S,__source:{fileName:E,lineNumber:224,columnNumber:17}}),c.default.createElement(b.LinearButton,{title:"+",onPress:le,variant:"secondary",style:ue.addButton,__self:S,__source:{fileName:E,lineNumber:237,columnNumber:17}})),F.length>0&&c.default.createElement(m.View,{style:ue.previewContainer,__self:S,__source:{fileName:E,lineNumber:246,columnNumber:17}},c.default.createElement(m.Text,{style:ue.previewTitle,__self:S,__source:{fileName:E,lineNumber:247,columnNumber:19}},"SEQUENCE:"),c.default.createElement(m.FlatList,{data:F,renderItem:function(e){var t=e.item,n=e.index;return c.default.createElement(m.View,{style:ue.microStep,__self:S,__source:{fileName:E,lineNumber:178,columnNumber:5}},c.default.createElement(m.Text,{testID:"microstep-number-".concat(n+1),style:ue.stepNumber,__self:S,__source:{fileName:E,lineNumber:179,columnNumber:7}},(n+1).toString().padStart(2,"0")),c.default.createElement(m.Text,{style:ue.stepText,__self:S,__source:{fileName:E,lineNumber:182,columnNumber:7}},t))},keyExtractor:function(e,t){return t.toString()},scrollEnabled:!1,__self:S,__source:{fileName:E,lineNumber:248,columnNumber:19}})),c.default.createElement(b.LinearButton,{title:"EXECUTE_SAVE",onPress:function(){if(o.trim()&&F.length>0){var e=(0,g.normalizeMicroSteps)(F),t={id:(0,_.generateId)(),text:o,completed:!1,microSteps:e};j(function(e){return[].concat((0,s.default)(e),[t])}),re(t.id),Z||J||(f.default.track("fog_cutter_first_task_saved"),m.LayoutAnimation.configureNext(m.LayoutAnimation.Presets.easeInEaseOut),q(!0)),l(""),w([])}},disabled:0===F.length,size:"lg",style:ue.saveButton,__self:S,__source:{fileName:E,lineNumber:257,columnNumber:15}})),c.default.createElement(m.View,{style:ue.divider,__self:S,__source:{fileName:E,lineNumber:266,columnNumber:13}}),J&&c.default.createElement(m.View,{style:ue.guideBanner,__self:S,__source:{fileName:E,lineNumber:269,columnNumber:15}},c.default.createElement(m.View,{style:ue.guideContent,__self:S,__source:{fileName:E,lineNumber:270,columnNumber:17}},c.default.createElement(m.Text,{style:ue.guideTitle,__self:S,__source:{fileName:E,lineNumber:271,columnNumber:19}},"CLARITY_ACHIEVED"),c.default.createElement(m.Text,{style:ue.guideText,__self:S,__source:{fileName:E,lineNumber:272,columnNumber:19}},"READY. INITIATE_IGNITE_PROTOCOL.")),c.default.createElement(m.Pressable,{onPress:ie,style:function(e){var t=e.pressed;return[ue.guideButton,t&&ue.guideButtonPressed]},accessibilityRole:"button",accessibilityLabel:"Dismiss guidance",__self:S,__source:{fileName:E,lineNumber:276,columnNumber:17}},c.default.createElement(m.Text,{style:ue.guideButtonText,__self:S,__source:{fileName:E,lineNumber:285,columnNumber:19}},"ACK"))),c.default.createElement(m.Text,{style:ue.sectionHeader,__self:S,__source:{fileName:E,lineNumber:290,columnNumber:13}},"ACTIVE_OPERATIONS"),G?c.default.createElement(m.View,{style:ue.loadingContainer,__self:S,__source:{fileName:E,lineNumber:293,columnNumber:15}},c.default.createElement(m.ActivityIndicator,{size:"small",color:T.Tokens.colors.text.primary,__self:S,__source:{fileName:E,lineNumber:294,columnNumber:17}}),c.default.createElement(m.Text,{style:ue.loadingText,__self:S,__source:{fileName:E,lineNumber:298,columnNumber:17}},"LOADING...")):c.default.createElement(m.FlatList,{data:R,keyExtractor:function(e){return e.id},contentContainerStyle:ue.listContent,renderItem:function(e){var t=e.item;return c.default.createElement(m.Pressable,{style:function(e){var n=e.pressed,r=e.hovered;return[ue.taskCard,t.completed&&ue.taskCardCompleted,r&&!t.completed&&ue.taskCardHovered,n&&!t.completed&&ue.taskCardPressed]},onPress:function(){return e=t.id,void j(function(t){return t.map(function(t){return t.id===e?(0,g.advanceTaskProgress)(t):t})});var e},__self:S,__source:{fileName:E,lineNumber:306,columnNumber:19}},c.default.createElement(m.View,{style:ue.taskHeader,__self:S,__source:{fileName:E,lineNumber:321,columnNumber:21}},c.default.createElement(m.Text,{style:[ue.taskText,t.completed&&ue.completed],__self:S,__source:{fileName:E,lineNumber:322,columnNumber:23}},t.text),t.completed?c.default.createElement(m.Text,{style:ue.doneBadge,__self:S,__source:{fileName:E,lineNumber:331,columnNumber:25}},"CMPLTD"):c.default.createElement(m.Text,{style:ue.stepCountText,__self:S,__source:{fileName:E,lineNumber:333,columnNumber:25}},(0,g.getTaskProgressSummary)(t.microSteps))),!t.completed&&c.default.createElement(m.View,{style:ue.activeStepContainer,__self:S,__source:{fileName:E,lineNumber:340,columnNumber:23}},c.default.createElement(m.Text,{style:ue.activeStepLabel,__self:S,__source:{fileName:E,lineNumber:341,columnNumber:25}},t.microSteps.find(function(e){return"in_progress"===e.status})?"CURRENT_STEP >>":"NEXT_STEP >>"),c.default.createElement(m.Text,{style:ue.activeStepText,numberOfLines:1,__self:S,__source:{fileName:E,lineNumber:346,columnNumber:25}},(t.microSteps.find(function(e){return"in_progress"===e.status})||t.microSteps.find(function(e){return"next"===e.status})||{text:"..."}).text)))},style:ue.taskList,ListEmptyComponent:c.default.createElement(y.EmptyState,{icon:"⛰️",title:"NO_ACTIVE_TASKS.",primaryActionLabel:"CREATE FIRST TASK",onPrimaryAction:function(){var e;return null===(e=oe.current)||void 0===e?void 0:e.focus()},primaryVariant:"secondary",style:ue.emptyState,__self:S,__source:{fileName:E,lineNumber:366,columnNumber:19}}),__self:S,__source:{fileName:E,lineNumber:301,columnNumber:15}})))))}},42745(e,t,n){var r=n(18772);Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeMicroSteps=t.getTaskProgressSummary=t.ensureSingleNext=t.advanceTaskProgress=void 0;var o=r(n(51750)),a=r(n(3791)),s=n(15547);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var u=t.ensureSingleNext=function(e){var t=!1,n=!1,r=e.map(function(e){if("in_progress"===e.status&&(n=!0),"next"===e.status){if(t)return i(i({},e),{},{status:"new"});t=!0}return e});if(!t&&!n&&r.length>0){var o=r.findIndex(function(e){return"new"===e.status}),a=o>=0?o:r.findIndex(function(e){return"done"!==e.status});a>=0&&(r[a]=i(i({},r[a]),{},{status:"next"}))}return r};t.advanceTaskProgress=function(e){if(e.completed||0===e.microSteps.length)return e;var t=(0,o.default)(e.microSteps),n=t.findIndex(function(e){return"in_progress"===e.status});if(n>=0)t[n]=i(i({},t[n]),{},{status:"done"});else{var r=t.findIndex(function(e){return"next"===e.status}),a=r>=0?r:t.findIndex(function(e){return"new"===e.status});a>=0&&(t[a]=i(i({},t[a]),{},{status:"in_progress"}))}var s=u(t),l=s.every(function(e){return"done"===e.status});return i(i({},e),{},{microSteps:s,completed:l})},t.getTaskProgressSummary=function(e){var t=e.filter(function(e){return"done"===e.status}).length;return"".concat(t,"/").concat(e.length," DONE")},t.normalizeMicroSteps=function(e){if(!Array.isArray(e)||0===e.length)return[];var t=e.map(function(e,t){if("string"==typeof e)return{id:(0,s.generateId)(),text:e,status:0===t?"next":"new"};var n="new"===e.status||"next"===e.status||"in_progress"===e.status||"done"===e.status?e.status:0===t?"next":"new";return{id:e.id||(0,s.generateId)(),text:e.text,status:n}});return u(t)}}}]);