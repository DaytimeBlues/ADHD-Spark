(self.webpackChunkspark_adhd_rn=self.webpackChunkspark_adhd_rn||[]).push([[390],{66390(e,o,t){var r=t(18772),n=t(66584);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var l=r(t(16578)),a=r(t(3791)),s=r(t(26007)),i=r(t(58361)),c=function(e){if("function"==typeof WeakMap){var o=new WeakMap;new WeakMap}return function(e){if(e&&e.__esModule)return e;var t,r,l={__proto__:null,default:e};if(null===e||"object"!=n(e)&&"function"!=typeof e)return l;if(t=o){if(t.has(e))return t.get(e);t.set(e,l)}for(var a in e)"default"!==a&&{}.hasOwnProperty.call(e,a)&&((r=(t=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,a))&&(r.get||r.set)?t(l,a,r):l[a]=e[a]);return l}(e)}(t(25602)),u=t(71582),d=t(46586),m=t(59354),f=t(18878),g=t(75128),b=this,C="C:\\Users\\Steve\\OneDrive\\Desktop\\Github Repos\\spark-adhd\\src\\screens\\CalendarScreen.tsx";function T(e,o){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);o&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,r)}return t}function k(e){for(var o=1;o<arguments.length;o++){var t=null!=arguments[o]?arguments[o]:{};o%2?T(Object(t),!0).forEach(function(o){(0,a.default)(e,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):T(Object(t)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))})}return e}var y=u.StyleSheet.create({container:{flex:1,backgroundColor:d.Tokens.colors.neutral.darkest},webContainer:{flex:1,width:"100%",maxWidth:d.Tokens.layout.maxWidth.content,alignSelf:"center"},scrollView:{flex:1},scrollContent:{flexGrow:1,paddingBottom:d.Tokens.spacing[8]},content:{padding:d.Tokens.spacing[6]},title:{fontFamily:d.Tokens.type.fontFamily.sans,fontSize:d.Tokens.type.h1,fontWeight:"800",color:d.Tokens.colors.text.primary,marginBottom:d.Tokens.spacing[4],letterSpacing:2},rationaleCard:{backgroundColor:d.Tokens.colors.neutral.darker,borderWidth:1,borderColor:d.Tokens.colors.neutral.borderSubtle,padding:d.Tokens.spacing[4],marginBottom:d.Tokens.spacing[6]},rationaleTitle:{fontFamily:d.Tokens.type.fontFamily.mono,fontSize:d.Tokens.type.xs,fontWeight:"700",color:d.Tokens.colors.brand[500],letterSpacing:1,marginBottom:d.Tokens.spacing[2],textTransform:"uppercase"},rationaleText:{fontFamily:d.Tokens.type.fontFamily.body,fontSize:d.Tokens.type.sm,color:d.Tokens.colors.text.secondary,lineHeight:22,flexWrap:"wrap"},calendarCard:k({backgroundColor:d.Tokens.colors.neutral.darker,borderRadius:d.Tokens.radii.none,padding:d.Tokens.spacing[6],borderWidth:1,borderColor:d.Tokens.colors.neutral.borderSubtle},d.Tokens.elevation.none),header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:d.Tokens.spacing[8]},navButton:k({width:44,height:44,borderRadius:d.Tokens.radii.none,alignItems:"center",justifyContent:"center",backgroundColor:d.Tokens.colors.neutral.dark,borderWidth:1,borderColor:d.Tokens.colors.neutral.borderSubtle},u.Platform.select({web:{transition:d.Tokens.motion.transitions.base,cursor:"pointer"}})),navButtonHovered:{backgroundColor:d.Tokens.colors.neutral.darker,borderColor:d.Tokens.colors.text.tertiary,transform:[{scale:1.05}]},navButtonPressed:{transform:[{scale:d.Tokens.motion.scales.press}],backgroundColor:d.Tokens.colors.neutral.darkest},navButtonText:{color:d.Tokens.colors.text.primary,fontSize:d.Tokens.type.h2,lineHeight:1.2*d.Tokens.type.h2,fontWeight:"300",marginTop:-2},monthText:{fontFamily:d.Tokens.type.fontFamily.sans,color:d.Tokens.colors.text.primary,fontSize:d.Tokens.type.xl,fontWeight:"700",letterSpacing:1},weekdays:{flexDirection:"row",marginBottom:d.Tokens.spacing[4]},weekdayText:{flex:1,textAlign:"center",color:d.Tokens.colors.text.tertiary,fontSize:d.Tokens.type.xs,fontWeight:"700",textTransform:"uppercase",letterSpacing:1},daysGrid:{flexDirection:"row",flexWrap:"wrap"},dayCell:k({width:"14.28%",aspectRatio:1,justifyContent:"center",alignItems:"center",borderRadius:d.Tokens.radii.none,borderWidth:1,borderColor:"transparent"},u.Platform.select({web:{transition:d.Tokens.motion.transitions.fast}})),dayCellHovered:k({backgroundColor:d.Tokens.colors.neutral.dark,borderColor:d.Tokens.colors.neutral.borderSubtle},u.Platform.select({web:{cursor:"pointer"}})),dayCellPressed:{backgroundColor:d.Tokens.colors.neutral.darkest,transform:[{scale:d.Tokens.motion.scales.press}]},dayText:{fontFamily:d.Tokens.type.fontFamily.sans,color:d.Tokens.colors.text.secondary,fontSize:d.Tokens.type.base,fontWeight:"500"},todayCell:k(k({backgroundColor:d.Tokens.colors.brand[600]},d.Tokens.elevation.none),u.Platform.select({web:{boxShadow:"0 0 0 0"}})),todayText:{color:d.Tokens.colors.neutral[0],fontWeight:"700"},legend:{flexDirection:"row",marginTop:d.Tokens.spacing[6],justifyContent:"center"},legendItem:{flexDirection:"row",alignItems:"center"},legendDot:{width:8,height:8,borderRadius:0,marginRight:d.Tokens.spacing[2]},todayDot:{backgroundColor:d.Tokens.colors.brand[600]},legendText:{fontFamily:d.Tokens.type.fontFamily.sans,color:d.Tokens.colors.text.tertiary,fontSize:d.Tokens.type.xs,fontWeight:"700",letterSpacing:1},googleCalendarCard:k({marginTop:d.Tokens.spacing[6],backgroundColor:d.Tokens.colors.neutral.darker,borderRadius:d.Tokens.radii.none,borderWidth:1,borderColor:d.Tokens.colors.neutral.borderSubtle,padding:d.Tokens.spacing[6]},d.Tokens.elevation.none),googleCalendarTitle:{fontFamily:d.Tokens.type.fontFamily.sans,color:d.Tokens.colors.text.primary,fontSize:d.Tokens.type.sm,fontWeight:"700",letterSpacing:1,marginBottom:d.Tokens.spacing[3]},googleCalendarStatus:{fontFamily:d.Tokens.type.fontFamily.sans,color:d.Tokens.colors.text.tertiary,fontSize:d.Tokens.type.xs,fontWeight:"700",letterSpacing:1,marginBottom:d.Tokens.spacing[4]},googleCalendarButton:k({minHeight:d.Tokens.layout.minTapTarget,paddingHorizontal:d.Tokens.spacing[4],backgroundColor:d.Tokens.colors.neutral.dark,borderRadius:d.Tokens.radii.none,borderWidth:1,borderColor:d.Tokens.colors.neutral.borderSubtle,alignItems:"center",justifyContent:"center"},u.Platform.select({web:{transition:d.Tokens.motion.transitions.base,cursor:"pointer"}})),googleCalendarButtonHovered:{backgroundColor:d.Tokens.colors.neutral.darker,borderColor:d.Tokens.colors.text.tertiary},googleCalendarButtonPressed:{transform:[{scale:d.Tokens.motion.scales.press}],backgroundColor:d.Tokens.colors.neutral.darkest},googleCalendarButtonDisabled:k({backgroundColor:d.Tokens.colors.neutral.darkest,borderColor:d.Tokens.colors.neutral.borderSubtle,opacity:.5},u.Platform.select({web:{cursor:"not-allowed"}})),googleCalendarButtonText:{fontFamily:d.Tokens.type.fontFamily.sans,color:d.Tokens.colors.text.primary,fontSize:d.Tokens.type.xs,fontWeight:"700",letterSpacing:1},containerCosmic:{backgroundColor:"transparent"},titleCosmic:{color:"#EEF2FF"},rationaleTitleCosmic:{color:"#8B5CF6"},rationaleTextCosmic:{color:"#EEF2FF"},navButtonCosmic:{backgroundColor:"rgba(42, 53, 82, 0.3)",borderColor:"rgba(42, 53, 82, 0.5)",borderRadius:8},navButtonHoveredCosmic:{backgroundColor:"rgba(42, 53, 82, 0.5)",borderColor:"#8B5CF6"},navButtonPressedCosmic:{backgroundColor:"rgba(42, 53, 82, 0.7)"},navButtonTextCosmic:{color:"#EEF2FF"},monthTextCosmic:{color:"#EEF2FF"},weekdayTextCosmic:{color:"#8B5CF6"},dayCellCosmic:{borderColor:"rgba(42, 53, 82, 0.3)"},dayCellHoveredCosmic:{backgroundColor:"rgba(42, 53, 82, 0.3)",borderColor:"#8B5CF6"},dayCellPressedCosmic:{backgroundColor:"rgba(42, 53, 82, 0.5)"},dayTextCosmic:{color:"#EEF2FF"},todayCellCosmic:{backgroundColor:"#F6C177",borderColor:"#F6C177"},todayTextCosmic:{color:"#0F172A"},todayDotCosmic:{backgroundColor:"#F6C177"},legendTextCosmic:{color:"#EEF2FF"},googleCalendarTitleCosmic:{color:"#EEF2FF"},googleCalendarStatusCosmic:{color:"#8B5CF6"},googleCalendarButtonCosmic:{backgroundColor:"rgba(42, 53, 82, 0.3)",borderColor:"rgba(42, 53, 82, 0.5)",borderRadius:8},googleCalendarButtonHoveredCosmic:{backgroundColor:"rgba(42, 53, 82, 0.5)",borderColor:"#8B5CF6"},googleCalendarButtonPressedCosmic:{backgroundColor:"rgba(42, 53, 82, 0.7)"},googleCalendarButtonDisabledCosmic:{backgroundColor:"rgba(42, 53, 82, 0.2)",borderColor:"rgba(42, 53, 82, 0.3)"},googleCalendarButtonTextCosmic:{color:"#EEF2FF"}});o.default=function(){var e,o=(0,m.useTheme)().isCosmic,r=(0,c.useState)(new Date),n=(0,i.default)(r,2),a=n[0],d=n[1],T=(0,c.useState)("checking"),k=(0,i.default)(T,2),p=k[0],_=k[1],N=(0,c.useState)(!1),x=(0,i.default)(N,2),h=x[0],v=x[1],w=(e=a,new Date(e.getFullYear(),e.getMonth()+1,0).getDate()),E=function(e){return new Date(e.getFullYear(),e.getMonth(),1).getDay()}(a),S=Array(w).fill(0).map(function(e,o){return o+1}),B=(0,c.useCallback)((0,s.default)(l.default.mark(function e(){var o,r,n,a,s,i;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("web"!==u.Platform.OS){e.next=1;break}return _("unsupported"),e.abrupt("return");case 1:return e.prev=1,a=t(85927),e.next=2,null===(o=a.GoogleSignin)||void 0===o||null===(r=o.getCurrentUser)||void 0===r?void 0:r.call(o);case 2:s=e.sent,i=Boolean(null==s||null===(n=s.scopes)||void 0===n?void 0:n.includes("https://www.googleapis.com/auth/calendar.events")),_(i?"connected":"disconnected"),e.next=4;break;case 3:e.prev=3,e.catch(1),_("disconnected");case 4:case"end":return e.stop()}},e,null,[[1,3]])})),[]);(0,c.useEffect)(function(){B()},[B]);var F=(0,c.useCallback)((0,s.default)(l.default.mark(function e(){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("unsupported"!==p&&"checking"!==p&&!h){e.next=1;break}return e.abrupt("return");case 1:return v(!0),e.prev=2,e.next=3,g.GoogleTasksSyncService.signInInteractive();case 3:return e.prev=3,e.next=4,B();case 4:return v(!1),e.finish(3);case 5:case"end":return e.stop()}},e,null,[[2,,3,5]])})),[p,h,B]),D="connected"===p||"unsupported"===p||"checking"===p||h;return c.default.createElement(u.SafeAreaView,{style:[y.container,o&&y.containerCosmic],__self:b,__source:{fileName:C,lineNumber:142,columnNumber:5}},c.default.createElement(f.CosmicBackground,{variant:"moon",dimmer:!0,style:u.StyleSheet.absoluteFill,__self:b,__source:{fileName:C,lineNumber:143,columnNumber:7}}),c.default.createElement(u.View,{style:y.webContainer,__self:b,__source:{fileName:C,lineNumber:144,columnNumber:7}},c.default.createElement(u.ScrollView,{style:y.scrollView,contentContainerStyle:y.scrollContent,showsVerticalScrollIndicator:!1,__self:b,__source:{fileName:C,lineNumber:145,columnNumber:9}},c.default.createElement(u.View,{style:y.content,__self:b,__source:{fileName:C,lineNumber:150,columnNumber:11}},c.default.createElement(u.Text,{style:[y.title,o&&y.titleCosmic],__self:b,__source:{fileName:C,lineNumber:151,columnNumber:13}},"CALENDAR"),c.default.createElement(f.GlowCard,{glow:"none",style:y.rationaleCard,__self:b,__source:{fileName:C,lineNumber:153,columnNumber:13}},c.default.createElement(u.Text,{style:[y.rationaleTitle,o&&y.rationaleTitleCosmic],__self:b,__source:{fileName:C,lineNumber:154,columnNumber:15}},"WHY THIS WORKS"),c.default.createElement(u.Text,{style:[y.rationaleText,o&&y.rationaleTextCosmic],__self:b,__source:{fileName:C,lineNumber:155,columnNumber:15}},"Externalizing time through visual calendars reduces ADHD time-blindness and improves prospective memory. Seeing commitments spatially helps with planning, transitions, and preventing double-booking. CBT emphasizes external structure as cognitive support.")),c.default.createElement(f.GlowCard,{glow:"none",style:y.calendarCard,__self:b,__source:{fileName:C,lineNumber:160,columnNumber:13}},c.default.createElement(u.View,{style:y.header,__self:b,__source:{fileName:C,lineNumber:161,columnNumber:15}},c.default.createElement(u.Pressable,{onPress:function(){d(new Date(a.getFullYear(),a.getMonth()-1))},style:function(e){var t=e.pressed,r=e.hovered;return[y.navButton,o&&y.navButtonCosmic,r&&y.navButtonHovered,r&&o&&y.navButtonHoveredCosmic,t&&y.navButtonPressed,t&&o&&y.navButtonPressedCosmic]},__self:b,__source:{fileName:C,lineNumber:162,columnNumber:17}},c.default.createElement(u.Text,{style:[y.navButtonText,o&&y.navButtonTextCosmic],__self:b,__source:{fileName:C,lineNumber:179,columnNumber:19}},"‹")),c.default.createElement(u.Text,{style:[y.monthText,o&&y.monthTextCosmic],__self:b,__source:{fileName:C,lineNumber:181,columnNumber:17}},["January","February","March","April","May","June","July","August","September","October","November","December"][a.getMonth()].toUpperCase()," ",a.getFullYear()),c.default.createElement(u.Pressable,{onPress:function(){d(new Date(a.getFullYear(),a.getMonth()+1))},style:function(e){var t=e.pressed,r=e.hovered;return[y.navButton,o&&y.navButtonCosmic,r&&y.navButtonHovered,r&&o&&y.navButtonHoveredCosmic,t&&y.navButtonPressed,t&&o&&y.navButtonPressedCosmic]},__self:b,__source:{fileName:C,lineNumber:185,columnNumber:17}},c.default.createElement(u.Text,{style:[y.navButtonText,o&&y.navButtonTextCosmic],__self:b,__source:{fileName:C,lineNumber:202,columnNumber:19}},"›"))),c.default.createElement(u.View,{style:y.weekdays,__self:b,__source:{fileName:C,lineNumber:206,columnNumber:15}},["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(function(e){return c.default.createElement(u.Text,{key:e,style:[y.weekdayText,o&&y.weekdayTextCosmic],__self:b,__source:{fileName:C,lineNumber:208,columnNumber:19}},e)})),c.default.createElement(u.View,{style:y.daysGrid,__self:b,__source:{fileName:C,lineNumber:214,columnNumber:15}},Array(E).fill(0).map(function(e,t){return c.default.createElement(u.View,{key:"empty-".concat(t),style:[y.dayCell,o&&y.dayCellCosmic],__self:b,__source:{fileName:C,lineNumber:218,columnNumber:21}})}),S.map(function(e){var t=e===(new Date).getDate()&&a.getMonth()===(new Date).getMonth()&&a.getFullYear()===(new Date).getFullYear();return c.default.createElement(u.Pressable,{key:e,style:function(e){var r=e.pressed,n=e.hovered;return[y.dayCell,o&&y.dayCellCosmic,t&&y.todayCell,t&&o&&y.todayCellCosmic,n&&!t&&y.dayCellHovered,n&&!t&&o&&y.dayCellHoveredCosmic,r&&!t&&y.dayCellPressed,r&&!t&&o&&y.dayCellPressedCosmic]},__self:b,__source:{fileName:C,lineNumber:226,columnNumber:21}},c.default.createElement(u.Text,{style:[y.dayText,o&&y.dayTextCosmic,t&&y.todayText,t&&o&&y.todayTextCosmic],__self:b,__source:{fileName:C,lineNumber:245,columnNumber:23}},e))}))),c.default.createElement(u.View,{style:y.legend,__self:b,__source:{fileName:C,lineNumber:261,columnNumber:13}},c.default.createElement(u.View,{style:y.legendItem,__self:b,__source:{fileName:C,lineNumber:262,columnNumber:15}},c.default.createElement(u.View,{style:[y.legendDot,y.todayDot,o&&y.todayDotCosmic],__self:b,__source:{fileName:C,lineNumber:263,columnNumber:17}}),c.default.createElement(u.Text,{style:[y.legendText,o&&y.legendTextCosmic],__self:b,__source:{fileName:C,lineNumber:268,columnNumber:17}},"TODAY"))),c.default.createElement(f.GlowCard,{glow:"none",style:y.googleCalendarCard,__self:b,__source:{fileName:C,lineNumber:272,columnNumber:13}},c.default.createElement(u.Text,{style:[y.googleCalendarTitle,o&&y.googleCalendarTitleCosmic],__self:b,__source:{fileName:C,lineNumber:273,columnNumber:15}},"GOOGLE CALENDAR"),c.default.createElement(u.Text,{style:[y.googleCalendarStatus,o&&y.googleCalendarStatusCosmic],__self:b,__source:{fileName:C,lineNumber:274,columnNumber:15}},{checking:"STATUS: CHECKING...",connected:"STATUS: CONNECTED",disconnected:"STATUS: NOT CONNECTED",unsupported:"STATUS: NOT AVAILABLE ON WEB"}[p]),c.default.createElement(u.Pressable,{onPress:F,disabled:D,style:function(e){var t=e.pressed,r=e.hovered;return[y.googleCalendarButton,o&&y.googleCalendarButtonCosmic,r&&!D&&y.googleCalendarButtonHovered,r&&!D&&o&&y.googleCalendarButtonHoveredCosmic,t&&!D&&y.googleCalendarButtonPressed,t&&!D&&o&&y.googleCalendarButtonPressedCosmic,D&&y.googleCalendarButtonDisabled,D&&o&&y.googleCalendarButtonDisabledCosmic]},__self:b,__source:{fileName:C,lineNumber:277,columnNumber:15}},c.default.createElement(u.Text,{style:[y.googleCalendarButtonText,o&&y.googleCalendarButtonTextCosmic],__self:b,__source:{fileName:C,lineNumber:310,columnNumber:17}},{checking:"CHECKING...",connected:"CONNECTED",disconnected:"CONNECT GOOGLE CALENDAR",unsupported:"WEB UNSUPPORTED"}[p])))))))}}}]);