(self.webpackChunkspark_adhd_rn=self.webpackChunkspark_adhd_rn||[]).push([[222],{86222(e,t,r){var n=r(18772),a=r(66584);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(16578)),l=n(r(26007)),s=n(r(66584)),i=n(r(58361)),u=function(e){if("function"==typeof WeakMap){var t=new WeakMap;new WeakMap}return function(e){if(e&&e.__esModule)return e;var r,n,o={__proto__:null,default:e};if(null===e||"object"!=a(e)&&"function"!=typeof e)return o;if(r=t){if(r.has(e))return r.get(e);r.set(e,o)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((n=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(n.get||n.set)?r(o,l,n):o[l]=e[l]);return o}(e)}(r(25602)),c=r(71582),m=r(46586),f=r(59354),d=r(8747),p=n(r(40629)),b=r(18878),_=this,k="C:\\Users\\Steve\\OneDrive\\Desktop\\Github Repos\\spark-adhd\\src\\screens\\DiagnosticsScreen.tsx",g="spark-backup-v1",N="spark-adhd",T=c.StyleSheet.create({safeArea:{flex:1,backgroundColor:m.Tokens.colors.neutral.darkest},container:{flex:1,backgroundColor:m.Tokens.colors.neutral.darkest},header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingHorizontal:m.Tokens.spacing[4],paddingVertical:m.Tokens.spacing[2],borderBottomWidth:1,borderBottomColor:m.Tokens.colors.neutral.border},backButton:{paddingVertical:m.Tokens.spacing[1],paddingHorizontal:m.Tokens.spacing[2]},backButtonText:{fontFamily:m.Tokens.type.fontFamily.mono,fontSize:12,fontWeight:"700",color:m.Tokens.colors.indigo.primary,letterSpacing:.5},title:{fontFamily:m.Tokens.type.fontFamily.mono,fontSize:14,fontWeight:"700",color:m.Tokens.colors.text.primary,letterSpacing:1},refreshButton:{paddingVertical:m.Tokens.spacing[1],paddingHorizontal:m.Tokens.spacing[2]},refreshButtonText:{fontFamily:m.Tokens.type.fontFamily.mono,fontSize:16,fontWeight:"700",color:m.Tokens.colors.indigo.primary},refreshButtonTextDisabled:{color:m.Tokens.colors.text.tertiary},scrollView:{flex:1},scrollContent:{padding:m.Tokens.spacing[4]},section:{marginBottom:m.Tokens.spacing[6]},sectionTitle:{fontFamily:m.Tokens.type.fontFamily.mono,fontSize:10,fontWeight:"700",color:m.Tokens.colors.text.secondary,letterSpacing:1,marginBottom:m.Tokens.spacing[2]},diagRow:{flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",paddingVertical:m.Tokens.spacing[2],borderBottomWidth:1,borderBottomColor:m.Tokens.colors.neutral.borderSubtle},diagLabelContainer:{flexDirection:"row",alignItems:"center",flex:1},diagIndicator:{fontFamily:m.Tokens.type.fontFamily.mono,fontSize:12,marginRight:m.Tokens.spacing[1],width:16},diagLabel:{fontFamily:m.Tokens.type.fontFamily.sans,fontSize:13,color:m.Tokens.colors.text.primary,flex:1},diagValue:{fontFamily:m.Tokens.type.fontFamily.mono,fontSize:11,textAlign:"right",maxWidth:"50%"},instructionText:{fontFamily:m.Tokens.type.fontFamily.sans,fontSize:13,color:m.Tokens.colors.text.secondary,marginBottom:m.Tokens.spacing[2],lineHeight:20},instructionStep:{fontFamily:m.Tokens.type.fontFamily.mono,fontSize:11,color:m.Tokens.colors.text.primary,marginBottom:m.Tokens.spacing[1],paddingLeft:m.Tokens.spacing[2],lineHeight:18},backupActionsRow:{flexDirection:"row",gap:m.Tokens.spacing[2],marginBottom:m.Tokens.spacing[2]},backupButton:{flex:1,minHeight:m.Tokens.layout.minTapTarget,borderWidth:1,borderColor:m.Tokens.colors.neutral.border,backgroundColor:m.Tokens.colors.neutral.dark,alignItems:"center",justifyContent:"center",paddingVertical:m.Tokens.spacing[1],paddingHorizontal:m.Tokens.spacing[2]},backupButtonDisabled:{opacity:.5},backupButtonText:{fontFamily:m.Tokens.type.fontFamily.mono,fontSize:m.Tokens.type.xs,color:m.Tokens.colors.text.primary,fontWeight:"700",letterSpacing:1},backupInput:{minHeight:4*m.Tokens.layout.minTapTargetComfortable,borderWidth:1,borderColor:m.Tokens.colors.neutral.border,backgroundColor:m.Tokens.colors.neutral.darker,color:m.Tokens.colors.text.primary,fontFamily:m.Tokens.type.fontFamily.mono,fontSize:m.Tokens.type.xs,padding:m.Tokens.spacing[2]},backupStatusText:{marginTop:m.Tokens.spacing[2],fontFamily:m.Tokens.type.fontFamily.mono,fontSize:m.Tokens.type.xs,color:m.Tokens.colors.text.secondary},backupMetaText:{fontFamily:m.Tokens.type.fontFamily.mono,fontSize:m.Tokens.type.xs,color:m.Tokens.colors.text.tertiary,marginBottom:m.Tokens.spacing[2],letterSpacing:.5},modeSelectorContainer:{flexDirection:"row",marginBottom:m.Tokens.spacing[2],borderWidth:1,borderColor:m.Tokens.colors.neutral.border,backgroundColor:m.Tokens.colors.neutral.darker},modeButton:{flex:1,paddingVertical:m.Tokens.spacing[1],alignItems:"center",justifyContent:"center",backgroundColor:"transparent"},modeButtonActive:{backgroundColor:m.Tokens.colors.neutral.dark},modeButtonText:{fontFamily:m.Tokens.type.fontFamily.mono,fontSize:10,color:m.Tokens.colors.text.secondary,fontWeight:"700",letterSpacing:1},modeButtonTextActive:{color:m.Tokens.colors.text.primary},themeOption:{marginBottom:0},themeOptionContent:{flexDirection:"row",alignItems:"center"},themePreview:{marginRight:m.Tokens.spacing[4]},themePreviewBox:{width:48,height:48,borderRadius:8,justifyContent:"center",alignItems:"center",borderWidth:1,borderColor:"rgba(255, 255, 255, 0.1)"},themePreviewAccent:{width:16,height:16,borderRadius:8},themeText:{flex:1},themeTitle:{fontFamily:m.Tokens.type.fontFamily.mono,fontSize:m.Tokens.type.base,fontWeight:"700",color:m.Tokens.colors.text.primary,marginBottom:2},themeDescription:{fontFamily:m.Tokens.type.fontFamily.sans,fontSize:m.Tokens.type.sm,color:m.Tokens.colors.text.secondary},spacer8:{height:8},checkmark:{fontSize:20,color:m.Tokens.colors.success.main,marginLeft:m.Tokens.spacing[2]}});t.default=function(e){var t,n,a,y=e.navigation,x=(0,f.useTheme)(),h=x.variant,E=x.setVariant,v=(0,u.useState)([]),S=(0,i.default)(v,2),w=S[0],A=S[1],C=(0,u.useState)(!1),B=(0,i.default)(C,2),O=B[0],I=B[1],D=(0,u.useState)(""),P=(0,i.default)(D,2),V=P[0],F=P[1],R=(0,u.useState)(!1),M=(0,i.default)(R,2),G=M[0],L=M[1],z=(0,u.useState)(""),W=(0,i.default)(z,2),j=W[0],H=W[1],J=(0,u.useState)("overwrite"),U=(0,i.default)(J,2),K=U[0],Y=U[1],X=(0,u.useState)(null),q=(0,i.default)(X,2),Q=q[0],Z=q[1],$=Object.values(p.default.STORAGE_KEYS),ee=function(e){H(e),c.AccessibilityInfo.announceForAccessibility(e)},te=function(e){if(!e||"object"!==(0,s.default)(e))return{error:"Backup JSON must be an object."};var t=e;return t.schema!==g?{error:"Unsupported backup schema."}:t.app!==N?{error:"Backup is not from Spark ADHD."}:"string"!=typeof t.exportedAt||Number.isNaN(Date.parse(t.exportedAt))?{error:"Backup exportedAt timestamp is invalid."}:t.data&&"object"===(0,s.default)(t.data)?Object.keys(t.data).some(function(e){return!$.includes(e)})?{error:"Backup data includes unsupported keys."}:Object.values(t.data).some(function(e){return null!==e&&"string"!=typeof e})?{error:"Backup data values must be string or null."}:{payload:t}:{error:"Backup data payload is missing."}},re=(0,u.useCallback)((0,l.default)(o.default.mark(function e(){var t;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,p.default.get(p.default.STORAGE_KEYS.backupLastExportAt);case 1:t=e.sent,Z(t);case 2:case"end":return e.stop()}},e)})),[]),ne=(t=(0,l.default)(o.default.mark(function e(t){var r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(L(!0),e.prev=1,"overwrite"!==K){e.next=3;break}return e.next=2,Promise.all($.map(function(){var e=(0,l.default)(o.default.mark(function e(r){var n;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!=typeof(n=t.data[r])){e.next=2;break}return e.next=1,p.default.set(r,n);case 1:e.next=3;break;case 2:return e.next=3,p.default.remove(r);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 2:e.next=4;break;case 3:return e.next=4,Promise.all(Object.entries(t.data).map(function(){var e=(0,l.default)(o.default.mark(function e(t){var r,n,a;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(0,i.default)(t,2),n=r[0],a=r[1],!$.includes(n)||"string"!=typeof a){e.next=1;break}return e.next=1,p.default.set(n,a);case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 4:return ee("Import (".concat(K,") completed. Diagnostics reloading...")),e.next=5,le();case 5:e.next=7;break;case 6:e.prev=6,r=e.catch(1),ee(r instanceof Error?r.message:"Import failed unexpectedly.");case 7:return e.prev=7,L(!1),e.finish(7);case 8:case"end":return e.stop()}},e,null,[[1,6,7,8]])})),function(e){return t.apply(this,arguments)}),ae=(n=(0,l.default)(o.default.mark(function e(){var t,r,n,a,s;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.prev=1,e.next=2,Promise.all($.map(function(){var e=(0,l.default)(o.default.mark(function e(t){var r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,p.default.get(t);case 1:return r=e.sent,e.abrupt("return",[t,r]);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 2:return t=e.sent,r={schema:g,exportedAt:(new Date).toISOString(),app:N,data:Object.fromEntries(t)},n=JSON.stringify(r,null,2),F(n),e.next=3,p.default.set(p.default.STORAGE_KEYS.backupLastExportAt,r.exportedAt);case 3:if(Z(r.exportedAt),null==(a=c.NativeModules.Clipboard)||!a.setString){e.next=4;break}a.setString(n),ee("Backup exported and copied to clipboard."),e.next=6;break;case 4:return e.next=5,c.Share.share({title:"Spark backup JSON",message:n});case 5:ee("Backup exported. Shared via system dialog.");case 6:e.next=8;break;case 7:e.prev=7,s=e.catch(1),ee(s instanceof Error?s.message:"Export failed unexpectedly.");case 8:return e.prev=8,L(!1),e.finish(8);case 9:case"end":return e.stop()}},e,null,[[1,7,8,9]])})),function(){return n.apply(this,arguments)}),oe=(a=(0,l.default)(o.default.mark(function e(){var t,r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(V.trim()){e.next=1;break}return ee("Paste backup JSON before importing."),e.abrupt("return");case 1:e.prev=1,t=JSON.parse(V),e.next=3;break;case 2:return e.prev=2,e.catch(1),ee("Invalid JSON. Import canceled."),e.abrupt("return");case 3:if(!("error"in(r=te(t)))){e.next=4;break}return ee("".concat(r.error," Import canceled.")),e.abrupt("return");case 4:if("web"!==c.Platform.OS){e.next=6;break}return e.next=5,ne(r.payload);case 5:return e.abrupt("return");case 6:c.Alert.alert("Import backup?","overwrite"===K?"This overwrites local app data for tracked keys. Continue?":"This merges backup data into local app data. Continue?",[{text:"Cancel",style:"cancel"},{text:"Import",style:"destructive",onPress:function(){ne(r.payload).catch(function(e){ee(e instanceof Error?e.message:"Import failed unexpectedly.")})}}],{cancelable:!0});case 7:case"end":return e.stop()}},e,null,[[1,2]])})),function(){return a.apply(this,arguments)}),le=(0,u.useCallback)((0,l.default)(o.default.mark(function e(){var t,n,a,l,s,i,u,m,f,b,_,k,g,N,T,y,x;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),t=[],e.next=1,re();case 1:if(t.push({label:"Platform",value:c.Platform.OS,status:"info"}),n=Boolean(d.config.googleWebClientId),a=Boolean(d.config.googleIosClientId),l=n||a,t.push({label:"Google Web Client ID",value:n?"Configured":"Missing",status:n?"ok":"warning"}),t.push({label:"Google iOS Client ID",value:a?"Configured":"Missing",status:a?"ok":"warning"}),"web"===c.Platform.OS){e.next=14;break}if(e.prev=2,s=l,t.push({label:"Can Attempt Auth",value:s?"Yes":"No (missing client IDs)",status:s?"ok":"error"}),e.prev=3,null==(i=r(85927))||!i.GoogleSignin){e.next=8;break}return e.prev=4,e.next=5,i.GoogleSignin.getCurrentUser();case 5:null!=(u=e.sent)&&u.scopes?(f=u.scopes.includes("https://www.googleapis.com/auth/tasks"),b=u.scopes.includes("https://www.googleapis.com/auth/calendar.events"),t.push({label:"Google Tasks Scope",value:f?"Granted":"Not granted",status:f?"ok":"warning"}),t.push({label:"Google Calendar Scope",value:b?"Granted":"Not granted",status:b?"ok":"warning"}),t.push({label:"Signed In User",value:(null===(m=u.user)||void 0===m?void 0:m.email)||"Unknown",status:"info"})):t.push({label:"Google Auth Status",value:"Not signed in",status:"warning"}),e.next=7;break;case 6:e.prev=6,e.catch(4),t.push({label:"Google Auth Status",value:"Not signed in",status:"warning"});case 7:e.next=9;break;case 8:t.push({label:"Google Sign-In Module",value:"Not available",status:"error"});case 9:e.next=11;break;case 10:e.prev=10,e.catch(3),t.push({label:"Google Sign-In Module",value:"Not installed",status:"error"});case 11:e.next=13;break;case 12:e.prev=12,x=e.catch(2),t.push({label:"Auth Check Error",value:x instanceof Error?x.message:"Unknown error",status:"error"});case 13:e.next=15;break;case 14:t.push({label:"Google Sync",value:"Not available on web",status:"info"});case 15:return e.prev=15,e.next=16,p.default.get(p.default.STORAGE_KEYS.googleTasksLastSyncAt);case 16:(_=e.sent)?(k=new Date(_),g=new Date,N=Math.floor((g.getTime()-k.getTime())/6e4),t.push({label:"Last Sync",value:"".concat(N," minutes ago (").concat(k.toLocaleString(),")"),status:N<30?"ok":"warning"})):t.push({label:"Last Sync",value:"Never",status:"info"}),e.next=18;break;case 17:e.prev=17,e.catch(15),t.push({label:"Last Sync",value:"Error reading timestamp",status:"error"});case 18:return e.prev=18,e.next=19,p.default.getJSON(p.default.STORAGE_KEYS.googleTasksExportedFingerprints);case 19:T=e.sent,y=Array.isArray(T)?T.length:0,t.push({label:"Exported Items (Dedupe Cache)",value:"".concat(y),status:"info"}),e.next=21;break;case 20:e.prev=20,e.catch(18),t.push({label:"Exported Items",value:"Error reading cache",status:"error"});case 21:A(t),I(!1);case 22:case"end":return e.stop()}},e,null,[[2,12],[3,10],[4,6],[15,17],[18,20]])})),[re]);(0,u.useEffect)(function(){le()},[le]);var se=function(e){switch(e){case"ok":return m.Tokens.colors.success.main;case"warning":return m.Tokens.colors.warning.main;case"error":return m.Tokens.colors.error.main;default:return m.Tokens.colors.text.secondary}};return u.default.createElement(b.CosmicBackground,{variant:"ridge",dimmer:!0,__self:_,__source:{fileName:k,lineNumber:459,columnNumber:5}},u.default.createElement(c.SafeAreaView,{style:T.safeArea,__self:_,__source:{fileName:k,lineNumber:460,columnNumber:7}},u.default.createElement(c.View,{style:T.container,__self:_,__source:{fileName:k,lineNumber:461,columnNumber:9}},u.default.createElement(c.View,{style:T.header,__self:_,__source:{fileName:k,lineNumber:463,columnNumber:11}},u.default.createElement(c.TouchableOpacity,{onPress:function(){return y.goBack()},style:T.backButton,accessibilityLabel:"Go back",accessibilityRole:"button",__self:_,__source:{fileName:k,lineNumber:464,columnNumber:13}},u.default.createElement(c.Text,{style:T.backButtonText,__self:_,__source:{fileName:k,lineNumber:470,columnNumber:15}},"← BACK")),u.default.createElement(c.Text,{style:T.title,__self:_,__source:{fileName:k,lineNumber:472,columnNumber:13}},"DIAGNOSTICS"),u.default.createElement(c.TouchableOpacity,{onPress:function(){le()},style:T.refreshButton,disabled:O,accessibilityLabel:"Refresh diagnostics",accessibilityRole:"button",__self:_,__source:{fileName:k,lineNumber:473,columnNumber:13}},u.default.createElement(c.Text,{style:[T.refreshButtonText,O&&T.refreshButtonTextDisabled],__self:_,__source:{fileName:k,lineNumber:480,columnNumber:15}},O?"...":"↻"))),u.default.createElement(c.ScrollView,{style:T.scrollView,contentContainerStyle:T.scrollContent,__self:_,__source:{fileName:k,lineNumber:492,columnNumber:11}},u.default.createElement(c.View,{style:T.section,__self:_,__source:{fileName:k,lineNumber:496,columnNumber:13}},u.default.createElement(c.Text,{style:T.sectionTitle,__self:_,__source:{fileName:k,lineNumber:497,columnNumber:15}},"SYSTEM STATUS"),w.map(function(e,t){return u.default.createElement(c.View,{key:t,style:T.diagRow,__self:_,__source:{fileName:k,lineNumber:499,columnNumber:17}},u.default.createElement(c.View,{style:T.diagLabelContainer,__self:_,__source:{fileName:k,lineNumber:500,columnNumber:19}},u.default.createElement(c.Text,{style:[T.diagIndicator,{color:se(e.status)}],__self:_,__source:{fileName:k,lineNumber:501,columnNumber:21}},function(e){switch(e){case"ok":return"✓";case"warning":return"⚠";case"error":return"✗";default:return"●"}}(e.status)),u.default.createElement(c.Text,{style:T.diagLabel,__self:_,__source:{fileName:k,lineNumber:509,columnNumber:21}},e.label)),u.default.createElement(c.Text,{style:[T.diagValue,{color:se(e.status)}],numberOfLines:2,__self:_,__source:{fileName:k,lineNumber:511,columnNumber:19}},e.value))})),u.default.createElement(c.View,{style:T.section,__self:_,__source:{fileName:k,lineNumber:524,columnNumber:13}},u.default.createElement(c.Text,{style:T.sectionTitle,__self:_,__source:{fileName:k,lineNumber:525,columnNumber:15}},"SETUP INSTRUCTIONS"),u.default.createElement(c.Text,{style:T.instructionText,__self:_,__source:{fileName:k,lineNumber:526,columnNumber:15}},"To enable Google Tasks/Calendar sync:"),u.default.createElement(c.Text,{style:T.instructionStep,__self:_,__source:{fileName:k,lineNumber:529,columnNumber:15}},"1. Create a Firebase project at console.firebase.google.com"),u.default.createElement(c.Text,{style:T.instructionStep,__self:_,__source:{fileName:k,lineNumber:532,columnNumber:15}},"2. Add Android app with package ID: com.sparkadhd"),u.default.createElement(c.Text,{style:T.instructionStep,__self:_,__source:{fileName:k,lineNumber:535,columnNumber:15}},"3. Download google-services.json to android/app/"),u.default.createElement(c.Text,{style:T.instructionStep,__self:_,__source:{fileName:k,lineNumber:538,columnNumber:15}},"4. Enable Google Tasks API in Google Cloud Console"),u.default.createElement(c.Text,{style:T.instructionStep,__self:_,__source:{fileName:k,lineNumber:541,columnNumber:15}},"5. Set REACT_APP_GOOGLE_WEB_CLIENT_ID environment variable"),u.default.createElement(c.Text,{style:T.instructionStep,__self:_,__source:{fileName:k,lineNumber:544,columnNumber:15}},"6. Rebuild the app")),u.default.createElement(c.View,{style:T.section,__self:_,__source:{fileName:k,lineNumber:547,columnNumber:13}},u.default.createElement(c.Text,{style:T.sectionTitle,__self:_,__source:{fileName:k,lineNumber:548,columnNumber:15}},"DATA BACKUP"),u.default.createElement(c.Text,{style:T.instructionText,__self:_,__source:{fileName:k,lineNumber:549,columnNumber:15}},"Export local data as JSON and import it later to restore this device state."),u.default.createElement(c.Text,{style:T.backupMetaText,__self:_,__source:{fileName:k,lineNumber:553,columnNumber:15}},"LAST EXPORT:"," ",Q?new Date(Q).toLocaleString():"NEVER"),u.default.createElement(c.View,{style:T.modeSelectorContainer,__self:_,__source:{fileName:k,lineNumber:560,columnNumber:15}},u.default.createElement(c.TouchableOpacity,{onPress:function(){return Y("overwrite")},style:[T.modeButton,"overwrite"===K&&T.modeButtonActive],accessibilityRole:"button",accessibilityLabel:"Set import mode to overwrite",testID:"import-mode-overwrite",__self:_,__source:{fileName:k,lineNumber:561,columnNumber:17}},u.default.createElement(c.Text,{style:[T.modeButtonText,"overwrite"===K&&T.modeButtonTextActive],__self:_,__source:{fileName:k,lineNumber:571,columnNumber:19}},"OVERWRITE")),u.default.createElement(c.TouchableOpacity,{onPress:function(){return Y("merge")},style:[T.modeButton,"merge"===K&&T.modeButtonActive],accessibilityRole:"button",accessibilityLabel:"Set import mode to merge",testID:"import-mode-merge",__self:_,__source:{fileName:k,lineNumber:580,columnNumber:17}},u.default.createElement(c.Text,{style:[T.modeButtonText,"merge"===K&&T.modeButtonTextActive],__self:_,__source:{fileName:k,lineNumber:590,columnNumber:19}},"MERGE"))),u.default.createElement(c.View,{style:T.backupActionsRow,__self:_,__source:{fileName:k,lineNumber:601,columnNumber:15}},u.default.createElement(c.TouchableOpacity,{testID:"diagnostics-export-backup",onPress:ae,disabled:G,style:[T.backupButton,G&&T.backupButtonDisabled],accessibilityRole:"button",accessibilityLabel:"Export backup JSON",__self:_,__source:{fileName:k,lineNumber:602,columnNumber:17}},u.default.createElement(c.Text,{style:T.backupButtonText,__self:_,__source:{fileName:k,lineNumber:613,columnNumber:19}},"EXPORT JSON")),u.default.createElement(c.TouchableOpacity,{testID:"diagnostics-import-backup",onPress:function(){oe().catch(function(e){ee(e instanceof Error?e.message:"Import failed unexpectedly.")})},disabled:G||!V.trim(),style:[T.backupButton,(G||!V.trim())&&T.backupButtonDisabled],accessibilityRole:"button",accessibilityLabel:"Import backup JSON",__self:_,__source:{fileName:k,lineNumber:616,columnNumber:17}},u.default.createElement(c.Text,{style:T.backupButtonText,__self:_,__source:{fileName:k,lineNumber:628,columnNumber:19}},"IMPORT JSON"))),u.default.createElement(c.TextInput,{testID:"diagnostics-backup-input",style:T.backupInput,value:V,onChangeText:F,multiline:!0,placeholder:"Paste backup JSON here",placeholderTextColor:m.Tokens.colors.text.placeholder,textAlignVertical:"top",accessibilityLabel:"Backup JSON input",__self:_,__source:{fileName:k,lineNumber:632,columnNumber:15}}),j?u.default.createElement(c.Text,{style:T.backupStatusText,__self:_,__source:{fileName:k,lineNumber:645,columnNumber:17}},j):null),u.default.createElement(c.View,{style:T.section,__self:_,__source:{fileName:k,lineNumber:650,columnNumber:13}},u.default.createElement(c.Text,{style:T.sectionTitle,__self:_,__source:{fileName:k,lineNumber:651,columnNumber:15}},"APPEARANCE"),u.default.createElement(b.GlowCard,{glow:"linear"===h?"soft":"none",onPress:function(){return E("linear")},style:T.themeOption,accessibilityLabel:"Select Linear theme",accessibilityRole:"button",accessibilityState:{selected:"linear"===h},__self:_,__source:{fileName:k,lineNumber:652,columnNumber:15}},u.default.createElement(c.View,{style:T.themeOptionContent,__self:_,__source:{fileName:k,lineNumber:660,columnNumber:17}},u.default.createElement(c.View,{style:T.themePreview,__self:_,__source:{fileName:k,lineNumber:661,columnNumber:19}},u.default.createElement(c.View,{style:[T.themePreviewBox,{backgroundColor:m.THEME_METADATA.linear.preview.background}],__self:_,__source:{fileName:k,lineNumber:662,columnNumber:21}},u.default.createElement(c.View,{style:[T.themePreviewAccent,{backgroundColor:m.THEME_METADATA.linear.preview.accent}],__self:_,__source:{fileName:k,lineNumber:671,columnNumber:23}}))),u.default.createElement(c.View,{style:T.themeText,__self:_,__source:{fileName:k,lineNumber:682,columnNumber:19}},u.default.createElement(c.Text,{style:T.themeTitle,__self:_,__source:{fileName:k,lineNumber:683,columnNumber:21}},m.THEME_METADATA.linear.label),u.default.createElement(c.Text,{style:T.themeDescription,__self:_,__source:{fileName:k,lineNumber:686,columnNumber:21}},m.THEME_METADATA.linear.description)),"linear"===h&&u.default.createElement(c.Text,{style:T.checkmark,__self:_,__source:{fileName:k,lineNumber:691,columnNumber:21}},"✓"))),u.default.createElement(c.View,{style:T.spacer8,__self:_,__source:{fileName:k,lineNumber:696,columnNumber:15}}),u.default.createElement(b.GlowCard,{glow:"cosmic"===h?"soft":"none",onPress:function(){return E("cosmic")},style:T.themeOption,accessibilityLabel:"Select Cosmic theme",accessibilityRole:"button",accessibilityState:{selected:"cosmic"===h},__self:_,__source:{fileName:k,lineNumber:698,columnNumber:15}},u.default.createElement(c.View,{style:T.themeOptionContent,__self:_,__source:{fileName:k,lineNumber:706,columnNumber:17}},u.default.createElement(c.View,{style:T.themePreview,__self:_,__source:{fileName:k,lineNumber:707,columnNumber:19}},u.default.createElement(c.View,{style:[T.themePreviewBox,{backgroundColor:m.THEME_METADATA.cosmic.preview.background}],__self:_,__source:{fileName:k,lineNumber:708,columnNumber:21}},u.default.createElement(c.View,{style:[T.themePreviewAccent,{backgroundColor:m.THEME_METADATA.cosmic.preview.accent}],__self:_,__source:{fileName:k,lineNumber:717,columnNumber:23}}))),u.default.createElement(c.View,{style:T.themeText,__self:_,__source:{fileName:k,lineNumber:728,columnNumber:19}},u.default.createElement(c.Text,{style:T.themeTitle,__self:_,__source:{fileName:k,lineNumber:729,columnNumber:21}},m.THEME_METADATA.cosmic.label),u.default.createElement(c.Text,{style:T.themeDescription,__self:_,__source:{fileName:k,lineNumber:732,columnNumber:21}},m.THEME_METADATA.cosmic.description)),"cosmic"===h&&u.default.createElement(c.Text,{style:T.checkmark,__self:_,__source:{fileName:k,lineNumber:737,columnNumber:21}},"✓"))))))))}}}]);