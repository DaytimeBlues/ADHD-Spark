(self.webpackChunkspark_adhd_rn=self.webpackChunkspark_adhd_rn||[]).push([[222],{86222(e,t,r){var n=r(18772),a=r(66584);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(16578)),l=n(r(26007)),s=n(r(66584)),i=n(r(58361)),u=function(e){if("function"==typeof WeakMap){var t=new WeakMap;new WeakMap}return function(e){if(e&&e.__esModule)return e;var r,n,o={__proto__:null,default:e};if(null===e||"object"!=a(e)&&"function"!=typeof e)return o;if(r=t){if(r.has(e))return r.get(e);r.set(e,o)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((n=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(n.get||n.set)?r(o,l,n):o[l]=e[l]);return o}(e)}(r(25602)),c=r(71582),m=r(46586),f=r(8747),d=n(r(40629)),p=r(18878),b=this,_="C:\\Users\\Steve\\OneDrive\\Desktop\\Github Repos\\spark-adhd\\src\\screens\\DiagnosticsScreen.tsx",g="spark-backup-v1",k="spark-adhd",N=c.StyleSheet.create({safeArea:{flex:1,backgroundColor:m.Tokens.colors.neutral.darkest},container:{flex:1,backgroundColor:m.Tokens.colors.neutral.darkest},header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingHorizontal:m.Tokens.spacing.md,paddingVertical:m.Tokens.spacing.sm,borderBottomWidth:1,borderBottomColor:m.Tokens.colors.neutral.border},backButton:{paddingVertical:m.Tokens.spacing.xs,paddingHorizontal:m.Tokens.spacing.sm},backButtonText:{fontFamily:m.Tokens.type.fontFamily.mono,fontSize:12,fontWeight:"700",color:m.Tokens.colors.indigo.primary,letterSpacing:.5},title:{fontFamily:m.Tokens.type.fontFamily.mono,fontSize:14,fontWeight:"700",color:m.Tokens.colors.text.primary,letterSpacing:1},refreshButton:{paddingVertical:m.Tokens.spacing.xs,paddingHorizontal:m.Tokens.spacing.sm},refreshButtonText:{fontFamily:m.Tokens.type.fontFamily.mono,fontSize:16,fontWeight:"700",color:m.Tokens.colors.indigo.primary},refreshButtonTextDisabled:{color:m.Tokens.colors.text.tertiary},scrollView:{flex:1},scrollContent:{padding:m.Tokens.spacing.md},section:{marginBottom:m.Tokens.spacing.lg},sectionTitle:{fontFamily:m.Tokens.type.fontFamily.mono,fontSize:10,fontWeight:"700",color:m.Tokens.colors.text.secondary,letterSpacing:1,marginBottom:m.Tokens.spacing.sm},diagRow:{flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",paddingVertical:m.Tokens.spacing.sm,borderBottomWidth:1,borderBottomColor:m.Tokens.colors.neutral.borderSubtle},diagLabelContainer:{flexDirection:"row",alignItems:"center",flex:1},diagIndicator:{fontFamily:m.Tokens.type.fontFamily.mono,fontSize:12,marginRight:m.Tokens.spacing.xs,width:16},diagLabel:{fontFamily:m.Tokens.type.fontFamily.sans,fontSize:13,color:m.Tokens.colors.text.primary,flex:1},diagValue:{fontFamily:m.Tokens.type.fontFamily.mono,fontSize:11,textAlign:"right",maxWidth:"50%"},instructionText:{fontFamily:m.Tokens.type.fontFamily.sans,fontSize:13,color:m.Tokens.colors.text.secondary,marginBottom:m.Tokens.spacing.sm,lineHeight:20},instructionStep:{fontFamily:m.Tokens.type.fontFamily.mono,fontSize:11,color:m.Tokens.colors.text.primary,marginBottom:m.Tokens.spacing.xs,paddingLeft:m.Tokens.spacing.sm,lineHeight:18},backupActionsRow:{flexDirection:"row",gap:m.Tokens.spacing.sm,marginBottom:m.Tokens.spacing.sm},backupButton:{flex:1,minHeight:m.Tokens.layout.minTapTarget,borderWidth:1,borderColor:m.Tokens.colors.neutral.border,backgroundColor:m.Tokens.colors.neutral.dark,alignItems:"center",justifyContent:"center",paddingVertical:m.Tokens.spacing.xs,paddingHorizontal:m.Tokens.spacing.sm},backupButtonDisabled:{opacity:.5},backupButtonText:{fontFamily:m.Tokens.type.fontFamily.mono,fontSize:m.Tokens.type.xs,color:m.Tokens.colors.text.primary,fontWeight:"700",letterSpacing:1},backupInput:{minHeight:4*m.Tokens.layout.minTapTargetComfortable,borderWidth:1,borderColor:m.Tokens.colors.neutral.border,backgroundColor:m.Tokens.colors.neutral.darker,color:m.Tokens.colors.text.primary,fontFamily:m.Tokens.type.fontFamily.mono,fontSize:m.Tokens.type.xs,padding:m.Tokens.spacing.sm},backupStatusText:{marginTop:m.Tokens.spacing.sm,fontFamily:m.Tokens.type.fontFamily.mono,fontSize:m.Tokens.type.xs,color:m.Tokens.colors.text.secondary},backupMetaText:{fontFamily:m.Tokens.type.fontFamily.mono,fontSize:m.Tokens.type.xs,color:m.Tokens.colors.text.tertiary,marginBottom:m.Tokens.spacing.sm,letterSpacing:.5},modeSelectorContainer:{flexDirection:"row",marginBottom:m.Tokens.spacing.sm,borderWidth:1,borderColor:m.Tokens.colors.neutral.border,backgroundColor:m.Tokens.colors.neutral.darker},modeButton:{flex:1,paddingVertical:m.Tokens.spacing.xs,alignItems:"center",justifyContent:"center",backgroundColor:"transparent"},modeButtonActive:{backgroundColor:m.Tokens.colors.neutral.dark},modeButtonText:{fontFamily:m.Tokens.type.fontFamily.mono,fontSize:10,color:m.Tokens.colors.text.secondary,fontWeight:"700",letterSpacing:1},modeButtonTextActive:{color:m.Tokens.colors.text.primary},themeOption:{marginBottom:0},themeOptionContent:{flexDirection:"row",alignItems:"center"},themePreview:{marginRight:m.Tokens.spacing.md},themePreviewBox:{width:48,height:48,borderRadius:8,justifyContent:"center",alignItems:"center",borderWidth:1,borderColor:"rgba(255, 255, 255, 0.1)"},themePreviewAccent:{width:16,height:16,borderRadius:8},themeText:{flex:1},themeTitle:{fontFamily:m.Tokens.type.fontFamily.mono,fontSize:m.Tokens.type.base,fontWeight:"700",color:m.Tokens.colors.text.primary,marginBottom:2},themeDescription:{fontFamily:m.Tokens.type.fontFamily.sans,fontSize:m.Tokens.type.sm,color:m.Tokens.colors.text.secondary},checkmark:{fontSize:20,color:m.Tokens.colors.success,marginLeft:m.Tokens.spacing.sm}});t.default=function(e){var t,n,a,T=e.navigation,y=(0,m.useTheme)(),x=(y.isCosmic,y.setVariant),h=y.variant,E=(0,u.useState)([]),v=(0,i.default)(E,2),S=v[0],w=v[1],A=(0,u.useState)(!1),C=(0,i.default)(A,2),B=C[0],O=C[1],I=(0,u.useState)(""),D=(0,i.default)(I,2),P=D[0],V=D[1],F=(0,u.useState)(!1),R=(0,i.default)(F,2),M=R[0],G=R[1],L=(0,u.useState)(""),z=(0,i.default)(L,2),W=z[0],j=z[1],H=(0,u.useState)("overwrite"),J=(0,i.default)(H,2),U=J[0],K=J[1],Y=(0,u.useState)(null),X=(0,i.default)(Y,2),q=X[0],Q=X[1],Z=Object.values(d.default.STORAGE_KEYS),$=function(e){j(e),c.AccessibilityInfo.announceForAccessibility(e)},ee=function(e){if(!e||"object"!==(0,s.default)(e))return{error:"Backup JSON must be an object."};var t=e;return t.schema!==g?{error:"Unsupported backup schema."}:t.app!==k?{error:"Backup is not from Spark ADHD."}:"string"!=typeof t.exportedAt||Number.isNaN(Date.parse(t.exportedAt))?{error:"Backup exportedAt timestamp is invalid."}:t.data&&"object"===(0,s.default)(t.data)?Object.keys(t.data).some(function(e){return!Z.includes(e)})?{error:"Backup data includes unsupported keys."}:Object.values(t.data).some(function(e){return null!==e&&"string"!=typeof e})?{error:"Backup data values must be string or null."}:{payload:t}:{error:"Backup data payload is missing."}},te=(0,u.useCallback)((0,l.default)(o.default.mark(function e(){var t;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,d.default.get(d.default.STORAGE_KEYS.backupLastExportAt);case 1:t=e.sent,Q(t);case 2:case"end":return e.stop()}},e)})),[]),re=(t=(0,l.default)(o.default.mark(function e(t){var r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(G(!0),e.prev=1,"overwrite"!==U){e.next=3;break}return e.next=2,Promise.all(Z.map(function(){var e=(0,l.default)(o.default.mark(function e(r){var n;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!=typeof(n=t.data[r])){e.next=2;break}return e.next=1,d.default.set(r,n);case 1:e.next=3;break;case 2:return e.next=3,d.default.remove(r);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 2:e.next=4;break;case 3:return e.next=4,Promise.all(Object.entries(t.data).map(function(){var e=(0,l.default)(o.default.mark(function e(t){var r,n,a;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(0,i.default)(t,2),n=r[0],a=r[1],!Z.includes(n)||"string"!=typeof a){e.next=1;break}return e.next=1,d.default.set(n,a);case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 4:return $("Import (".concat(U,") completed. Diagnostics reloading...")),e.next=5,oe();case 5:e.next=7;break;case 6:e.prev=6,r=e.catch(1),$(r instanceof Error?r.message:"Import failed unexpectedly.");case 7:return e.prev=7,G(!1),e.finish(7);case 8:case"end":return e.stop()}},e,null,[[1,6,7,8]])})),function(e){return t.apply(this,arguments)}),ne=(n=(0,l.default)(o.default.mark(function e(){var t,r,n,a,s;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return G(!0),e.prev=1,e.next=2,Promise.all(Z.map(function(){var e=(0,l.default)(o.default.mark(function e(t){var r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,d.default.get(t);case 1:return r=e.sent,e.abrupt("return",[t,r]);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 2:return t=e.sent,r={schema:g,exportedAt:(new Date).toISOString(),app:k,data:Object.fromEntries(t)},n=JSON.stringify(r,null,2),V(n),e.next=3,d.default.set(d.default.STORAGE_KEYS.backupLastExportAt,r.exportedAt);case 3:if(Q(r.exportedAt),null==(a=c.NativeModules.Clipboard)||!a.setString){e.next=4;break}a.setString(n),$("Backup exported and copied to clipboard."),e.next=6;break;case 4:return e.next=5,c.Share.share({title:"Spark backup JSON",message:n});case 5:$("Backup exported. Shared via system dialog.");case 6:e.next=8;break;case 7:e.prev=7,s=e.catch(1),$(s instanceof Error?s.message:"Export failed unexpectedly.");case 8:return e.prev=8,G(!1),e.finish(8);case 9:case"end":return e.stop()}},e,null,[[1,7,8,9]])})),function(){return n.apply(this,arguments)}),ae=(a=(0,l.default)(o.default.mark(function e(){var t,r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(P.trim()){e.next=1;break}return $("Paste backup JSON before importing."),e.abrupt("return");case 1:e.prev=1,t=JSON.parse(P),e.next=3;break;case 2:return e.prev=2,e.catch(1),$("Invalid JSON. Import canceled."),e.abrupt("return");case 3:if(!("error"in(r=ee(t)))){e.next=4;break}return $("".concat(r.error," Import canceled.")),e.abrupt("return");case 4:if("web"!==c.Platform.OS){e.next=6;break}return e.next=5,re(r.payload);case 5:return e.abrupt("return");case 6:c.Alert.alert("Import backup?","overwrite"===U?"This overwrites local app data for tracked keys. Continue?":"This merges backup data into local app data. Continue?",[{text:"Cancel",style:"cancel"},{text:"Import",style:"destructive",onPress:function(){re(r.payload).catch(function(e){$(e instanceof Error?e.message:"Import failed unexpectedly.")})}}],{cancelable:!0});case 7:case"end":return e.stop()}},e,null,[[1,2]])})),function(){return a.apply(this,arguments)}),oe=(0,u.useCallback)((0,l.default)(o.default.mark(function e(){var t,n,a,l,s,i,u,m,p,b,_,g,k,N,T,y,x;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),t=[],e.next=1,te();case 1:if(t.push({label:"Platform",value:c.Platform.OS,status:"info"}),n=Boolean(f.config.googleWebClientId),a=Boolean(f.config.googleIosClientId),l=n||a,t.push({label:"Google Web Client ID",value:n?"Configured":"Missing",status:n?"ok":"warning"}),t.push({label:"Google iOS Client ID",value:a?"Configured":"Missing",status:a?"ok":"warning"}),"web"===c.Platform.OS){e.next=14;break}if(e.prev=2,s=l,t.push({label:"Can Attempt Auth",value:s?"Yes":"No (missing client IDs)",status:s?"ok":"error"}),e.prev=3,null==(i=r(85927))||!i.GoogleSignin){e.next=8;break}return e.prev=4,e.next=5,i.GoogleSignin.getCurrentUser();case 5:null!=(u=e.sent)&&u.scopes?(p=u.scopes.includes("https://www.googleapis.com/auth/tasks"),b=u.scopes.includes("https://www.googleapis.com/auth/calendar.events"),t.push({label:"Google Tasks Scope",value:p?"Granted":"Not granted",status:p?"ok":"warning"}),t.push({label:"Google Calendar Scope",value:b?"Granted":"Not granted",status:b?"ok":"warning"}),t.push({label:"Signed In User",value:(null===(m=u.user)||void 0===m?void 0:m.email)||"Unknown",status:"info"})):t.push({label:"Google Auth Status",value:"Not signed in",status:"warning"}),e.next=7;break;case 6:e.prev=6,e.catch(4),t.push({label:"Google Auth Status",value:"Not signed in",status:"warning"});case 7:e.next=9;break;case 8:t.push({label:"Google Sign-In Module",value:"Not available",status:"error"});case 9:e.next=11;break;case 10:e.prev=10,e.catch(3),t.push({label:"Google Sign-In Module",value:"Not installed",status:"error"});case 11:e.next=13;break;case 12:e.prev=12,x=e.catch(2),t.push({label:"Auth Check Error",value:x instanceof Error?x.message:"Unknown error",status:"error"});case 13:e.next=15;break;case 14:t.push({label:"Google Sync",value:"Not available on web",status:"info"});case 15:return e.prev=15,e.next=16,d.default.get(d.default.STORAGE_KEYS.googleTasksLastSyncAt);case 16:(_=e.sent)?(g=new Date(_),k=new Date,N=Math.floor((k.getTime()-g.getTime())/6e4),t.push({label:"Last Sync",value:"".concat(N," minutes ago (").concat(g.toLocaleString(),")"),status:N<30?"ok":"warning"})):t.push({label:"Last Sync",value:"Never",status:"info"}),e.next=18;break;case 17:e.prev=17,e.catch(15),t.push({label:"Last Sync",value:"Error reading timestamp",status:"error"});case 18:return e.prev=18,e.next=19,d.default.getJSON(d.default.STORAGE_KEYS.googleTasksExportedFingerprints);case 19:T=e.sent,y=Array.isArray(T)?T.length:0,t.push({label:"Exported Items (Dedupe Cache)",value:"".concat(y),status:"info"}),e.next=21;break;case 20:e.prev=20,e.catch(18),t.push({label:"Exported Items",value:"Error reading cache",status:"error"});case 21:w(t),O(!1);case 22:case"end":return e.stop()}},e,null,[[2,12],[3,10],[4,6],[15,17],[18,20]])})),[te]);(0,u.useEffect)(function(){oe()},[oe]);var le=function(e){switch(e){case"ok":return m.Tokens.colors.success;case"warning":return m.Tokens.colors.warning;case"error":return m.Tokens.colors.error;default:return m.Tokens.colors.text.secondary}};return u.default.createElement(p.CosmicBackground,{variant:"ridge",dimmer:!0,__self:b,__source:{fileName:_,lineNumber:458,columnNumber:5}},u.default.createElement(c.SafeAreaView,{style:N.safeArea,__self:b,__source:{fileName:_,lineNumber:459,columnNumber:7}},u.default.createElement(c.View,{style:N.container,__self:b,__source:{fileName:_,lineNumber:460,columnNumber:9}},u.default.createElement(c.View,{style:N.header,__self:b,__source:{fileName:_,lineNumber:462,columnNumber:9}},u.default.createElement(c.TouchableOpacity,{onPress:function(){return T.goBack()},style:N.backButton,accessibilityLabel:"Go back",accessibilityRole:"button",__self:b,__source:{fileName:_,lineNumber:463,columnNumber:11}},u.default.createElement(c.Text,{style:N.backButtonText,__self:b,__source:{fileName:_,lineNumber:469,columnNumber:13}},"← BACK")),u.default.createElement(c.Text,{style:N.title,__self:b,__source:{fileName:_,lineNumber:471,columnNumber:11}},"DIAGNOSTICS"),u.default.createElement(c.TouchableOpacity,{onPress:function(){oe()},style:N.refreshButton,disabled:B,accessibilityLabel:"Refresh diagnostics",accessibilityRole:"button",__self:b,__source:{fileName:_,lineNumber:472,columnNumber:11}},u.default.createElement(c.Text,{style:[N.refreshButtonText,B&&N.refreshButtonTextDisabled],__self:b,__source:{fileName:_,lineNumber:479,columnNumber:13}},B?"...":"↻"))),u.default.createElement(c.ScrollView,{style:N.scrollView,contentContainerStyle:N.scrollContent,__self:b,__source:{fileName:_,lineNumber:491,columnNumber:9}},u.default.createElement(c.View,{style:N.section,__self:b,__source:{fileName:_,lineNumber:495,columnNumber:11}},u.default.createElement(c.Text,{style:N.sectionTitle,__self:b,__source:{fileName:_,lineNumber:496,columnNumber:13}},"SYSTEM STATUS"),S.map(function(e,t){return u.default.createElement(c.View,{key:t,style:N.diagRow,__self:b,__source:{fileName:_,lineNumber:498,columnNumber:15}},u.default.createElement(c.View,{style:N.diagLabelContainer,__self:b,__source:{fileName:_,lineNumber:499,columnNumber:17}},u.default.createElement(c.Text,{style:[N.diagIndicator,{color:le(e.status)}],__self:b,__source:{fileName:_,lineNumber:500,columnNumber:19}},function(e){switch(e){case"ok":return"✓";case"warning":return"⚠";case"error":return"✗";default:return"●"}}(e.status)),u.default.createElement(c.Text,{style:N.diagLabel,__self:b,__source:{fileName:_,lineNumber:508,columnNumber:19}},e.label)),u.default.createElement(c.Text,{style:[N.diagValue,{color:le(e.status)}],numberOfLines:2,__self:b,__source:{fileName:_,lineNumber:510,columnNumber:17}},e.value))})),u.default.createElement(c.View,{style:N.section,__self:b,__source:{fileName:_,lineNumber:523,columnNumber:11}},u.default.createElement(c.Text,{style:N.sectionTitle,__self:b,__source:{fileName:_,lineNumber:524,columnNumber:13}},"SETUP INSTRUCTIONS"),u.default.createElement(c.Text,{style:N.instructionText,__self:b,__source:{fileName:_,lineNumber:525,columnNumber:13}},"To enable Google Tasks/Calendar sync:"),u.default.createElement(c.Text,{style:N.instructionStep,__self:b,__source:{fileName:_,lineNumber:528,columnNumber:13}},"1. Create a Firebase project at console.firebase.google.com"),u.default.createElement(c.Text,{style:N.instructionStep,__self:b,__source:{fileName:_,lineNumber:531,columnNumber:13}},"2. Add Android app with package ID: com.sparkadhd"),u.default.createElement(c.Text,{style:N.instructionStep,__self:b,__source:{fileName:_,lineNumber:534,columnNumber:13}},"3. Download google-services.json to android/app/"),u.default.createElement(c.Text,{style:N.instructionStep,__self:b,__source:{fileName:_,lineNumber:537,columnNumber:13}},"4. Enable Google Tasks API in Google Cloud Console"),u.default.createElement(c.Text,{style:N.instructionStep,__self:b,__source:{fileName:_,lineNumber:540,columnNumber:13}},"5. Set REACT_APP_GOOGLE_WEB_CLIENT_ID environment variable"),u.default.createElement(c.Text,{style:N.instructionStep,__self:b,__source:{fileName:_,lineNumber:543,columnNumber:13}},"6. Rebuild the app")),u.default.createElement(c.View,{style:N.section,__self:b,__source:{fileName:_,lineNumber:546,columnNumber:11}},u.default.createElement(c.Text,{style:N.sectionTitle,__self:b,__source:{fileName:_,lineNumber:547,columnNumber:13}},"DATA BACKUP"),u.default.createElement(c.Text,{style:N.instructionText,__self:b,__source:{fileName:_,lineNumber:548,columnNumber:13}},"Export local data as JSON and import it later to restore this device state."),u.default.createElement(c.Text,{style:N.backupMetaText,__self:b,__source:{fileName:_,lineNumber:552,columnNumber:13}},"LAST EXPORT:"," ",q?new Date(q).toLocaleString():"NEVER"),u.default.createElement(c.View,{style:N.modeSelectorContainer,__self:b,__source:{fileName:_,lineNumber:559,columnNumber:13}},u.default.createElement(c.TouchableOpacity,{onPress:function(){return K("overwrite")},style:[N.modeButton,"overwrite"===U&&N.modeButtonActive],accessibilityRole:"button",accessibilityLabel:"Set import mode to overwrite",testID:"import-mode-overwrite",__self:b,__source:{fileName:_,lineNumber:560,columnNumber:15}},u.default.createElement(c.Text,{style:[N.modeButtonText,"overwrite"===U&&N.modeButtonTextActive],__self:b,__source:{fileName:_,lineNumber:570,columnNumber:17}},"OVERWRITE")),u.default.createElement(c.TouchableOpacity,{onPress:function(){return K("merge")},style:[N.modeButton,"merge"===U&&N.modeButtonActive],accessibilityRole:"button",accessibilityLabel:"Set import mode to merge",testID:"import-mode-merge",__self:b,__source:{fileName:_,lineNumber:579,columnNumber:15}},u.default.createElement(c.Text,{style:[N.modeButtonText,"merge"===U&&N.modeButtonTextActive],__self:b,__source:{fileName:_,lineNumber:589,columnNumber:17}},"MERGE"))),u.default.createElement(c.View,{style:N.backupActionsRow,__self:b,__source:{fileName:_,lineNumber:600,columnNumber:13}},u.default.createElement(c.TouchableOpacity,{testID:"diagnostics-export-backup",onPress:ne,disabled:M,style:[N.backupButton,M&&N.backupButtonDisabled],accessibilityRole:"button",accessibilityLabel:"Export backup JSON",__self:b,__source:{fileName:_,lineNumber:601,columnNumber:15}},u.default.createElement(c.Text,{style:N.backupButtonText,__self:b,__source:{fileName:_,lineNumber:612,columnNumber:17}},"EXPORT JSON")),u.default.createElement(c.TouchableOpacity,{testID:"diagnostics-import-backup",onPress:function(){ae().catch(function(e){$(e instanceof Error?e.message:"Import failed unexpectedly.")})},disabled:M||!P.trim(),style:[N.backupButton,(M||!P.trim())&&N.backupButtonDisabled],accessibilityRole:"button",accessibilityLabel:"Import backup JSON",__self:b,__source:{fileName:_,lineNumber:615,columnNumber:15}},u.default.createElement(c.Text,{style:N.backupButtonText,__self:b,__source:{fileName:_,lineNumber:627,columnNumber:17}},"IMPORT JSON"))),u.default.createElement(c.TextInput,{testID:"diagnostics-backup-input",style:N.backupInput,value:P,onChangeText:V,multiline:!0,placeholder:"Paste backup JSON here",placeholderTextColor:m.Tokens.colors.text.placeholder,textAlignVertical:"top",accessibilityLabel:"Backup JSON input",__self:b,__source:{fileName:_,lineNumber:631,columnNumber:13}}),W?u.default.createElement(c.Text,{style:N.backupStatusText,__self:b,__source:{fileName:_,lineNumber:644,columnNumber:15}},W):null),u.default.createElement(c.View,{style:N.section,__self:b,__source:{fileName:_,lineNumber:649,columnNumber:11}},u.default.createElement(c.Text,{style:N.sectionTitle,__self:b,__source:{fileName:_,lineNumber:650,columnNumber:13}},"APPEARANCE"),u.default.createElement(p.GlowCard,{glow:"linear"===h?"soft":"none",onPress:function(){return x("linear")},style:N.themeOption,accessibilityLabel:"Select Linear theme",accessibilityRole:"button",accessibilityState:{selected:"linear"===h},__self:b,__source:{fileName:_,lineNumber:651,columnNumber:13}},u.default.createElement(c.View,{style:N.themeOptionContent,__self:b,__source:{fileName:_,lineNumber:659,columnNumber:15}},u.default.createElement(c.View,{style:N.themePreview,__self:b,__source:{fileName:_,lineNumber:660,columnNumber:17}},u.default.createElement(c.View,{style:[N.themePreviewBox,{backgroundColor:m.THEME_METADATA.linear.preview.background}],__self:b,__source:{fileName:_,lineNumber:661,columnNumber:19}},u.default.createElement(c.View,{style:[N.themePreviewAccent,{backgroundColor:m.THEME_METADATA.linear.preview.accent}],__self:b,__source:{fileName:_,lineNumber:667,columnNumber:21}}))),u.default.createElement(c.View,{style:N.themeText,__self:b,__source:{fileName:_,lineNumber:675,columnNumber:17}},u.default.createElement(c.Text,{style:N.themeTitle,__self:b,__source:{fileName:_,lineNumber:676,columnNumber:19}},m.THEME_METADATA.linear.label),u.default.createElement(c.Text,{style:N.themeDescription,__self:b,__source:{fileName:_,lineNumber:677,columnNumber:19}},m.THEME_METADATA.linear.description)),"linear"===h&&u.default.createElement(c.Text,{style:N.checkmark,__self:b,__source:{fileName:_,lineNumber:682,columnNumber:19}},"✓"))),u.default.createElement(c.View,{style:{height:8},__self:b,__source:{fileName:_,lineNumber:687,columnNumber:13}}),u.default.createElement(p.GlowCard,{glow:"cosmic"===h?"soft":"none",onPress:function(){return x("cosmic")},style:N.themeOption,accessibilityLabel:"Select Cosmic theme",accessibilityRole:"button",accessibilityState:{selected:"cosmic"===h},__self:b,__source:{fileName:_,lineNumber:689,columnNumber:13}},u.default.createElement(c.View,{style:N.themeOptionContent,__self:b,__source:{fileName:_,lineNumber:697,columnNumber:15}},u.default.createElement(c.View,{style:N.themePreview,__self:b,__source:{fileName:_,lineNumber:698,columnNumber:17}},u.default.createElement(c.View,{style:[N.themePreviewBox,{backgroundColor:m.THEME_METADATA.cosmic.preview.background}],__self:b,__source:{fileName:_,lineNumber:699,columnNumber:19}},u.default.createElement(c.View,{style:[N.themePreviewAccent,{backgroundColor:m.THEME_METADATA.cosmic.preview.accent}],__self:b,__source:{fileName:_,lineNumber:705,columnNumber:21}}))),u.default.createElement(c.View,{style:N.themeText,__self:b,__source:{fileName:_,lineNumber:713,columnNumber:17}},u.default.createElement(c.Text,{style:N.themeTitle,__self:b,__source:{fileName:_,lineNumber:714,columnNumber:19}},m.THEME_METADATA.cosmic.label),u.default.createElement(c.Text,{style:N.themeDescription,__self:b,__source:{fileName:_,lineNumber:715,columnNumber:19}},m.THEME_METADATA.cosmic.description)),"cosmic"===h&&u.default.createElement(c.Text,{style:N.checkmark,__self:b,__source:{fileName:_,lineNumber:720,columnNumber:19}},"✓"))))))))}}}]);