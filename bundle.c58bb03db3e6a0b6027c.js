(self.webpackChunkspark_adhd_rn=self.webpackChunkspark_adhd_rn||[]).push([[39],{30039(e,t,n){var o=n(18772),r=n(66584);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n(16578)),l=o(n(3791)),i=o(n(51750)),s=o(n(26007)),u=o(n(58361)),c=function(e){if("function"==typeof WeakMap){var t=new WeakMap;new WeakMap}return function(e){if(e&&e.__esModule)return e;var n,o,a={__proto__:null,default:e};if(null===e||"object"!=r(e)&&"function"!=typeof e)return a;if(n=t){if(n.has(e))return n.get(e);n.set(e,a)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((o=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(o.get||o.set)?n(a,l,o):a[l]=e[l]);return a}(e)}(n(25602)),m=n(71582),f=o(n(40629)),d=o(n(93400)),p=n(15547),g=n(56045),b=n(46586),_=this,T="C:\\Users\\Steve\\OneDrive\\Desktop\\Github Repos\\spark-adhd-backup\\src\\screens\\FogCutterScreen.tsx";function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){(0,l.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var k=m.StyleSheet.create({container:{flex:1,backgroundColor:"#000000"},scrollContent:{flex:1,alignItems:"center"},content:{flex:1,width:"100%",maxWidth:b.Tokens.layout.maxWidth.prose,padding:b.Tokens.spacing[6]},header:{marginBottom:b.Tokens.spacing[8],alignItems:"center",width:"100%",borderBottomWidth:1,borderColor:"#333333",paddingBottom:b.Tokens.spacing[4]},title:{fontFamily:b.Tokens.type.fontFamily.sans,fontSize:b.Tokens.type["5xl"],fontWeight:"900",color:"#FFFFFF",marginBottom:b.Tokens.spacing[2],letterSpacing:-2,textAlign:"center",textTransform:"uppercase"},subtitle:{fontFamily:b.Tokens.type.fontFamily.mono,fontSize:b.Tokens.type.sm,color:"#666666",textAlign:"center",maxWidth:400,letterSpacing:1,textTransform:"uppercase"},creationCard:{marginBottom:b.Tokens.spacing[8],backgroundColor:"#000000",padding:b.Tokens.spacing[6],borderRadius:0,borderWidth:1,borderColor:"#333333"},creationHeader:{marginBottom:b.Tokens.spacing[5]},cardTitle:{fontFamily:b.Tokens.type.fontFamily.mono,fontSize:b.Tokens.type.sm,fontWeight:"700",color:"#FFFFFF",letterSpacing:1,textTransform:"uppercase"},input:N({backgroundColor:"#050505",borderRadius:0,paddingHorizontal:b.Tokens.spacing[4],color:"#FFFFFF",fontFamily:b.Tokens.type.fontFamily.sans,fontSize:b.Tokens.type.base,marginBottom:b.Tokens.spacing[4],height:52,borderWidth:1,borderColor:"#333333"},m.Platform.select({web:{outlineStyle:"none",transition:"border-color 0.2s ease"}})),inputFocused:N({borderColor:"#FFFFFF",backgroundColor:"#000000"},m.Platform.select({web:{boxShadow:"0 0 0 2px #FFFFFF"}})),addStepRow:{flexDirection:"row",marginBottom:b.Tokens.spacing[4],gap:b.Tokens.spacing[3]},stepInput:N({flex:1,backgroundColor:"#050505",borderRadius:0,paddingHorizontal:b.Tokens.spacing[4],color:"#FFFFFF",fontFamily:b.Tokens.type.fontFamily.sans,fontSize:b.Tokens.type.base,height:b.Tokens.spacing[12],borderWidth:1,borderColor:"#333333"},m.Platform.select({web:{outlineStyle:"none",transition:"border-color 0.2s ease"}})),addButton:{width:b.Tokens.spacing[12],height:b.Tokens.spacing[12],paddingHorizontal:0,justifyContent:"center",alignItems:"center",borderRadius:0},previewContainer:{backgroundColor:"#050505",borderRadius:0,padding:b.Tokens.spacing[5],marginBottom:b.Tokens.spacing[4],borderWidth:1,borderStyle:"dashed",borderColor:"#333333"},previewTitle:{fontFamily:b.Tokens.type.fontFamily.mono,color:"#666666",fontSize:b.Tokens.type.xs,fontWeight:"700",marginBottom:b.Tokens.spacing[4],textTransform:"uppercase",letterSpacing:1},microStep:{flexDirection:"row",alignItems:"center",paddingVertical:b.Tokens.spacing[2]},stepNumber:{backgroundColor:"#111111",color:"#FFFFFF",width:b.Tokens.spacing[6],height:b.Tokens.spacing[6],borderRadius:0,textAlign:"center",lineHeight:b.Tokens.spacing[6],fontSize:b.Tokens.type.xs,fontWeight:"bold",marginRight:b.Tokens.spacing[3],fontFamily:b.Tokens.type.fontFamily.mono},stepText:{fontFamily:b.Tokens.type.fontFamily.sans,color:"#CCCCCC",fontSize:b.Tokens.type.base},saveButton:{marginTop:b.Tokens.spacing[2]},divider:{height:1,backgroundColor:"#333333",width:"100%",marginBottom:b.Tokens.spacing[8]},sectionHeader:{fontFamily:b.Tokens.type.fontFamily.mono,fontSize:b.Tokens.type.sm,fontWeight:"700",color:"#666666",textTransform:"uppercase",letterSpacing:2,marginBottom:b.Tokens.spacing[4]},taskList:{flex:1},listContent:{paddingBottom:b.Tokens.spacing[20]},taskCard:N({backgroundColor:"#000000",borderRadius:0,padding:b.Tokens.spacing[5],marginBottom:-1,borderWidth:1,borderColor:"#333333"},m.Platform.select({web:{transition:"all 0.2s ease",cursor:"pointer"}})),taskCardHovered:{borderColor:"#FFFFFF",zIndex:1,transform:[{translateY:-2}]},taskCardPressed:{borderColor:"#666666"},taskCardCompleted:{opacity:.3,backgroundColor:"#000000",borderColor:"#111111",transform:[{scale:1}]},taskHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:b.Tokens.spacing[2]},taskText:{fontFamily:b.Tokens.type.fontFamily.sans,color:"#FFFFFF",fontSize:b.Tokens.type.lg,fontWeight:"600",flex:1},completed:{textDecorationLine:"line-through",color:"#666666"},doneBadge:{backgroundColor:"#111111",color:"#666666",fontSize:b.Tokens.type.xs,fontWeight:"700",paddingHorizontal:b.Tokens.spacing[2],paddingVertical:2,borderRadius:0,overflow:"hidden",marginLeft:b.Tokens.spacing[2],fontFamily:b.Tokens.type.fontFamily.mono},stepCount:{alignSelf:"flex-start"},stepCountText:{fontFamily:b.Tokens.type.fontFamily.mono,color:"#666666",fontSize:b.Tokens.type.xs,fontWeight:"700",letterSpacing:1},loadingContainer:{padding:b.Tokens.spacing[8],alignItems:"center",gap:b.Tokens.spacing[4]},loadingText:{fontFamily:b.Tokens.type.fontFamily.mono,fontSize:b.Tokens.type.sm,color:"#666666",letterSpacing:1,textTransform:"uppercase"},guideBanner:{backgroundColor:"#111111",borderWidth:1,borderColor:"#CC0000",padding:b.Tokens.spacing[4],marginBottom:b.Tokens.spacing[6],flexDirection:"row",alignItems:"center",justifyContent:"space-between",gap:b.Tokens.spacing[4]},guideContent:{flex:1},guideTitle:{fontFamily:b.Tokens.type.fontFamily.mono,fontSize:b.Tokens.type.xs,fontWeight:"700",color:"#CC0000",marginBottom:b.Tokens.spacing[1],letterSpacing:1},guideText:{fontFamily:b.Tokens.type.fontFamily.sans,fontSize:b.Tokens.type.sm,color:"#FFFFFF",lineHeight:18},guideButton:{paddingVertical:b.Tokens.spacing[2],paddingHorizontal:b.Tokens.spacing[3],borderWidth:1,borderColor:"#333333",backgroundColor:"#000000"},guideButtonPressed:{backgroundColor:"#222222"},guideButtonText:{fontFamily:b.Tokens.type.fontFamily.mono,fontSize:b.Tokens.type.xs,fontWeight:"700",color:"#FFFFFF",textTransform:"uppercase"}});t.default=function(){var e=(0,c.useState)(""),t=(0,u.default)(e,2),n=t[0],o=t[1],r=(0,c.useState)([]),l=(0,u.default)(r,2),b=l[0],y=l[1],F=(0,c.useState)(""),S=(0,u.default)(F,2),x=S[0],C=S[1],E=(0,c.useState)([]),h=(0,u.default)(E,2),w=h[0],v=h[1],O=(0,c.useState)(null),A=(0,u.default)(O,2),B=A[0],I=A[1],P=(0,c.useState)(!0),R=(0,u.default)(P,2),W=R[0],z=R[1],D=(0,c.useState)(!1),V=(0,u.default)(D,2),L=V[0],j=V[1],H=(0,c.useState)(!0),G=(0,u.default)(H,2),M=G[0],K=G[1];(0,c.useEffect)(function(){"android"===m.Platform.OS&&m.UIManager.setLayoutAnimationEnabledExperimental&&m.UIManager.setLayoutAnimationEnabledExperimental(!0);var e,t=(e=(0,s.default)(a.default.mark(function e(){var t,n,o,r,l,i;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=1,Promise.all([f.default.getJSON(f.default.STORAGE_KEYS.tasks),f.default.getJSON(f.default.STORAGE_KEYS.firstSuccessGuideState)]);case 1:t=e.sent,n=(0,u.default)(t,2),o=n[0],r=n[1],K(!!r&&!!r.fogCutterDismissed),o&&Array.isArray(o)&&(l=o.filter(function(e){return Boolean((null==e?void 0:e.id)&&(null==e?void 0:e.text)&&Array.isArray(null==e?void 0:e.microSteps))}),v(l)),e.next=3;break;case 2:e.prev=2,i=e.catch(0),console.error("Failed to load tasks",i);case 3:return e.prev=3,z(!1),e.finish(3);case 4:case"end":return e.stop()}},e,null,[[0,2,3,4]])})),function(){return e.apply(this,arguments)});t()},[]),(0,c.useEffect)(function(){f.default.setJSON(f.default.STORAGE_KEYS.tasks,w)},[w]);var Y,J=function(){x.trim()&&(y([].concat((0,i.default)(b),[x.trim()])),C(""))},U=(Y=(0,s.default)(a.default.mark(function e(){var t,n,o,r,l;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m.LayoutAnimation.configureNext(m.LayoutAnimation.Presets.easeInEaseOut),j(!1),K(!0),e.next=1,f.default.getJSON(f.default.STORAGE_KEYS.firstSuccessGuideState);case 1:if(r=t=e.sent,!(o=null!==r)){e.next=2;break}o=void 0!==t;case 2:if(!o){e.next=3;break}l=t,e.next=4;break;case 3:l={};case 4:return n=l,e.next=5,f.default.setJSON(f.default.STORAGE_KEYS.firstSuccessGuideState,N(N({},n),{},{fogCutterDismissed:!0}));case 5:case"end":return e.stop()}},e)})),function(){return Y.apply(this,arguments)});return c.default.createElement(m.SafeAreaView,{style:k.container,__self:_,__source:{fileName:T,lineNumber:147,columnNumber:5}},c.default.createElement(m.View,{style:k.scrollContent,__self:_,__source:{fileName:T,lineNumber:148,columnNumber:7}},c.default.createElement(m.View,{style:k.content,__self:_,__source:{fileName:T,lineNumber:149,columnNumber:9}},c.default.createElement(m.View,{style:k.header,__self:_,__source:{fileName:T,lineNumber:150,columnNumber:11}},c.default.createElement(m.Text,{style:k.title,__self:_,__source:{fileName:T,lineNumber:151,columnNumber:13}},"FOG CUTTER"),c.default.createElement(m.Text,{style:k.subtitle,__self:_,__source:{fileName:T,lineNumber:152,columnNumber:13}},"BREAK BIG TASKS INTO TINY STEPS.")),c.default.createElement(m.View,{style:k.creationCard,__self:_,__source:{fileName:T,lineNumber:157,columnNumber:11}},c.default.createElement(m.View,{style:k.creationHeader,__self:_,__source:{fileName:T,lineNumber:158,columnNumber:13}},c.default.createElement(m.Text,{style:k.cardTitle,__self:_,__source:{fileName:T,lineNumber:159,columnNumber:15}},"DECOMPOSE A TASK")),c.default.createElement(m.TextInput,{style:[k.input,"main"===B&&k.inputFocused],placeholder:"WHAT FEELS OVERWHELMING?",placeholderTextColor:"#666666",value:n,onChangeText:o,onFocus:function(){return I("main")},onBlur:function(){return I(null)},__self:_,__source:{fileName:T,lineNumber:161,columnNumber:13}}),c.default.createElement(m.View,{style:k.addStepRow,__self:_,__source:{fileName:T,lineNumber:174,columnNumber:13}},c.default.createElement(m.TextInput,{style:[k.stepInput,"step"===B&&k.inputFocused],placeholder:"ADD A MICRO-STEP...",placeholderTextColor:"#666666",value:x,onChangeText:C,onSubmitEditing:J,onFocus:function(){return I("step")},onBlur:function(){return I(null)},__self:_,__source:{fileName:T,lineNumber:175,columnNumber:15}}),c.default.createElement(g.LinearButton,{title:"+",onPress:J,variant:"secondary",style:k.addButton,__self:_,__source:{fileName:T,lineNumber:188,columnNumber:15}})),b.length>0&&c.default.createElement(m.View,{style:k.previewContainer,__self:_,__source:{fileName:T,lineNumber:197,columnNumber:15}},c.default.createElement(m.Text,{style:k.previewTitle,__self:_,__source:{fileName:T,lineNumber:198,columnNumber:17}},'NEXT STEPS FOR "',n,'":'),c.default.createElement(m.FlatList,{data:b,renderItem:function(e){var t=e.item,n=e.index;return c.default.createElement(m.View,{style:k.microStep,__self:_,__source:{fileName:T,lineNumber:140,columnNumber:5}},c.default.createElement(m.Text,{style:k.stepNumber,__self:_,__source:{fileName:T,lineNumber:141,columnNumber:7}},n+1),c.default.createElement(m.Text,{style:k.stepText,__self:_,__source:{fileName:T,lineNumber:142,columnNumber:7}},t))},keyExtractor:function(e,t){return t.toString()},scrollEnabled:!1,__self:_,__source:{fileName:T,lineNumber:201,columnNumber:17}})),c.default.createElement(g.LinearButton,{title:"SAVE TASK",onPress:function(){if(n.trim()&&b.length>0){var e={id:(0,p.generateId)(),text:n,completed:!1,microSteps:(0,i.default)(b)};v(function(t){return[].concat((0,i.default)(t),[e])}),M||L||(d.default.track("fog_cutter_first_task_saved"),m.LayoutAnimation.configureNext(m.LayoutAnimation.Presets.easeInEaseOut),j(!0)),o(""),y([])}},disabled:0===b.length,size:"lg",style:k.saveButton,__self:_,__source:{fileName:T,lineNumber:210,columnNumber:13}})),c.default.createElement(m.View,{style:k.divider,__self:_,__source:{fileName:T,lineNumber:219,columnNumber:11}}),L&&c.default.createElement(m.View,{style:k.guideBanner,__self:_,__source:{fileName:T,lineNumber:222,columnNumber:13}},c.default.createElement(m.View,{style:k.guideContent,__self:_,__source:{fileName:T,lineNumber:223,columnNumber:15}},c.default.createElement(m.Text,{style:k.guideTitle,__self:_,__source:{fileName:T,lineNumber:224,columnNumber:17}},"CLARITY ACHIEVED."),c.default.createElement(m.Text,{style:k.guideText,__self:_,__source:{fileName:T,lineNumber:225,columnNumber:17}},"READY TO FOCUS? START A TIMER IN IGNITE.")),c.default.createElement(m.Pressable,{onPress:U,style:function(e){var t=e.pressed;return[k.guideButton,t&&k.guideButtonPressed]},accessibilityRole:"button",accessibilityLabel:"Dismiss guidance",__self:_,__source:{fileName:T,lineNumber:229,columnNumber:15}},c.default.createElement(m.Text,{style:k.guideButtonText,__self:_,__source:{fileName:T,lineNumber:238,columnNumber:17}},"GOT IT"))),c.default.createElement(m.Text,{style:k.sectionHeader,__self:_,__source:{fileName:T,lineNumber:243,columnNumber:11}},"ACTIVE TASKS"),W?c.default.createElement(m.View,{style:k.loadingContainer,__self:_,__source:{fileName:T,lineNumber:246,columnNumber:13}},c.default.createElement(m.ActivityIndicator,{size:"small",color:"#FFFFFF",__self:_,__source:{fileName:T,lineNumber:247,columnNumber:15}}),c.default.createElement(m.Text,{style:k.loadingText,__self:_,__source:{fileName:T,lineNumber:248,columnNumber:15}},"LOADING TASKS...")):c.default.createElement(m.FlatList,{data:w,keyExtractor:function(e){return e.id},contentContainerStyle:k.listContent,renderItem:function(e){var t=e.item;return c.default.createElement(m.Pressable,{style:function(e){var n=e.pressed,o=e.hovered;return[k.taskCard,t.completed&&k.taskCardCompleted,o&&!t.completed&&k.taskCardHovered,n&&!t.completed&&k.taskCardPressed]},onPress:function(){return e=t.id,void v(function(t){return t.map(function(t){return t.id===e?N(N({},t),{},{completed:!t.completed}):t})});var e},__self:_,__source:{fileName:T,lineNumber:256,columnNumber:17}},c.default.createElement(m.View,{style:k.taskHeader,__self:_,__source:{fileName:T,lineNumber:271,columnNumber:19}},c.default.createElement(m.Text,{style:[k.taskText,t.completed&&k.completed],__self:_,__source:{fileName:T,lineNumber:272,columnNumber:21}},t.text),t.completed&&c.default.createElement(m.Text,{style:k.doneBadge,__self:_,__source:{fileName:T,lineNumber:281,columnNumber:23}},"DONE")),c.default.createElement(m.View,{style:k.stepCount,__self:_,__source:{fileName:T,lineNumber:285,columnNumber:19}},c.default.createElement(m.Text,{style:k.stepCountText,__self:_,__source:{fileName:T,lineNumber:286,columnNumber:21}},t.microSteps.length," MICRO-STEPS")))},style:k.taskList,__self:_,__source:{fileName:T,lineNumber:251,columnNumber:13}}))))}}}]);